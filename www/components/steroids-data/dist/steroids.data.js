!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof global?o=global:"undefined"!=typeof self&&(o=self),(o.steroids||(o.steroids={})).data=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
(function(){var n,t,r,u,e,o,c,i,f,a,l,p,s,d,y;p=_dereq_("lodash-node/modern/objects/pairs"),d=_dereq_("lodash-node/modern/arrays/zipObject"),i=_dereq_("lodash-node/modern/objects/mapValues"),y=_dereq_("data.validation"),t=y.Success,n=y.Failure,a=function(r){var u,e,o,c;return u=[],o=function(){var n,t,o,i;for(i=[],n=0,t=r.length;t>n;n++)o=r[n],e=o[0],c=o[1],i.push(c.fold(function(n){return u=u.concat(n),[e,null]},function(n){return[e,n]}));return i}(),u.length>0?n(u):t(d(o))},c=function(r){var u,e,o,c;return u=[],o=function(){var n,t,o;for(o=[],e=n=0,t=r.length;t>n;e=++n)c=r[e],o.push(c.fold(function(n){return u=u.concat(l(e)(n)),null},function(n){return n}));return o}(),u.length>0?n(u):t(o)},l=function(n){return function(t){var r;return r={},r[n]=t,r}},u=function(n){return Object.prototype.toString.call(n).match(/\[object ([^\]]+)\]/)[1].toLowerCase()},e=function(n){return"[object Array]"===Object.prototype.toString.call(n)},o=function(n){return"[object Object]"===Object.prototype.toString.call(n)},f=function(r){return function(e){var o;return o=u(e),r===o?t(e):n(["Input was of type "+o+" instead of "+r])}},r=function(n){if("function"!=typeof n)throw new Error("Type constructor argument was of type '"+u(n)+"', function expected")},module.exports=s={Any:function(r){return null!=r?t(r):n(["Input was undefined"])},OneOf:function(t){var u,e,o;for(e=0,o=t.length;o>e;e++)u=t[e],r(u);return function(r){var e,o,c,i;for(e=n([]),c=0,i=t.length;i>c;c++){if(u=t[c],o=u(r),o.isSuccess)return o;e=e.ap(o)}return e}},String:f("string"),Boolean:f("boolean"),Number:f("number"),Property:function(n,t){return null==t&&(t=s.Any),r(t),function(r){return t(null!=(null!=r?r[n]:void 0)?r[n]:null).leftMap(function(t){var r;return r={},r[n]=t,r})}},Object:function(n){var t;return t=i(n,function(n,t){return r(n),s.Property(t,n)}),function(n){return a(p(i(t,function(t){return t(n)})))}},List:function(t){return r(t),function(r){var o;return e(r)?c(function(){var n,u,e;for(e=[],n=0,u=r.length;u>n;n++)o=r[n],e.push(t(o));return e}()):n(["Input was of type "+u(r)+" instead of array"])}},Map:function(t){return r(t),function(r){return o(r)?a(p(i(r,function(n,u){return s.Property(u,t)(r)}))):n(["Input was of type "+u(r)+" instead of object"])}},Optional:function(n){return r(n),function(r){return null!=r?n(r):t(null)}},projections:{Property:function(n,t){return null==t&&(t=s.Any),r(t),function(r){return t(r).map(l(n))}}},recursive:function(n){var t;return t=null,function(u){return null==t&&(t=n(),r(t)),t(u)}}}}).call(this);
},{"data.validation":2,"lodash-node/modern/arrays/zipObject":72,"lodash-node/modern/objects/mapValues":110,"lodash-node/modern/objects/pairs":112}],2:[function(_dereq_,module,exports){
(function(){function n(n,t){var e,r=function(u){return n.length>1?function(){var i=u?u.concat():[];return e=t?e||this:this,i.push.apply(i,arguments)<n.length&&arguments.length?r.call(e,i):n.apply(e,i)}:n};return r()}function t(n,t){function e(){}return e.prototype=(n.superclass=t).prototype,(n.prototype=new e).constructor=n,"function"==typeof t.extended&&t.extended(n),n}function e(n,t){var e={}.hasOwnProperty;for(var r in t)e.call(t,r)&&(n[r]=t[r]);return n}var r,u,i;r=function(){function t(){}t.displayName="Validation";var e=t.prototype;return e.Failure=function(n){return new i(n)},e.Success=function(n){return new u(n)},e.fromNullable=function(n){switch(!1){case null==n:return new u(n);default:return new i(n)}},e.isFailure=!1,e.isSuccess=!1,e.of=function(n){return new u(n)},e.ap=function(){throw Error("unimplemented")},e.map=function(){throw Error("unimplemented")},e.toString=function(){throw Error("unimplemented")},e.isEqual=function(){throw Error("unimplemented")},e.get=function(){throw Error("unimplemented")},e.getOrElse=function(){throw Error("unimplemented")},e.orElse=function(){throw Error("unimplemented")},e.merge=function(){return this.value},e.fold=n(function(){throw Error("unimplemented")}),e.swap=function(){throw Error("unimplemented")},e.bimap=n(function(){throw Error("unimplemented")}),e.failureMap=function(){throw Error("unimplemented")},e.leftMap=function(n){return this.failureMap(n)},t}(),u=function(n){function r(n){this.value=n}var u=t((e(r,n).displayName="Success",r),n).prototype;return u.isSuccess=!0,u.ap=function(n){switch(!1){case!n.isFailure:return n;default:return n.map(this.value)}},u.map=function(n){return this.of(n(this.value))},u.toString=function(){return"Validation.Success("+this.value+")"},u.isEqual=function(n){return n.isSuccess&&n.value===this.value},u.get=function(){return this.value},u.getOrElse=function(){return this.value},u.orElse=function(){return this},u.fold=function(n,t){return t(this.value)},u.swap=function(){return new i(this.value)},u.bimap=function(n,t){return new r(t(this.value))},u.failureMap=function(){return this},r}(r),i=function(n){function r(n){this.value=n}var i=t((e(r,n).displayName="Failure",r),n).prototype;return i.isFailure=!0,i.ap=function(n){switch(!1){case!n.isFailure:return new r(this.value.concat(n.value));default:return this}},i.map=function(){return this},i.toString=function(){return"Validation.Failure("+this.value+")"},i.isEqual=function(n){return n.isFailure&&n.value===this.value},i.get=function(){throw new TypeError("Can't extract the value of a Failure(a)")},i.getOrElse=function(n){return n},i.orElse=function(n){return n(this.value)},i.fold=function(n){return n(this.value)},i.swap=function(){return new u(this.value)},i.bimap=function(n){return new r(n(this.value))},i.failureMap=function(n){return new r(n(this.value))},r}(r),module.exports=new r}).call(this);
},{}],3:[function(_dereq_,module,exports){
(function(e,r){function t(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){return e.charAt(0).toLowerCase()+e.slice(1)}function n(){return h.format.apply(h,arguments)}function a(e,r,t,o){if(!v){t=t||r,o=o||a.caller;var i=typeof e;if(i!==r)throw new g.AssertionError({message:n(k,t,r),actual:i,expected:r,operator:"===",stackStartFunction:o})}}function i(e,r,t,o){if(!(v||(t=t||r,o=o||i.caller,e instanceof r)))throw new g.AssertionError({message:n(k,t,r.name),actual:u(e),expected:r.name,operator:"instanceof",stackStartFunction:o})}function u(e){return Object.prototype.toString.call(e).slice(8,-1)}function s(e,r,t){if(!v){if(t=t||r,!Array.isArray(e))throw new g.AssertionError({message:n(F,t,r),actual:typeof e,expected:"array",operator:"Array.isArray",stackStartFunction:s.caller});for(var o=0;o<e.length;o++)a(e[o],r,t,s)}}function c(e,r){a(e,"boolean",r,c)}function f(e,t){if(!r.isBuffer(e))throw new g.AssertionError({message:n(k,t||"","Buffer"),actual:typeof e,expected:"buffer",operator:"Buffer.isBuffer",stackStartFunction:f})}function l(e,r){a(e,"function",r)}function p(e,r){if(a(e,"number",r),!v&&(isNaN(e)||!isFinite(e)))throw new g.AssertionError({message:n(k,r,"number"),actual:e,expected:"number",operator:"isNaN",stackStartFunction:p})}function d(e,r){a(e,"object",r)}function m(e,r){i(e,x,r)}function b(e,r){i(e,Date,r)}function y(e,r){i(e,RegExp,r)}function w(e,r){a(e,"string",r)}function A(e,r){if(w(e,r),!v&&!E.test(e))throw new g.AssertionError({message:n(k,r,"uuid"),actual:"string",expected:"uuid",operator:"test",stackStartFunction:A})}var g=_dereq_("assert"),x=_dereq_("stream").Stream,h=_dereq_("util"),v=e.env.NODE_NDEBUG||!1,E=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/,F="%s ([%s]) required",k="%s (%s) is required";module.exports={bool:c,buffer:f,date:b,func:l,number:p,object:d,regexp:y,stream:m,string:w,uuid:A},Object.keys(module.exports).forEach(function(e){if("buffer"!==e){var r="arrayOf"+t(e);"bool"===e&&(e="boolean"),"func"===e&&(e="function"),module.exports[r]=function(r,t){s(r,e,t)}}}),Object.keys(module.exports).forEach(function(e){var r="optional"+t(e),n=o(e.replace("arrayOf",""));"bool"===n&&(n="boolean"),"func"===n&&(n="function"),module.exports[r]=-1!==e.indexOf("arrayOf")?function(e,r){v||void 0===e||s(e,n,r)}:function(e,r){v||void 0===e||a(e,n,r)}}),Object.keys(g).forEach(function(e){return"AssertionError"===e?void(module.exports[e]=g[e]):void(module.exports[e]=function(){v||g[e].apply(g[e],arguments)})})}).call(this,_dereq_("/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),_dereq_("buffer").Buffer);
},{"/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":56,"assert":43,"buffer":46,"stream":62,"util":71}],4:[function(_dereq_,module,exports){
(function(n){(function(){var t,r,e,u,i,o,s,c,a,f,l,h,p,y,g,m,d,v,b,w,E,S,M,_,A,I,W,k,x,T,O,B,C,D,H,V,P,q,L,z,N,U,j,F,R,Q,Z,$,K,X,G,J,Y,nt,tt,rt,et,ut,it,ot,st,ct,at,ft,lt,ht,pt,yt,gt=[].slice,mt={}.hasOwnProperty,dt=function(n,t){function r(){this.constructor=n}for(var e in t)mt.call(t,e)&&(n[e]=t[e]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},vt=function(n,t){return function(){return n.apply(t,arguments)}};t={toString:function(){return"Bacon"}},t.version="0.7.22",p=("undefined"!=typeof n&&null!==n?n:this).Error,t.fromBinder=function(n,r){return null==r&&(r=pt.id),new h(D(t,"fromBinder",n,r),function(e){var u,i,o;return o=!1,u=function(){return"undefined"!=typeof i&&null!==i?(o||i(),o=!0):void 0},i=n(function(){var n,o,s,c,a,f;for(n=1<=arguments.length?gt.call(arguments,0):[],c=r.apply(null,n),U(c)&&pt.last(c)instanceof l||(c=[c]),s=t.more,a=0,f=c.length;f>a;a++)if(o=c[a],s=e(o=ot(o)),s===t.noMore||o.isEnd())return null!=i?u():t.scheduler.setTimeout(u,0),s;return s}),u})},t.$={asEventStream:function(n,r,e){var u;return F(r)&&(u=[r,null],e=u[0],r=u[1]),lt(this.selector||this,"asEventStream",n,t.fromBinder(function(t){return function(e){return t.on(n,r,e),function(){return t.off(n,r,e)}}}(this),e))}},null!=(yt="undefined"!=typeof jQuery&&null!==jQuery?jQuery:"undefined"!=typeof Zepto&&null!==Zepto?Zepto:null)&&(yt.fn.asEventStream=t.$.asEventStream),t.fromEventTarget=function(n,r,e){var u,i,o,s,c,a;return u=null!=(o=n.addEventListener)?o:null!=(s=n.addListener)?s:n.bind,i=null!=(c=n.removeEventListener)?c:null!=(a=n.removeListener)?a:n.unbind,lt(t,"fromEventTarget",n,r,t.fromBinder(function(t){return u.call(n,r,t),function(){return i.call(n,r,t)}},e))},t.fromPromise=function(n,r){return lt(t,"fromPromise",n,t.fromBinder(function(t){return n.then(t,function(n){return t(new f(n))}),function(){return r&&"function"==typeof n.abort?n.abort():void 0}},function(n){return[n,H()]}))},t.noMore=["<no-more>"],t.more=["<more>"],t.later=function(n,r){return lt(t,"later",n,r,t.sequentially(n,[r]))},t.sequentially=function(n,r){var e;return e=0,lt(t,"sequentially",n,r,t.fromPoll(n,function(){var n;return n=r[e++],e<r.length?n:e===r.length?[n,H()]:H()}))},t.repeatedly=function(n,r){var e;return e=0,lt(t,"repeatedly",n,r,t.fromPoll(n,function(){return r[e++%r.length]}))},t.spy=function(n){return ut.push(n)},ut=[],et=function(n){var t,r,e,u;if(ut.length&&!et.running)try{for(et.running=!0,u=[],r=0,e=ut.length;e>r;r++)t=ut[r],u.push(t(n));return u}finally{delete et.running}},ht=function(n){return function(){var t,r,e,u;return e=arguments[0],t=2<=arguments.length?gt.call(arguments,1):[],"object"==typeof e&&t.length&&(r=e,u=t[0],e=function(){return r[u].apply(r,arguments)},t=t.slice(1)),n.apply(null,[e].concat(gt.call(t)))}},Z=function(n,r){return ht(function(){var e,u,i;return u=arguments[0],e=2<=arguments.length?gt.call(arguments,1):[],i=tt(r,[function(n,t){return u.apply(null,gt.call(n).concat([t]))}]),lt.apply(null,[t,n,u].concat(gt.call(e),[t.combineAsArray(e).flatMap(i)]))})},t.fromCallback=Z("fromCallback",function(){var n,r;return r=arguments[0],n=2<=arguments.length?gt.call(arguments,1):[],t.fromBinder(function(t){return $(r,n)(t),nt},function(n){return[n,H()]})}),t.fromNodeCallback=Z("fromNodeCallback",function(){var n,r;return r=arguments[0],n=2<=arguments.length?gt.call(arguments,1):[],t.fromBinder(function(t){return $(r,n)(t),nt},function(n,t){return n?[new f(n),H()]:[t,H()]})}),t.fromPoll=function(n,r){return lt(t,"fromPoll",n,r,t.fromBinder(function(r){var e;return e=t.scheduler.setInterval(r,n),function(){return t.scheduler.clearInterval(e)}},r))},t.interval=function(n,r){return null==r&&(r={}),lt(t,"interval",n,r,t.fromPoll(n,function(){return Y(r)}))},t.constant=function(n){return new v(D(t,"constant",n),function(t){return t(N(n)),t(H()),nt})},t.never=function(){return lt(t,"never",t.fromArray([]))},t.once=function(n){return lt(t,"once",n,t.fromArray([n]))},t.fromArray=function(n){return A(n),n=T(n),new h(D(t,"fromArray",n),function(r){var e,u,i;for(u=!1,e=t.more;e!==t.noMore&&!u;)pt.empty(n)?(r(H()),e=t.noMore):(i=n.shift(),e=r(ot(i)));return function(){return u=!0}})},t.mergeAll=function(){var n;return n=1<=arguments.length?gt.call(arguments,0):[],U(n[0])&&(n=n[0]),n.length?new h(D.apply(null,[t,"mergeAll"].concat(gt.call(n))),function(r){var e,u,i;return e=0,i=function(u){return function(i){return u.subscribeInternal(function(u){var o;return u.isEnd()?(e++,e===n.length?r(H()):t.more):(o=r(u),o===t.noMore&&i(),o)})}},u=pt.map(i,n),O.apply(null,u)}):t.never()},t.zipAsArray=function(){var n;return n=1<=arguments.length?gt.call(arguments,0):[],U(n[0])&&(n=n[0]),lt.apply(null,[t,"zipAsArray"].concat(gt.call(n),[t.zipWith(n,function(){var n;return n=1<=arguments.length?gt.call(arguments,0):[]})]))},t.zipWith=function(){var n,r,e;return n=arguments[0],r=2<=arguments.length?gt.call(arguments,1):[],F(n)||(e=[n,r[0]],r=e[0],n=e[1]),r=pt.map(function(n){return n.toEventStream()},r),lt.apply(null,[t,"zipWith",n].concat(gt.call(r),[t.when(r,n)]))},t.groupSimultaneous=function(){var n,e,u;return u=1<=arguments.length?gt.call(arguments,0):[],1===u.length&&U(u[0])&&(u=u[0]),e=function(){var t,e,i;for(i=[],t=0,e=u.length;e>t;t++)n=u[t],i.push(new r(n));return i}(),lt.apply(null,[t,"groupSimultaneous"].concat(gt.call(u),[t.when(e,function(){var n;return n=1<=arguments.length?gt.call(arguments,0):[]})]))},t.combineAsArray=function(){var n,r,e,u,i,o,s;for(i=1<=arguments.length?gt.call(arguments,0):[],1===i.length&&U(i[0])&&(i=i[0]),n=o=0,s=i.length;s>o;n=++o)u=i[n],R(u)||(i[n]=t.constant(u));return i.length?(e=function(){var n,t,e;for(e=[],n=0,t=i.length;t>n;n++)r=i[n],e.push(new E(r,!0,r.subscribeInternal));return e}(),lt.apply(null,[t,"combineAsArray"].concat(gt.call(i),[t.when(e,function(){var n;return n=1<=arguments.length?gt.call(arguments,0):[]}).toProperty()]))):t.constant([])},t.onValues=function(){var n,r,e;return r=2<=arguments.length?gt.call(arguments,0,e=arguments.length-1):(e=0,[]),n=arguments[e++],t.combineAsArray(r).onValues(n)},t.combineWith=function(){var n,r;return n=arguments[0],r=2<=arguments.length?gt.call(arguments,1):[],lt.apply(null,[t,"combineWith",n].concat(gt.call(r),[t.combineAsArray(r).map(function(t){return n.apply(null,t)})]))},t.combineTemplate=function(n){var r,e,u,i,o,s,c,a,f,l;return c=[],l=[],s=function(n){return n[n.length-1]},f=function(n,t,r){return s(n)[t]=r},r=function(n,t){return function(r,e){return f(r,n,e[t])}},o=function(n,t){return function(r){return f(r,n,t)}},a=function(n){return U(n)?[]:{}},u=function(n,t){var e,u;return R(t)?(l.push(t),c.push(r(n,l.length-1))):t!==Object(t)||"function"==typeof t||t instanceof RegExp||t instanceof Date?c.push(o(n,t)):(u=function(n){return function(r){var e;return e=a(t),f(r,n,e),r.push(e)}},e=function(n){return n.pop()},c.push(u(n)),i(t),c.push(e))},i=function(n){return pt.each(n,u)},i(n),e=function(t){var r,e,u,i,o;for(u=a(n),r=[u],i=0,o=c.length;o>i;i++)(e=c[i])(r,t);return u},lt(t,"combineTemplate",n,t.combineAsArray(l).map(e))},t.retry=function(n){var r,e,u,i,o,s;if(!F(n.source))throw new p("'source' option has to be a function");return s=n.source,i=n.retries||0,u=n.maxRetries||i,r=n.delay||function(){return 0},e=n.isRetryable||function(){return!0},o=function(n){var o,c;return c={source:s,retries:i-1,maxRetries:u,delay:r,isRetryable:e},o=function(){return t.retry(c)},t.later(r(n)).filter(!1).concat(t.once().flatMap(o))},lt(t,"retry",n,s().flatMapError(function(n){return e(n)&&i>0?o({error:n,retriesDone:u-i}):t.once(new t.Error(n))}))},V=0,l=function(){function n(){this.id=++V}return n.prototype.isEvent=function(){return!0},n.prototype.isEnd=function(){return!1},n.prototype.isInitial=function(){return!1},n.prototype.isNext=function(){return!1},n.prototype.isError=function(){return!1},n.prototype.hasValue=function(){return!1},n.prototype.filter=function(){return!0},n.prototype.inspect=function(){return this.toString()},n.prototype.log=function(){return this.toString()},n}(),g=function(n){function t(n){t.__super__.constructor.call(this),this.value=F(n)?pt.cached(n):pt.always(n)}return dt(t,n),t.prototype.isNext=function(){return!0},t.prototype.hasValue=function(){return!0},t.prototype.fmap=function(n){var t;return t=this.value,this.apply(function(){return n(t())})},t.prototype.apply=function(n){return new t(n)},t.prototype.filter=function(n){return n(this.value())},t.prototype.toString=function(){return pt.toString(this.value())},t.prototype.log=function(){return this.value()},t}(l),y=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return dt(t,n),t.prototype.isInitial=function(){return!0},t.prototype.isNext=function(){return!1},t.prototype.apply=function(n){return new t(n)},t.prototype.toNext=function(){return new g(this.value)},t}(g),a=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return dt(t,n),t.prototype.isEnd=function(){return!0},t.prototype.fmap=function(){return this},t.prototype.apply=function(){return this},t.prototype.toString=function(){return"<end>"},t}(l),f=function(n){function t(n){this.error=n}return dt(t,n),t.prototype.isError=function(){return!0},t.prototype.fmap=function(){return this},t.prototype.apply=function(){return this},t.prototype.toString=function(){return"<error> "+pt.toString(this.error)},t}(l),z=0,d=function(){function n(n){this.flatMapError=vt(this.flatMapError,this),this.id=++z,lt(n,this),this.initialDesc=this.desc}return n.prototype.onValue=function(){var n;return n=K(arguments),this.subscribe(function(t){return t.hasValue()?n(t.value()):void 0})},n.prototype.onValues=function(n){return this.onValue(function(t){return n.apply(null,t)})},n.prototype.onError=function(){var n;return n=K(arguments),this.subscribe(function(t){return t.isError()?n(t.error):void 0})},n.prototype.onEnd=function(){var n;return n=K(arguments),this.subscribe(function(t){return t.isEnd()?n():void 0})},n.prototype.errors=function(){return lt(this,"errors",this.filter(function(){return!1}))},n.prototype.filter=function(){var n,r;return r=arguments[0],n=2<=arguments.length?gt.call(arguments,1):[],C(this,r,n,function(n){return lt(this,"filter",n,this.withHandler(function(r){return r.filter(n)?this.push(r):t.more}))})},n.prototype.takeWhile=function(){var n,r;return r=arguments[0],n=2<=arguments.length?gt.call(arguments,1):[],C(this,r,n,function(n){return lt(this,"takeWhile",n,this.withHandler(function(r){return r.filter(n)?this.push(r):(this.push(H()),t.noMore)}))})},n.prototype.endOnError=function(){var n,t;return t=arguments[0],n=2<=arguments.length?gt.call(arguments,1):[],null==t&&(t=!0),C(this,t,n,function(n){return lt(this,"endOnError",this.withHandler(function(t){return t.isError()&&n(t.error)?(this.push(t),this.push(H())):this.push(t)}))})},n.prototype.take=function(n){return 0>=n?t.never():lt(this,"take",n,this.withHandler(function(r){return r.hasValue()?(n--,n>0?this.push(r):(0===n&&this.push(r),this.push(H()),t.noMore)):this.push(r)}))},n.prototype.map=function(){var n,t;return t=arguments[0],n=2<=arguments.length?gt.call(arguments,1):[],t instanceof v?t.sampledBy(this,L):C(this,t,n,function(n){return lt(this,"map",n,this.withHandler(function(t){return this.push(t.fmap(n))}))})},n.prototype.mapError=function(){var n;return n=K(arguments),lt(this,"mapError",n,this.withHandler(function(t){return this.push(t.isError()?Y(n(t.error)):t)}))},n.prototype.mapEnd=function(){var n;return n=K(arguments),lt(this,"mapEnd",n,this.withHandler(function(r){return r.isEnd()?(this.push(Y(n(r))),this.push(H()),t.noMore):this.push(r)}))},n.prototype.doAction=function(){var n;return n=K(arguments),lt(this,"doAction",n,this.withHandler(function(t){return t.hasValue()&&n(t.value()),this.push(t)}))},n.prototype.skip=function(n){return lt(this,"skip",n,this.withHandler(function(r){return r.hasValue()&&n>0?(n--,t.more):this.push(r)}))},n.prototype.skipDuplicates=function(n){return null==n&&(n=function(n,t){return n===t}),lt(this,"skipDuplicates",this.withStateMachine(m,function(t,r){return r.hasValue()?r.isInitial()||t===m||!n(t.get(),r.value())?[new w(r.value()),[r]]:[t,[]]:[t,[r]]}))},n.prototype.skipErrors=function(){return lt(this,"skipErrors",this.withHandler(function(n){return n.isError()?t.more:this.push(n)}))},n.prototype.withStateMachine=function(n,r){var e;return e=n,lt(this,"withStateMachine",n,r,this.withHandler(function(n){var u,i,o,s,c,a,f;for(u=r(e,n),i=u[0],s=u[1],e=i,c=t.more,a=0,f=s.length;f>a;a++)if(o=s[a],c=this.push(o),c===t.noMore)return c;return c}))},n.prototype.scan=function(n,r,e){var u,i,o,s;return null==e&&(e={}),i=it(r),r=e.lazyF?i:function(n,t){return i(n(),t())},u=at(n).map(function(n){return pt.always(n)}),s=function(n){return function(i){var s,c,a,f;return s=!1,f=nt,c=t.more,a=function(){return s?void 0:u.forEach(function(n){return s=!0,c=i(new y(n)),c===t.noMore?(f(),f=nt):void 0})},f=n.subscribeInternal(function(n){var o,f;return n.hasValue()?s&&n.isInitial()?t.more:(n.isInitial()||a(),s=!0,f=u.getOrElse(function(){return void 0}),o=pt.cached(function(){return r(f,n.value)}),u=new w(o),e.eager&&o(),i(n.apply(o))):(n.isEnd()&&(c=a()),c!==t.noMore?i(n):void 0)}),S.whenDoneWith(o,a),f}}(this),o=new v(D(this,"scan",n,r),s)},n.prototype.fold=function(n,t,r){return lt(this,"fold",n,t,this.scan(n,t,r).sampledBy(this.filter(!1).mapEnd().toProperty()))},n.prototype.zip=function(n,r){return null==r&&(r=Array),lt(this,"zip",n,t.zipWith([this,n],r))},n.prototype.diff=function(n,t){return t=it(t),lt(this,"diff",n,t,this.scan([n],function(n,r){return[r,t(n[0],r)]}).filter(function(n){return 2===n.length}).map(function(n){return n[1]}))},n.prototype.flatMap=function(){return q(this,J(arguments))},n.prototype.flatMapFirst=function(){return q(this,J(arguments),!0)},n.prototype.flatMapWithConcurrencyLimit=function(){var n,t;return t=arguments[0],n=2<=arguments.length?gt.call(arguments,1):[],lt.apply(null,[this,"flatMapWithConcurrencyLimit",t].concat(gt.call(n),[q(this,J(n),!1,t)]))},n.prototype.flatMapLatest=function(){var n,t;return n=J(arguments),t=this.toEventStream(),lt(this,"flatMapLatest",n,t.flatMap(function(r){return G(n(r)).takeUntil(t)}))},n.prototype.flatMapError=function(n){return lt(this,"flatMapError",n,this.mapError(function(n){return new t.Error(n)}).flatMap(function(r){return r instanceof t.Error?n(r.error):t.once(r)}))},n.prototype.flatMapConcat=function(){return lt.apply(null,[this,"flatMapConcat"].concat(gt.call(arguments),[this.flatMapWithConcurrencyLimit.apply(this,[1].concat(gt.call(arguments)))]))},n.prototype.bufferingThrottle=function(n){return lt(this,"bufferingThrottle",n,this.flatMapConcat(function(r){return t.once(r).concat(t.later(n).filter(!1))}))},n.prototype.not=function(){return lt(this,"not",this.map(function(n){return!n}))},n.prototype.log=function(){var n;return n=1<=arguments.length?gt.call(arguments,0):[],this.subscribe(function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log.apply(console,gt.call(n).concat([t.log()])):void 0}),this},n.prototype.slidingWindow=function(n,t){return null==t&&(t=0),lt(this,"slidingWindow",n,t,this.scan([],function(t,r){return t.concat([r]).slice(-n)}).filter(function(n){return n.length>=t}))},n.prototype.combine=function(n,r){var e;return e=it(r),lt(this,"combine",n,r,t.combineAsArray(this,n).map(function(n){return e(n[0],n[1])}))},n.prototype.decode=function(n){return lt(this,"decode",n,this.combine(t.combineTemplate(n),function(n,t){return t[n]}))},n.prototype.awaiting=function(n){return lt(this,"awaiting",n,t.groupSimultaneous(this,n).map(function(n){var t,r;return t=n[0],r=n[1],0===r.length}).toProperty(!1).skipDuplicates())},n.prototype.name=function(n){return this._name=n,this},n.prototype.withDescription=function(){return D.apply(null,arguments).apply(this)},n.prototype.dependsOn=function(n){return o.dependsOn(this,n)},n.prototype.toString=function(){return this._name?this._name:this.desc.toString()},n.prototype.internalDeps=function(){return this.initialDesc.deps()},n}(),d.prototype.reduce=d.prototype.fold,d.prototype.assign=d.prototype.onValue,d.prototype.inspect=d.prototype.toString,q=function(n,r,e,i){var s,c;return s=[n],c=new h(D(n,"flatMap"+(e?"First":""),r),function(c){var a,f,l,h,p;return l=new u,h=[],p=function(n){var e;return e=G(r(n.value())),s.push(e),o.invalidate(),l.add(function(n,r){return e.subscribeInternal(function(u){var i;return u.isEnd()?(pt.remove(e,s),o.invalidate(),f(),a(r),t.noMore):(u instanceof y&&(u=u.toNext()),i=c(u),i===t.noMore&&n(),i)})})},f=function(){var n;return n=h.shift(),n?p(n):void 0},a=function(n){return n(),l.empty()?c(H()):void 0},l.add(function(r,u){return n.subscribeInternal(function(n){return n.isEnd()?a(u):n.isError()?c(n):e&&l.count()>1?t.more:l.unsubscribed?t.noMore:i&&l.count()>i?h.push(n):p(n)})}),l.unsubscribe}),c.internalDeps=function(){return s},c},h=function(n){function r(n,t){var e;F(n)&&(t=n,n=[]),r.__super__.constructor.call(this,n),W(t),e=new c(t),this.subscribeInternal=e.subscribe,this.subscribe=S.wrappedSubscribe(this),this.hasSubscribers=e.hasSubscribers,et(this)}return dt(r,n),r.prototype.delay=function(n){return lt(this,"delay",n,this.flatMap(function(r){return t.later(n,r)}))},r.prototype.debounce=function(n){return lt(this,"debounce",n,this.flatMapLatest(function(r){return t.later(n,r)}))},r.prototype.debounceImmediate=function(n){return lt(this,"debounceImmediate",n,this.flatMapFirst(function(r){return t.once(r).concat(t.later(n).filter(!1))}))},r.prototype.throttle=function(n){return lt(this,"throttle",n,this.bufferWithTime(n).map(function(n){return n[n.length-1]}))},r.prototype.bufferWithTime=function(n){return lt(this,"bufferWithTime",n,this.bufferWithTimeOrCount(n,Number.MAX_VALUE))},r.prototype.bufferWithCount=function(n){return lt(this,"bufferWithCount",n,this.bufferWithTimeOrCount(void 0,n))},r.prototype.bufferWithTimeOrCount=function(n,t){var r;return r=function(r){return r.values.length===t?r.flush():void 0!==n?r.schedule():void 0},lt(this,"bufferWithTimeOrCount",n,t,this.buffer(n,r,r))},r.prototype.buffer=function(n,r,e){var u,i,o;return null==r&&(r=function(){}),null==e&&(e=function(){}),u={scheduled:!1,end:null,values:[],flush:function(){var n;if(this.scheduled=!1,this.values.length>0){if(n=this.push(Y(this.values)),this.values=[],null!=this.end)return this.push(this.end);if(n!==t.noMore)return e(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){return this.scheduled?void 0:(this.scheduled=!0,n(function(n){return function(){return n.flush()}}(this)))}},o=t.more,F(n)||(i=n,n=function(n){return t.scheduler.setTimeout(n,i)}),lt(this,"buffer",this.withHandler(function(n){return u.push=this.push,n.isError()?o=this.push(n):n.isEnd()?(u.end=n,u.scheduled||u.flush()):(u.values.push(n.value()),r(u)),o}))},r.prototype.merge=function(n){var r;return I(n),r=this,lt(r,"merge",n,t.mergeAll(this,n))},r.prototype.toProperty=function(n){return 0===arguments.length&&(n=m),lt(this,"toProperty",n,this.scan(n,Q,{lazyF:!0}))},r.prototype.toEventStream=function(){return this},r.prototype.sampledBy=function(n,t){return lt(this,"sampledBy",n,t,this.toProperty().sampledBy(n,t))},r.prototype.concat=function(n){var t;return t=this,new r(D(t,"concat",n),function(r){var e,u;return u=nt,e=t.subscribeInternal(function(t){return t.isEnd()?u=n.subscribeInternal(r):r(t)}),function(){return e(),u()}})},r.prototype.takeUntil=function(n){var r;return r={},lt(this,"takeUntil",n,t.groupSimultaneous(this.mapEnd(r),n.skipErrors()).withHandler(function(e){var u,i,o,s,c,a;if(e.hasValue()){if(a=e.value(),u=a[0],n=a[1],n.length)return this.push(H());for(i=t.more,s=0,c=u.length;c>s;s++)o=u[s],i=this.push(o===r?H():Y(o));return i}return this.push(e)}))},r.prototype.skipUntil=function(n){var t;return t=n.take(1).map(!0).toProperty(!1),lt(this,"skipUntil",n,this.filter(t))},r.prototype.skipWhile=function(){var n,r,e;return r=arguments[0],n=2<=arguments.length?gt.call(arguments,1):[],e=!1,C(this,r,n,function(n){return lt(this,"skipWhile",n,this.withHandler(function(r){return!e&&r.hasValue()&&n(r.value())?t.more:(r.hasValue()&&(e=!0),this.push(r))}))})},r.prototype.holdWhen=function(n){var r,e,u;return u=n.startWith(!1),e=u.filter(function(n){return!n}),r=u.filter(pt.id),lt(this,"holdWhen",n,this.filter(!1).merge(u.flatMapConcat(function(n){return function(u){return u?n.scan([],function(n,t){return n.concat(t)},{eager:!0}).sampledBy(e).take(1).flatMap(t.fromArray):n.takeUntil(r)}}(this))))},r.prototype.startWith=function(n){return lt(this,"startWith",n,t.once(n).concat(this))},r.prototype.withHandler=function(n){var t;return t=new c(this.subscribeInternal,n),new r(D(this,"withHandler",n),t.subscribe)},r}(d),v=function(n){function r(n,t,e){F(n)&&(e=t,t=n,n=[]),r.__super__.constructor.call(this,n),W(t),this.subscribeInternal=e===!0?t:new b(this,t,e).subscribe,this.subscribe=S.wrappedSubscribe(this),et(this)}return dt(r,n),r.prototype.sampledBy=function(n,e){var u,i,o,s,c;return null!=e?e=it(e):(u=!0,e=function(n){return n()}),c=new E(this,!1,this.subscribeInternal,u),o=new E(n,!0,n.subscribeInternal,u),s=t.when([c,o],e),i=n instanceof r?s.toProperty():s,lt(this,"sampledBy",n,e,i)},r.prototype.sample=function(n){return lt(this,"sample",n,this.sampledBy(t.interval(n,{})))},r.prototype.changes=function(){return new h(D(this,"changes"),function(n){return function(t){return n.subscribeInternal(function(n){return n.isInitial()?void 0:t(n)})}}(this))},r.prototype.withHandler=function(n){return new r(D(this,"withHandler",n),this.subscribeInternal,n)},r.prototype.toProperty=function(){return k(arguments),this},r.prototype.toEventStream=function(){return new h(D(this,"toEventStream"),function(n){return function(t){return n.subscribeInternal(function(n){return n.isInitial()&&(n=n.toNext()),t(n)})}}(this))},r.prototype.and=function(n){return lt(this,"and",n,this.combine(n,function(n,t){return n&&t}))},r.prototype.or=function(n){return lt(this,"or",n,this.combine(n,function(n,t){return n||t}))},r.prototype.delay=function(n){return this.delayChanges("delay",n,function(t){return t.delay(n)})},r.prototype.debounce=function(n){return this.delayChanges("debounce",n,function(t){return t.debounce(n)})},r.prototype.throttle=function(n){return this.delayChanges("throttle",n,function(t){return t.throttle(n)})},r.prototype.delayChanges=function(){var n,t,r;return n=2<=arguments.length?gt.call(arguments,0,r=arguments.length-1):(r=0,[]),t=arguments[r++],lt.apply(null,[this].concat(gt.call(n),[M(this,t(this.changes()))]))},r.prototype.takeUntil=function(n){var t;return t=this.changes().takeUntil(n),lt(this,"takeUntil",n,M(this,t))},r.prototype.startWith=function(n){return lt(this,"startWith",n,this.scan(n,function(n,t){return t}))},r.prototype.bufferingThrottle=function(){var n;return(n=r.__super__.bufferingThrottle.apply(this,arguments)).bufferingThrottle.apply(n,arguments).toProperty()},r}(d),C=function(n,t,r,e){var u;return t instanceof v?(u=t.sampledBy(n,function(n,t){return[n,t]}),e.apply(u,[function(n){var t,r;return t=n[0],r=n[1],t}]).map(function(n){var t,r;return t=n[0],r=n[1]})):(t=$(t,r),e.apply(n,[t]))},M=function(n,r){var e;return e=new h(D(n,"justInitValue"),function(r){var u,i;return i=null,u=n.subscribeInternal(function(n){return n.hasValue()&&(i=n),t.noMore}),S.whenDoneWith(e,function(){return null!=i&&r(i),r(H())}),u}),e.concat(r).toProperty()},c=function(){function n(n,r){var e,u,i,o,s,c,a,f,l,h;null==n&&(n=function(){return nt}),f=[],c=[],s=!1,u=!1,this.hasSubscribers=function(){return f.length>0},i=null,l=nt,a=function(n){return f=pt.without(n,f)},h=null,e=function(){var n,t,r,e,u;if(null!=h){for(t=h,h=null,u=[],r=0,e=t.length;e>r;r++)n=t[r],u.push(n());return u}},o=function(n){var r,u,o,h,p,y;if(s)return c.push(n),t.more;if(n!==i){n.isError()&&(i=n),o=!1;try{for(s=!0,h=f,p=0,y=h.length;y>p;p++)u=h[p],r=u.sink(n),(r===t.noMore||n.isEnd())&&a(u);o=!0}finally{s=!1,o||(c=[])}for(o=!0;c.length;)n=c.shift(),this.push(n);return e(n),this.hasSubscribers()?t.more:(l(),t.noMore)}},this.push=function(n){return function(t){return S.inTransaction(t,n,o,[t])}}(this),null==r&&(r=function(n){return this.push(n)}),this.handleEvent=function(n){return function(t){return t.isEnd()&&(u=!0),r.apply(n,[t])}}(this),this.subscribe=function(t){return function(r){var e,i;return u?(r(H()),nt):(W(r),e={sink:r},f.push(e),1===f.length&&(i=n(t.handleEvent),l=function(){return i(),l=nt}),W(l),function(){return a(e),t.hasSubscribers()?void 0:l()})}}(this)}return n}(),b=function(n){function r(n,e,u){var i,o,s,c;r.__super__.constructor.call(this,e,u),i=m,o=void 0,c=this.push,e=this.subscribe,s=!1,this.push=function(n){return function(t){return t.isEnd()&&(s=!0),t.hasValue()&&(i=new w(t),o=S.currentEventId()),c.apply(n,[t])}}(this),this.subscribe=function(r){return function(u){var c,a,f,l,h;return a=!1,l=t.more,f=function(){return l===t.noMore?nt:s?(u(H()),nt):e.apply(this,[u])},i.isDefined&&(r.hasSubscribers()||s)?(c=S.currentEventId(),h=o,!s&&h&&c&&c!==h?(S.whenDoneWith(n,function(){return o===h?u(N(i.get().value())):void 0}),f()):(S.inTransaction(void 0,r,function(){return l=u(N(i.get().value()))},[]),f())):f()}}(this)}return dt(r,n),r}(c),e=function(n){function r(){var n,e,u,i,o,s,c,a;u=void 0,s=[],n=!1,e=function(n){return function(r){return r.isEnd()?(a(n),t.noMore):u(r)}},c=function(){var n,t,r,e;for(e=[],t=0,r=s.length;r>t;t++)n=s[t],e.push("function"==typeof n.unsub?n.unsub():void 0);return e},o=function(n){return n.unsub=n.input.subscribeInternal(e(n.input))},a=function(n){var t,r,e,u;for(t=e=0,u=s.length;u>e;t=++e)if(r=s[t],r.input===n)return"function"==typeof r.unsub&&r.unsub(),void s.splice(t,1)},i=function(n){var t,r,e,i;for(u=n,i=T(s),r=0,e=i.length;e>r;r++)t=i[r],o(t);return c},r.__super__.constructor.call(this,D(t,"Bus"),i),this.plug=function(t){var r;if(!n)return r={input:t},s.push(r),null!=u&&o(r),function(){return a(t)}},this.push=function(n){return"function"==typeof u?u(Y(n)):void 0},this.error=function(n){return"function"==typeof u?u(new f(n)):void 0},this.end=function(){return n=!0,c(),"function"==typeof u?u(H()):void 0}}return dt(r,n),r}(h),E=function(){function n(n,t,r,e){this.obs=n,this.sync=t,this.subscribe=r,this.lazy=null!=e?e:!1,this.queue=[],null==this.subscribe&&(this.subscribe=this.obs.subscribeInternal)}return n.prototype.toString=function(){return this.obs.toString.call(this)},n.prototype.markEnded=function(){return this.ended=!0},n.prototype.consume=function(){return this.lazy?pt.always(this.queue[0]):this.queue[0]},n.prototype.push=function(n){return this.queue=[n]},n.prototype.mayHave=function(){return!0},n.prototype.hasAtLeast=function(){return this.queue.length},n.prototype.flatten=!0,n}(),i=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return dt(t,n),t.prototype.consume=function(){return this.queue.shift()},t.prototype.push=function(n){return this.queue.push(n)},t.prototype.mayHave=function(n){return!this.ended||this.queue.length>=n},t.prototype.hasAtLeast=function(n){return this.queue.length>=n},t.prototype.flatten=!1,t}(E),r=function(n){function t(n){this.obs=n,t.__super__.constructor.call(this,this.obs,!0,this.obs.subscribeInternal)}return dt(t,n),t.prototype.consume=function(){var n;return n=this.queue,this.queue=[],function(){return n}},t.prototype.push=function(n){return this.queue.push(n())},t.prototype.hasAtLeast=function(){return!0},t}(E),E.isTrigger=function(n){return n instanceof E?n.sync:n instanceof h},E.fromObservable=function(n){return n instanceof E?n:n instanceof v?new E(n,!1):new i(n,!0)},D=function(){var n,t,r;return t=arguments[0],r=arguments[1],n=3<=arguments.length?gt.call(arguments,2):[],(t||r)instanceof s?t||r:new s(t,r,n)},P=function(n){return U(n)?pt.flatMap(P,n):R(n)?[n]:n instanceof E?[n.obs]:[]},s=function(){function n(n,t,r){this.context=n,this.method=t,this.args=r,this.cached=null}return n.prototype.deps=function(){return this.cached||(this.cached=P([this.context].concat(this.args)))},n.prototype.apply=function(n){return n.desc=this,n},n.prototype.toString=function(){return pt.toString(this.context)+"."+pt.toString(this.method)+"("+pt.map(pt.toString,this.args)+")"},n}(),lt=function(){var n,t,r;return n=2<=arguments.length?gt.call(arguments,0,r=arguments.length-1):(r=0,[]),t=arguments[r++],D.apply(null,n).apply(t)},t.when=function(){var n,r,e,u,i,o,s,c,a,f,l,p,y,g,m,d,v,b,w,M;if(f=1<=arguments.length?gt.call(arguments,0):[],0===f.length)return t.never();for(i=f.length,m="when: expecting arguments in the form (Observable+,function)+",_(m,i%2===0),y=[],a=[],r=0;i>r;){for(c=pt.toArray(f[r]),n=f[r+1],s={f:F(n)?n:function(){return n},ixs:[]},g=!1,d=0,b=c.length;b>d;d++){for(p=c[d],e=pt.indexOf(y,p),g||(g=E.isTrigger(p)),0>e&&(y.push(p),e=y.length-1),M=s.ixs,v=0,w=M.length;w>v;v++)u=M[v],u.index===e&&u.count++;s.ixs.push({index:e,count:1})}_("At least one EventStream required",g||!c.length),c.length>0&&a.push(s),r+=2}return y.length?(y=pt.map(E.fromObservable,y),o=pt.any(y,function(n){return n.flatten})&&B(pt.map(function(n){return n.obs},y)),l=new h(D.apply(null,[t,"when"].concat(gt.call(f))),function(n){var e,u,i,s,c,f,h;return h=[],i=!1,s=function(n){var t,e,u;for(u=n.ixs,t=0,e=u.length;e>t;t++)if(r=u[t],!y[r.index].hasAtLeast(r.count))return!1;return!0},u=function(n){return!n.sync||n.ended},e=function(n){var t,e,u;for(u=n.ixs,t=0,e=u.length;e>t;t++)if(r=u[t],!y[r.index].mayHave(r.count))return!0},c=function(n){return!n.source.flatten},f=function(f){return function(p){var g,m,d;return m=function(){return S.whenDoneWith(l,g)},d=function(){var e,u,i,o,f,l;if(!(h.length>0))return t.more;for(i=t.more,o=h.pop(),f=0,l=a.length;l>f;f++)if(u=a[f],s(u))return e=function(){var n,t,e,i;for(e=u.ixs,i=[],n=0,t=e.length;t>n;n++)r=e[n],i.push(y[r.index].consume());return i}(),i=n(o.e.apply(function(){var n,t;return t=function(){var t,r,u;for(u=[],t=0,r=e.length;r>t;t++)n=e[t],u.push(n());return u}(),u.f.apply(u,t)})),h.length&&(h=pt.filter(c,h)),i===t.noMore?i:d()},g=function(){var r;return r=d(),i&&(i=!1,(pt.all(y,u)||pt.all(a,e))&&(r=t.noMore,n(H()))),r===t.noMore&&p(),r},f.subscribe(function(r){var e;return r.isEnd()?(i=!0,f.markEnded(),m()):r.isError()?e=n(r):(f.push(r.value),f.sync&&(h.push({source:f,e:r}),o||S.hasWaiters()?m():g())),e===t.noMore&&p(),e||t.more})}},O.apply(null,function(){var n,t,r;for(r=[],n=0,t=y.length;t>n;n++)p=y[n],r.push(f(p));return r}())})):t.never()},B=function(n,r){var e;return null==r&&(r=[]),e=function(n){var u;return t._.contains(r,n)?!0:(u=n.internalDeps(),u.length?(r.push(n),t._.any(u,e)):(r.push(n),!1))},t._.any(n,e)},t.update=function(){var n,r,e,u;for(r=arguments[0],u=2<=arguments.length?gt.call(arguments,1):[],e=function(n){return function(){var t;return t=1<=arguments.length?gt.call(arguments,0):[],function(r){return n.apply(null,[r].concat(t))}}},n=u.length-1;n>0;)u[n]instanceof Function||(u[n]=function(n){return function(){return n}}(u[n])),u[n]=e(u[n]),n-=2;return lt.apply(null,[t,"update",r].concat(gt.call(u),[t.when.apply(t,u).scan(r,function(n,t){return t(n)})]))},O=function(){var n;return n=1<=arguments.length?gt.call(arguments,0):[],new u(n).unsubscribe},u=function(){function n(n){var t,r,e;for(null==n&&(n=[]),this.unsubscribe=vt(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[],r=0,e=n.length;e>r;r++)t=n[r],this.add(t)}return n.prototype.add=function(n){var t,r,e;if(!this.unsubscribed)return t=!1,r=nt,this.starting.push(n),e=function(e){return function(){return e.unsubscribed?void 0:(t=!0,e.remove(r),pt.remove(n,e.starting))}}(this),r=n(this.unsubscribe,e),this.unsubscribed||t||this.subscriptions.push(r),pt.remove(n,this.starting),r},n.prototype.remove=function(n){return this.unsubscribed?void 0:void 0!==pt.remove(n,this.subscriptions)?n():void 0},n.prototype.unsubscribe=function(){var n,t,r,e;if(!this.unsubscribed){for(this.unsubscribed=!0,e=this.subscriptions,t=0,r=e.length;r>t;t++)(n=e[t])();return this.subscriptions=[],this.starting=[]
}},n.prototype.count=function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},n.prototype.empty=function(){return 0===this.count()},n}(),t.CompositeUnsubscribe=u,w=function(){function n(n){this.value=n}return n.prototype.getOrElse=function(){return this.value},n.prototype.get=function(){return this.value},n.prototype.filter=function(t){return t(this.value)?new n(this.value):m},n.prototype.map=function(t){return new n(t(this.value))},n.prototype.forEach=function(n){return n(this.value)},n.prototype.isDefined=!0,n.prototype.toArray=function(){return[this.value]},n.prototype.inspect=function(){return"Some("+this.value+")"},n.prototype.toString=function(){return this.inspect()},n}(),m={getOrElse:function(n){return n},filter:function(){return m},map:function(){return m},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},o=function(){var n,t,r,e;return r={},t=function(t,e){var u;return u=r[t.id],u||(u=r[t.id]={},n(t,t)),u[e.id]},n=function(t,e){var u,i,o,s,c;for(s=e.internalDeps(),c=[],i=0,o=s.length;o>i;i++)u=s[i],r[t.id][u.id]=!0,c.push(n(t,u));return c},e=function(){return r={}},{invalidate:e,dependsOn:t}}(),S=function(){var n,r,e,u,i,s,c,a,f,l,h,p,y;return l=void 0,h=[],r=[],n=function(n){return l?r.push(n):n()},a=function(n){return!pt.any(h,function(t){return o.dependsOn(n.obs,t.obs)})},p=function(n,t){return l?h.push({obs:n,f:t}):t()},u=function(){for(;!a(h[0]);)h.push(h.shift());return h.shift()},i=function(){var n;for(n=[];h.length;)n.push(u().f());return n},f=o.invalidate,c=function(n,t,e,u){var o,s,c,a;if(l)return e.apply(t,u);l=n;try{o=e.apply(t,u),i()}finally{for(l=void 0;r.length;)for(s=r,r=[],c=0,a=s.length;a>c;c++)(e=s[c])();f()}return o},e=function(){return l?l.id:void 0},y=function(r){return function(e){var u,i,o;return o=!1,u=function(){},i=function(){return o=!0,u()},u=r.subscribeInternal(function(r){return n(function(){var n;return o||(n=e(r),n!==t.noMore)?void 0:i()})}),i}},s=function(){return h.length>0},{whenDoneWith:p,hasWaiters:s,inTransaction:c,currentEventId:e,wrappedSubscribe:y}}(),t.EventStream=h,t.Property=v,t.Observable=d,t.Bus=e,t.Initial=y,t.Next=g,t.End=a,t.Error=f,nt=function(){},Q=function(n,t){return t()},L=function(n){return n},N=function(n){return new y(pt.always(n))},Y=function(n){return new g(pt.always(n))},H=function(){return new a},ot=function(n){return n instanceof l?n:Y(n)},T=function(n){return n.slice(0)},_=function(n,t){if(!t)throw new p(n)},I=function(n){if(!(n instanceof h))throw new p("not an EventStream : "+n)},W=function(n){return _("not a function : "+n,F(n))},F=function(n){return"function"==typeof n},U=function(n){return n instanceof Array},R=function(n){return n instanceof d},A=function(n){if(!U(n))throw new p("not an array : "+n)},k=function(n){return _("no arguments supported",0===n.length)},x=function(n){if("string"!=typeof n)throw new p("not a string : "+n)},tt=function(n,t){return function(){var r;return r=1<=arguments.length?gt.call(arguments,0):[],n.apply(null,t.concat(r))}},J=function(n){return 1===n.length&&R(n[0])?pt.always(n[0]):K(n)},K=function(n){return n=Array.prototype.slice.call(n),X.apply(null,n)},X=ht(function(){var n,t;return t=arguments[0],n=2<=arguments.length?gt.call(arguments,1):[],F(t)?n.length?tt(t,n):t:j(t)?st(t,n):pt.always(t)}),$=function(n,t){return X.apply(null,[n].concat(gt.call(t)))},G=function(n){return R(n)?n:t.once(n)},j=function(n){return"string"==typeof n&&n.length>1&&"."===n.charAt(0)},t.isFieldKey=j,st=function(n,t){var r,e;return e=n.slice(1).split("."),r=pt.map(ft(t),e),function(t){var e,u;for(e=0,u=r.length;u>e;e++)n=r[e],t=n(t);return t}},ft=function(n){return function(t){return function(r){var e;return null==r?void 0:(e=r[t],F(e)?e.apply(r,n):e)}}},ct=function(n){return n.slice(1)},it=function(n){var t;return F(n)?n:j(n)?(t=ct(n),function(n,r){return n[t](r)}):_("not a function or a field key: "+n,!1)},at=function(n){return n instanceof w||n===m?n:new w(n)},pt={indexOf:Array.prototype.indexOf?function(n,t){return n.indexOf(t)}:function(n,t){var r,e,u,i;for(r=u=0,i=n.length;i>u;r=++u)if(e=n[r],t===e)return r;return-1},indexWhere:function(n,t){var r,e,u,i;for(r=u=0,i=n.length;i>u;r=++u)if(e=n[r],t(e))return r;return-1},head:function(n){return n[0]},always:function(n){return function(){return n}},negate:function(n){return function(t){return!n(t)}},empty:function(n){return 0===n.length},tail:function(n){return n.slice(1,n.length)},filter:function(n,t){var r,e,u,i;for(r=[],u=0,i=t.length;i>u;u++)e=t[u],n(e)&&r.push(e);return r},map:function(n,t){var r,e,u,i;for(i=[],e=0,u=t.length;u>e;e++)r=t[e],i.push(n(r));return i},each:function(n,t){var r,e,u;u=[];for(r in n)e=n[r],u.push(t(r,e));return u},toArray:function(n){return U(n)?n:[n]},contains:function(n,t){return-1!==pt.indexOf(n,t)},id:function(n){return n},last:function(n){return n[n.length-1]},all:function(n,t){var r,e,u;for(null==t&&(t=pt.id),e=0,u=n.length;u>e;e++)if(r=n[e],!t(r))return!1;return!0},any:function(n,t){var r,e,u;for(null==t&&(t=pt.id),e=0,u=n.length;u>e;e++)if(r=n[e],t(r))return!0;return!1},without:function(n,t){return pt.filter(function(t){return t!==n},t)},remove:function(n,t){var r;return r=pt.indexOf(t,n),r>=0?t.splice(r,1):void 0},fold:function(n,t,r){var e,u,i;for(u=0,i=n.length;i>u;u++)e=n[u],t=r(t,e);return t},flatMap:function(n,t){return pt.fold(t,[],function(t,r){return t.concat(n(r))})},cached:function(n){var t;return t=m,function(){return t===m&&(t=n(),n=null),t}},toString:function(n){var t,r,e,u;try{return rt++,null==n?"undefined":F(n)?"function":U(n)?rt>5?"[..]":"["+pt.map(pt.toString,n).toString()+"]":null!=(null!=n?n.toString:void 0)&&n.toString!==Object.prototype.toString?n.toString():"object"==typeof n?rt>5?"{..}":(r=function(){var r;r=[];for(e in n)mt.call(n,e)&&(u=function(){try{return n[e]}catch(r){return t=r}}(),r.push(pt.toString(e)+":"+pt.toString(u)));return r}(),"{"+r+"}"):n}finally{rt--}}},rt=0,t._=pt,t.scheduler={setTimeout:function(n,t){return setTimeout(n,t)},setInterval:function(n,t){return setInterval(n,t)},clearInterval:function(n){return clearInterval(n)},now:function(){return(new Date).getTime()}},"undefined"!=typeof define&&null!==define&&null!=define.amd?(define([],function(){return t}),this.Bacon=t):"undefined"!=typeof module&&null!==module?(module.exports=t,t.Bacon=t):this.Bacon=t}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{}],5:[function(_dereq_,module,exports){
"use strict";module.exports=function(n,r,e){function t(n,e){var t=r(n,o,e===!0&&n._isBound()?n._boundTo:void 0),i=t.promise();return i.isRejected()?i:(t.setHowMany(1),t.setUnwrap(),t.init(),i)}var o=_dereq_("./some_promise_array.js")(e);n.any=function(n){return t(n,!1)},n.prototype.any=function(){return t(this,!0)}};
},{"./some_promise_array.js":37}],6:[function(_dereq_,module,exports){
"use strict";function Async(){this._isTickUsed=!1,this._length=0,this._lateBuffer=new Queue,this._functionBuffer=new Queue(75e3);var e=this;this.consumeFunctionBuffer=function(){e._consumeFunctionBuffer()}}var schedule=_dereq_("./schedule.js"),Queue=_dereq_("./queue.js"),errorObj=_dereq_("./util.js").errorObj,tryCatch1=_dereq_("./util.js").tryCatch1,process=_dereq_("./global.js").process;Async.prototype.haveItemsQueued=function(){return this._length>0},Async.prototype.invokeLater=function(e,t,s){void 0===process||null==process.domain||e.domain||(e=process.domain.bind(e)),this._lateBuffer.push(e,t,s),this._queueTick()},Async.prototype.invoke=function(e,t,s){void 0===process||null==process.domain||e.domain||(e=process.domain.bind(e));var i=this._functionBuffer;i.push(e,t,s),this._length=i.length(),this._queueTick()},Async.prototype._consumeFunctionBuffer=function(){for(var e=this._functionBuffer;e.length()>0;){var t=e.shift(),s=e.shift(),i=e.shift();t.call(s,i)}this._reset(),this._consumeLateBuffer()},Async.prototype._consumeLateBuffer=function(){for(var e=this._lateBuffer;e.length()>0;){var t=e.shift(),s=e.shift(),i=e.shift(),n=tryCatch1(t,s,i);if(n===errorObj){if(this._queueTick(),null==t.domain)throw n.e;t.domain.emit("error",n.e)}}},Async.prototype._queueTick=function(){this._isTickUsed||(schedule(this.consumeFunctionBuffer),this._isTickUsed=!0)},Async.prototype._reset=function(){this._isTickUsed=!1,this._length=0},module.exports=new Async;
},{"./global.js":19,"./queue.js":30,"./schedule.js":33,"./util.js":41}],7:[function(_dereq_,module,exports){
"use strict";var Promise=_dereq_("./promise.js")();module.exports=Promise;
},{"./promise.js":23}],8:[function(_dereq_,module,exports){
"use strict";module.exports=function(t){function n(t){var n="string"==typeof this?this:""+this;return t[n]}t.prototype.call=function(t){for(var n=arguments.length,o=new Array(n-1),r=1;n>r;++r)o[r-1]=arguments[r];return this._then(function(n){return n[t].apply(n,o)},void 0,void 0,void 0,void 0)},t.prototype.get=function(t){return this._then(n,void 0,void 0,t,void 0)}};
},{}],9:[function(_dereq_,module,exports){
"use strict";module.exports=function(e,t){var n=_dereq_("./errors.js"),a=_dereq_("./async.js"),i=n.CancellationError;e.prototype._cancel=function(){if(!this.isCancellable())return this;for(var e,t=this;void 0!==(e=t._cancellationParent)&&e.isCancellable();)t=e;var n=new i;t._attachExtraTrace(n),t._rejectUnchecked(n)},e.prototype.cancel=function(){return this.isCancellable()?(a.invokeLater(this._cancel,this,void 0),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=void 0,this)},e.prototype.uncancellable=function(){var n=new e(t);return n._setTrace(this),n._follow(this),n._unsetCancellable(),this._isBound()&&n._setBoundTo(this._boundTo),n},e.prototype.fork=function(e,t,n){var a=this._then(e,t,n,void 0,void 0);return a._setCancellable(),a._cancellationParent=void 0,a}};
},{"./async.js":6,"./errors.js":13}],10:[function(_dereq_,module,exports){
"use strict";module.exports=function(){function e(e){var r;if("function"==typeof e)r="[function "+(e.name||"anonymous")+"]";else{r=e.toString();var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(r))try{var o=JSON.stringify(e);r=o}catch(a){}0===r.length&&(r="(empty array)")}return"(<"+t(r)+">, no stack trace)"}function t(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function r(e,t){this.captureStackTrace(r,t)}var n=_dereq_("./util.js").inherits,o=_dereq_("./es5.js").defineProperty,a=new RegExp("\\b(?:[a-zA-Z0-9.]+\\$_\\w+|tryCatch(?:1|2|Apply)|new \\w*PromiseArray|\\w*PromiseArray\\.\\w*PromiseArray|setTimeout|CatchFilter\\$_\\w+|makeNodePromisified|processImmediate|process._tickCallback|nextTick|Async\\$\\w+)\\b"),i=null,s=null;n(r,Error),r.prototype.captureStackTrace=function(e,t){c(this,e,t)},r.possiblyUnhandledRejection=function(e){if("object"==typeof console){var t;if("object"==typeof e||"function"==typeof e){var r=e.stack;t="Possibly unhandled "+s(r,e)}else t="Possibly unhandled "+String(e);"function"==typeof console.error||"object"==typeof console.error?console.error(t):("function"==typeof console.log||"object"==typeof console.log)&&console.log(t)}},r.combine=function(e,t){for(var r=e.length-1,n=t.length-1;n>=0;--n){var o=t[n];if(e[r]!==o)break;e.pop(),r--}e.push("From previous event:");for(var s=e.concat(t),c=[],n=0,u=s.length;u>n;++n)a.test(s[n])||n>0&&!i.test(s[n])&&"From previous event:"!==s[n]||c.push(s[n]);return c},r.isSupported=function(){return"function"==typeof c};var c=function u(){if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){i=/^\s*at\s*/,s=function(t,r){return"string"==typeof t?t:void 0!==r.name&&void 0!==r.message?r.name+". "+r.message:e(r)};var t=Error.captureStackTrace;return function(e,r){t(e,r)}}var r=new Error;if("string"==typeof r.stack&&"function"==typeof"".startsWith&&r.stack.startsWith("stackDetection@")&&"stackDetection"===u.name){o(Error,"stackTraceLimit",{writable:!0,enumerable:!1,configurable:!1,value:25}),i=/@/;var n=/[@\n]/;return s=function(t,r){return"string"==typeof t?r.name+". "+r.message+"\n"+t:void 0!==r.name&&void 0!==r.message?r.name+". "+r.message:e(r)},function(e){for(var t=(new Error).stack,r=t.split(n),o=r.length,a="",i=0;o>i;i+=2)a+=r[i],a+="@",a+=r[i+1],a+="\n";e.stack=a}}return s=function(t,r){return"string"==typeof t?t:"object"!=typeof r&&"function"!=typeof r||void 0===r.name||void 0===r.message?e(r):r.name+". "+r.message},null}();return r};
},{"./es5.js":15,"./util.js":41}],11:[function(_dereq_,module,exports){
"use strict";module.exports=function(r){function e(r,e,t){this._instances=r,this._callback=e,this._promise=t}function t(r,e){var t={},i=o(r,t,e);if(i===s)return i;var n=a(t);return n.length?(s.e=new c("Catch filter must inherit from Error or be a simple predicate function"),s):i}var i=_dereq_("./util.js"),n=_dereq_("./errors.js"),o=i.tryCatch1,s=i.errorObj,a=_dereq_("./es5.js").keys,c=n.TypeError;return e.prototype.doFilter=function(e){for(var i=this._callback,a=this._promise,c=a._isBound()?a._boundTo:void 0,u=0,f=this._instances.length;f>u;++u){var h=this._instances[u],l=h===Error||null!=h&&h.prototype instanceof Error;if(l&&e instanceof h){var p=o(i,c,e);return p===s?(r.e=p.e,r):p}if("function"==typeof h&&!l){var _=t(h,e);if(_===s){var v=n.canAttach(s.e)?s.e:new Error(s.e+"");this._promise._attachExtraTrace(v),e=s.e;break}if(_){var p=o(i,c,e);return p===s?(r.e=p.e,r):p}}}return r.e=e,r},e};
},{"./errors.js":13,"./es5.js":15,"./util.js":41}],12:[function(_dereq_,module,exports){
"use strict";var util=_dereq_("./util.js"),isPrimitive=util.isPrimitive,wrapsPrimitiveReceiver=util.wrapsPrimitiveReceiver;module.exports=function(i){var t=function(){return this},r=function(){throw this},e=function(i,t){return 1===t?function(){throw i}:2===t?function(){return i}:void 0};i.prototype["return"]=i.prototype.thenReturn=function(i){return wrapsPrimitiveReceiver&&isPrimitive(i)?this._then(e(i,2),void 0,void 0,void 0,void 0):this._then(t,void 0,void 0,i,void 0)},i.prototype["throw"]=i.prototype.thenThrow=function(i){return wrapsPrimitiveReceiver&&isPrimitive(i)?this._then(e(i,1),void 0,void 0,void 0,void 0):this._then(r,void 0,void 0,i,void 0)}};
},{"./util.js":41}],13:[function(_dereq_,module,exports){
"use strict";function markAsOriginatingFromRejection(r){try{notEnumerableProp(r,"isAsync",!0)}catch(e){}}function originatesFromRejection(r){return null==r?!1:r instanceof RejectionError||r.isAsync===!0}function isError(r){return r instanceof Error}function canAttach(r){return isError(r)}function subError(r,e){function o(t){return this instanceof o?(this.message="string"==typeof t?t:e,this.name=r,void(Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new o(t)}return inherits(o,Error),o}function RejectionError(r){this.name="RejectionError",this.message=r,this.cause=r,this.isAsync=!0,r instanceof Error?(this.message=r.message,this.stack=r.stack):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var global=_dereq_("./global.js"),Objectfreeze=_dereq_("./es5.js").freeze,util=_dereq_("./util.js"),inherits=util.inherits,notEnumerableProp=util.notEnumerableProp,Error=global.Error,TypeError=global.TypeError;"function"!=typeof TypeError&&(TypeError=subError("TypeError","type error"));var RangeError=global.RangeError;"function"!=typeof RangeError&&(RangeError=subError("RangeError","range error"));var CancellationError=subError("CancellationError","cancellation error"),TimeoutError=subError("TimeoutError","timeout error");inherits(RejectionError,Error);var key="__BluebirdErrorTypes__",errorTypes=global[key];errorTypes||(errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,RejectionError:RejectionError}),notEnumerableProp(global,key,errorTypes)),module.exports={Error:Error,TypeError:TypeError,RangeError:RangeError,CancellationError:errorTypes.CancellationError,RejectionError:errorTypes.RejectionError,TimeoutError:errorTypes.TimeoutError,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,canAttach:canAttach};
},{"./es5.js":15,"./global.js":19,"./util.js":41}],14:[function(_dereq_,module,exports){
"use strict";module.exports=function(r){function e(e){var n=new t(e),u=r.rejected(n),o=u._peekContext();return null!=o&&o._attachExtraTrace(n),u}var t=_dereq_("./errors.js").TypeError;return e};
},{"./errors.js":13}],15:[function(_dereq_,module,exports){
var isES5=function(){"use strict";return void 0===this}();if(isES5)module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5};else{var has={}.hasOwnProperty,str={}.toString,proto={}.constructor.prototype,ObjectKeys=function(e){var r=[];for(var t in e)has.call(e,t)&&r.push(t);return r},ObjectDefineProperty=function(e,r,t){return e[r]=t.value,e},ObjectFreeze=function(e){return e},ObjectGetPrototypeOf=function(e){try{return Object(e).constructor.prototype}catch(r){return proto}},ArrayIsArray=function(e){try{return"[object Array]"===str.call(e)}catch(r){return!1}};module.exports={isArray:ArrayIsArray,keys:ObjectKeys,defineProperty:ObjectDefineProperty,freeze:ObjectFreeze,getPrototypeOf:ObjectGetPrototypeOf,isES5:isES5}}
},{}],16:[function(_dereq_,module,exports){
"use strict";module.exports=function(t){function e(e){for(var r=this instanceof t?this._settledValue:this,i=r.length,n=new Array(i),o=0,u=0;i>u;++u)e[u]&&(n[o++]=r[u]);return n.length=o,n}var r=(_dereq_("./util.js").isArray,{ref:null});t.filter=function(i,n){return t.map(i,n,r)._then(e,void 0,void 0,r.ref,void 0)},t.prototype.filter=function(t){return this.map(t,r)._then(e,void 0,void 0,r.ref,void 0)}};
},{"./util.js":41}],17:[function(_dereq_,module,exports){
"use strict";module.exports=function(t,i){function r(){return this}function n(){throw this}function o(t){return function(){return t}}function e(t){return function(){throw t}}function u(t,i,u){var s;return s=f&&c(i)?u?o(i):e(i):u?r:n,t._then(s,d,void 0,i,void 0)}function s(r){var n=this.promise,o=this.handler,e=n._isBound()?o.call(n._boundTo):o();if(void 0!==e){var s=t._cast(e,void 0);if(s instanceof t)return u(s,r,n.isFulfilled())}return n.isRejected()?(i.e=r,i):r}function a(i){var r=this.promise,n=this.handler,o=r._isBound()?n.call(r._boundTo,i):n(i);if(void 0!==o){var e=t._cast(o,void 0);if(e instanceof t)return u(e,i,!0)}return i}var h=_dereq_("./util.js"),f=h.wrapsPrimitiveReceiver,c=h.isPrimitive,d=h.thrower;t.prototype._passThroughHandler=function(t,i){if("function"!=typeof t)return this.then();var r={promise:this,handler:t};return this._then(i?s:a,i?s:void 0,void 0,r,void 0)},t.prototype.lastly=t.prototype["finally"]=function(t){return this._passThroughHandler(t,!0)},t.prototype.tap=function(t){return this._passThroughHandler(t,!1)}};
},{"./util.js":41}],18:[function(_dereq_,module,exports){
"use strict";module.exports=function(e,r,n){var t=_dereq_("./promise_spawn.js")(e,n),i=_dereq_("./errors.js"),o=i.TypeError,u=_dereq_("./util.js").deprecated;e.coroutine=function(e){if("function"!=typeof e)throw new o("generatorFunction must be a function");var r=t;return function(){var n=e.apply(this,arguments),t=new r(void 0,void 0);return t._generator=n,t._next(void 0),t.promise()}},e.coroutine.addYieldHandler=t.addYieldHandler,e.spawn=function(n){if(u("Promise.spawn is deprecated. Use Promise.coroutine instead."),"function"!=typeof n)return r("generatorFunction must be a function");var i=new t(n,this),o=i.promise();return i._run(e.spawn),o}};
},{"./errors.js":13,"./promise_spawn.js":26,"./util.js":41}],19:[function(_dereq_,module,exports){
(function(t){module.exports=function(){if(void 0!==this)return this;try{return t}catch(e){}try{return window}catch(e){}try{return self}catch(e){}}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{}],20:[function(_dereq_,module,exports){
"use strict";module.exports=function(t,e,i,r){function s(t){return o(t,this[0],this[1],this[2])}function o(e,o,h,a){if("function"!=typeof o)return r("fn must be a function");var u=void 0;h===!0?e._isBound()&&(u=e._boundTo):h!==!1&&(u=h);var l=void 0!==a;if(l&&(a.ref=e),e instanceof t){var p=[o,u,a];return e._then(s,void 0,void 0,p,void 0)}if(!c(e))return r("expecting an array, a promise or a thenable");var d=new t(i);void 0!==u&&d._setBoundTo(u),d._setTrace(void 0);var f=new n(d,o,e,u,l);return f.init(),d}function n(t,e,i,r,s){this.shouldUnwrapItems=s,this.index=0,this.items=i,this.callback=e,this.receiver=r,this.promise=t,this.result=new Array(i.length)}var h=t.all,a=_dereq_("./util.js"),u=_dereq_("./errors.js").canAttach,c=a.isArray,l=t._cast,p={};a.inherits(n,e),n.prototype.init=function(){for(var e=this.items,i=e.length,r=this.result,s=!1,o=0;i>o;++o){var n=l(e[o],void 0);n instanceof t?n.isPending()?(r[o]=p,n._proxyPromiseArray(this,o)):n.isFulfilled()?r[o]=n.value():(n._unsetRejectionIsUnhandled(),s||(this.reject(n.reason()),s=!0)):r[o]=n}s||this.iterate()},n.prototype.isResolved=function(){return null===this.promise},n.prototype._promiseProgressed=function(t){this.isResolved()||this.promise._progress(t)},n.prototype._promiseFulfilled=function(t,e){this.isResolved()||(this.result[e]=t,this.shouldUnwrapItems&&(this.items[e]=t),this.index===e&&this.iterate())},n.prototype._promiseRejected=function(t){this.reject(t)},n.prototype.reject=function(t){if(!this.isResolved()){var e=u(t)?t:new Error(t+"");this.promise._attachExtraTrace(e),this.promise._reject(t,e)}},n.prototype.iterate=function(){for(var t=this.index,e=this.items,i=this.result,r=e.length,i=this.result,s=this.receiver,o=this.callback;r>t;++t){var n=i[t];if(n===p)return void(this.index=t);try{i[t]=o.call(s,n,t,r)}catch(a){return this.reject(a)}}this.promise._follow(h(i)),this.items=this.result=this.callback=this.promise=null},t.prototype.map=function(t,e){return o(this,t,!0,e)},t.map=function(t,e,i){return o(t,e,!1,i)}};
},{"./errors.js":13,"./util.js":41}],21:[function(_dereq_,module,exports){
"use strict";module.exports=function(t){function i(t){throw t}function n(t,n){var o=this,r=void 0===t?s(o,n,null):u(o,n,null,t);r===c&&e.invokeLater(i,void 0,r.e)}function o(t,n){var o=this,r=s(o,n,t);r===c&&e.invokeLater(i,void 0,r.e)}var r=_dereq_("./util.js"),e=_dereq_("./async.js"),u=r.tryCatch2,s=r.tryCatch1,c=r.errorObj;t.prototype.nodeify=function(t){return"function"==typeof t&&this._then(n,o,void 0,t,this._isBound()?this._boundTo:null),this}};
},{"./async.js":6,"./util.js":41}],22:[function(_dereq_,module,exports){
"use strict";module.exports=function(e,r){var s=_dereq_("./util.js"),t=_dereq_("./async.js"),o=_dereq_("./errors.js"),i=s.tryCatch1,n=s.errorObj;e.prototype.progressed=function(e){return this._then(void 0,void 0,e,void 0,void 0)},e.prototype._progress=function(e){this._isFollowingOrFulfilledOrRejected()||this._progressUnchecked(e)},e.prototype._progressHandlerAt=function(e){return 0===e?this._progressHandler0:this[e+2-5]},e.prototype._doProgressWith=function(r){var s=r.value,t=r.handler,p=r.promise,c=r.receiver;this._pushContext();var h=i(t,c,s);if(this._popContext(),h===n){if(null!=h.e&&"StopProgressPropagation"!==h.e.name){var a=o.canAttach(h.e)?h.e:new Error(h.e+"");p._attachExtraTrace(a),p._progress(h.e)}}else h instanceof e?h._then(p._progress,null,null,p,void 0):p._progress(h)},e.prototype._progressUnchecked=function(s){if(this.isPending())for(var o=this._length(),i=this._progress,n=0;o>n;n+=5){var p=this._progressHandlerAt(n),c=this._promiseAt(n);if(c instanceof e)"function"==typeof p?t.invoke(this._doProgressWith,this,{handler:p,promise:c,receiver:this._receiverAt(n),value:s}):t.invoke(i,c,s);else{var h=this._receiverAt(n);"function"==typeof p?p.call(h,s,c):h instanceof e&&h._isProxied()?h._progressUnchecked(s):r(h,c)&&h._promiseProgressed(s,c)}}}};
},{"./async.js":6,"./errors.js":13,"./util.js":41}],23:[function(_dereq_,module,exports){
(function(e){"use strict";module.exports=function(){function t(e){return void 0===e?!1:e instanceof r}function i(e,t){return e instanceof _?t>=0:!1}function r(e){if("function"!=typeof e)throw new k("the promise constructor requires a resolver function");if(this.constructor!==r)throw new k("the promise constructor cannot be invoked directly");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,this._boundTo=void 0,e!==u&&this._resolveFromResolver(e)}function n(e,t){return o(e,_,t===!0&&e._isBound()?e._boundTo:void 0).promise()}function o(e,i,n){var o=null;return y(e)?o=e:(o=r._cast(e,void 0),o!==e?o._setBoundTo(n):t(o)||(o=null)),null!==o?new i(o,n):{promise:function(){return q("expecting an array, a promise or a thenable")}}}var s=_dereq_("./global.js"),l=_dereq_("./util.js"),a=_dereq_("./async.js"),c=_dereq_("./errors.js"),u=function(){},d={},h={e:null},_=_dereq_("./promise_array.js")(r,u),f=_dereq_("./captured_trace.js")(),p=_dereq_("./catch_filter.js")(h),v=_dereq_("./promise_resolver.js"),y=l.isArray,j=l.errorObj,b=l.tryCatch1,F=l.tryCatch2,m=l.tryCatchApply,g=c.RangeError,k=c.TypeError,w=c.CancellationError,R=c.TimeoutError,T=c.RejectionError,P=c.originatesFromRejection,C=c.markAsOriginatingFromRejection,U=c.canAttach,S=l.thrower,q=_dereq_("./errors_api_rejection")(r),x=function(){return new k("circular promise resolution chain")};r.prototype.bind=function(e){var t=new r(u);return t._setTrace(this),t._follow(this),t._setBoundTo(e),this._cancellable()&&(t._setCancellable(),t._cancellationParent=this),t},r.prototype.toString=function(){return"[object Promise]"},r.prototype.caught=r.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var i,r=new Array(t-1),n=0;for(i=0;t-1>i;++i){var o=arguments[i];if("function"!=typeof o){var s=new k("A catch filter must be an error constructor or a filter function");return this._attachExtraTrace(s),void a.invoke(this._reject,this,s)}r[n++]=o}r.length=n,e=arguments[i],this._resetTrace();var l=new p(r,e,this);return this._then(void 0,l.doFilter,void 0,l,void 0)}return this._then(void 0,e,void 0,void 0,void 0)},r.prototype.then=function(e,t,i){return this._then(e,t,i,void 0,void 0)},r.prototype.done=function(e,t,i){var r=this._then(e,t,i,void 0,void 0);r._setIsFinal()},r.prototype.spread=function(e,t){return this._then(e,t,void 0,d,void 0)},r.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},r.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this._settledValue,e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this._settledValue,e.isRejected=!0),e},r.prototype.all=function(){return n(this,!0)},r.is=t,r.all=function(e){return n(e,!1)},r.join=function(){for(var e=arguments.length,t=new Array(e),i=0;e>i;++i)t[i]=arguments[i];return o(t,_,void 0).promise()},r.resolve=r.fulfilled=function(e){var t=new r(u);return t._setTrace(void 0),t._tryFollow(e)?t:(t._cleanValues(),t._setFulfilled(),t._settledValue=e,t)},r.reject=r.rejected=function(e){var t=new r(u);if(t._setTrace(void 0),C(e),t._cleanValues(),t._setRejected(),t._settledValue=e,!U(e)){var i=new Error(e+"");t._setCarriedStackTrace(i)}return t._ensurePossibleRejectionHandled(),t},r.prototype.error=function(e){return this.caught(P,e)},r.prototype._resolveFromSyncValue=function(e){if(e===j)this._cleanValues(),this._setRejected(),this._settledValue=e.e,this._ensurePossibleRejectionHandled();else{var t=r._cast(e,void 0);t instanceof r?this._follow(t):(this._cleanValues(),this._setFulfilled(),this._settledValue=e)}},r.method=function(e){if("function"!=typeof e)throw new k("fn must be a function");return function(){var t;switch(arguments.length){case 0:t=b(e,this,void 0);break;case 1:t=b(e,this,arguments[0]);break;case 2:t=F(e,this,arguments[0],arguments[1]);break;default:for(var i=arguments.length,n=new Array(i),o=0;i>o;++o)n[o]=arguments[o];t=m(e,n,this)}var s=new r(u);return s._setTrace(void 0),s._resolveFromSyncValue(t),s}},r.attempt=r["try"]=function(e,t,i){if("function"!=typeof e)return q("fn must be a function");var n=y(t)?m(e,t,i):b(e,i,t),o=new r(u);return o._setTrace(void 0),o._resolveFromSyncValue(n),o},r.defer=r.pending=function(){var e=new r(u);return e._setTrace(void 0),new v(e)},r.bind=function(e){var t=new r(u);return t._setTrace(void 0),t._setFulfilled(),t._setBoundTo(e),t},r.cast=function(e){var t=r._cast(e,void 0);return t instanceof r?t:r.resolve(t)},r.onPossiblyUnhandledRejection=function(e){f.possiblyUnhandledRejection="function"==typeof e?e:void 0};var E;r.onUnhandledRejectionHandled=function(e){E="function"==typeof e?e:void 0};var H=!1||!("undefined"==typeof e||"string"!=typeof e.execPath||"object"!=typeof e.env||!e.env.BLUEBIRD_DEBUG&&"development"!==e.env.NODE_ENV);r.longStackTraces=function(){if(a.haveItemsQueued()&&H===!1)throw new Error("cannot enable long stack traces after promises have been created");H=f.isSupported()},r.hasLongStackTraces=function(){return H&&f.isSupported()},r.prototype._setProxyHandlers=function(e,t){var i=this._length();if(i>=524282&&(i=0,this._setLength(0)),0===i)this._promise0=t,this._receiver0=e;else{var r=i-5;this[r+3]=t,this[r+4]=e,this[r+0]=this[r+1]=this[r+2]=void 0}this._setLength(i+5)},r.prototype._proxyPromiseArray=function(e,t){this._setProxyHandlers(e,t)},r.prototype._proxyPromise=function(e){e._setProxied(),this._setProxyHandlers(e,-1)},r.prototype._then=function(e,t,i,n,o){var s=void 0!==o,l=s?o:new r(u);if(H&&!s){var c=this._peekContext()===this._traceParent;l._traceParent=c?this._traceParent:this,l._setTrace(this)}!s&&this._isBound()&&l._setBoundTo(this._boundTo);var d=this._addCallbacks(e,t,i,l,n);return!s&&this._cancellable()&&(l._setCancellable(),l._cancellationParent=this),this.isResolved()&&a.invoke(this._queueSettleAt,this,d),l},r.prototype._length=function(){return 524287&this._bitField},r.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},r.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},r.prototype._setLength=function(e){this._bitField=-524288&this._bitField|524287&e},r.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},r.prototype._setRejected=function(){this._bitField=134217728|this._bitField},r.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},r.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},r.prototype._isFinal=function(){return(33554432&this._bitField)>0},r.prototype._cancellable=function(){return(67108864&this._bitField)>0},r.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},r.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},r.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},r.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},r.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},r.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},r.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},r.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},r.prototype._setCarriedStackTrace=function(e){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=e},r.prototype._unsetCarriedStackTrace=function(){this._bitField=-1048577&this._bitField,this._fulfillmentHandler0=void 0},r.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},r.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},r.prototype._receiverAt=function(e){var t;return t=0===e?this._receiver0:this[e+4-5],this._isBound()&&void 0===t?this._boundTo:t},r.prototype._promiseAt=function(e){return 0===e?this._promise0:this[e+3-5]},r.prototype._fulfillmentHandlerAt=function(e){return 0===e?this._fulfillmentHandler0:this[e+0-5]},r.prototype._rejectionHandlerAt=function(e){return 0===e?this._rejectionHandler0:this[e+1-5]},r.prototype._unsetAt=function(e){0===e?(this._rejectionHandler0=this._progressHandler0=this._promise0=this._receiver0=void 0,this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0)):this[e-5+0]=this[e-5+1]=this[e-5+2]=this[e-5+3]=this[e-5+4]=void 0},r.prototype._resolveFromResolver=function(e){function t(e){r._tryFollow(e)||r._fulfill(e)}function i(e){var t=U(e)?e:new Error(e+"");r._attachExtraTrace(t),C(e),r._reject(e,t===e?void 0:t)}var r=this;this._setTrace(void 0),this._pushContext();var n=F(e,void 0,t,i);if(this._popContext(),void 0!==n&&n===j){var o=n.e,s=U(o)?o:new Error(o+"");r._reject(o,s)}},r.prototype._addCallbacks=function(e,t,i,r,n){var o=this._length();if(o>=524282&&(o=0,this._setLength(0)),0===o)this._promise0=r,void 0!==n&&(this._receiver0=n),"function"!=typeof e||this._isCarryingStackTrace()||(this._fulfillmentHandler0=e),"function"==typeof t&&(this._rejectionHandler0=t),"function"==typeof i&&(this._progressHandler0=i);else{var s=o-5;this[s+3]=r,this[s+4]=n,this[s+0]="function"==typeof e?e:void 0,this[s+1]="function"==typeof t?t:void 0,this[s+2]="function"==typeof i?i:void 0}return this._setLength(o+5),o},r.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=8388608|this._bitField,this._boundTo=e):this._bitField=-8388609&this._bitField},r.prototype._isBound=function(){return 8388608===(8388608&this._bitField)},r.prototype._spreadSlowCase=function(e,t,i,r){var n=o(i,_,r).promise()._then(function(){return e.apply(r,arguments)},void 0,void 0,d,void 0);t._follow(n)},r.prototype._callSpread=function(e,i,n,o){var s=this._isBound()?this._boundTo:void 0;if(y(n))for(var l=0,a=n.length;a>l;++l)if(t(r._cast(n[l],void 0)))return void this._spreadSlowCase(e,i,n,s);return o&&i._pushContext(),m(e,n,s)},r.prototype._callHandler=function(e,t,i,r,n){var o;return t!==d||this.isRejected()?(n&&i._pushContext(),o=b(e,t,r)):o=this._callSpread(e,i,r,n),n&&i._popContext(),o},r.prototype._settlePromiseFromHandler=function(e,i,n,o){if(!t(o))return void e.call(i,n,o);var s=H,l=this._callHandler(e,i,o,n,s);if(!o._isFollowing())if(l===j||l===o||l===h){var a=l===o?x():l.e,c=U(a)?a:new Error(a+"");l!==h&&o._attachExtraTrace(c),o._rejectUnchecked(a,c)}else{var u=r._cast(l,o);if(t(u)){if(u.isRejected()&&!u._isCarryingStackTrace()&&!U(u._settledValue)){var c=new Error(u._settledValue+"");o._attachExtraTrace(c),u._setCarriedStackTrace(c)}o._follow(u),u._cancellable()&&(o._cancellationParent=u,o._setCancellable())}else o._fulfillUnchecked(l)}},r.prototype._follow=function(e){this._setFollowing(),e.isPending()?(e._cancellable()&&(this._cancellationParent=e,this._setCancellable()),e._proxyPromise(this)):e.isFulfilled()?this._fulfillUnchecked(e._settledValue):this._rejectUnchecked(e._settledValue,e._getCarriedStackTrace()),e._isRejectionUnhandled()&&e._unsetRejectionIsUnhandled(),H&&null==e._traceParent&&(e._traceParent=this)},r.prototype._tryFollow=function(e){if(this._isFollowingOrFulfilledOrRejected()||e===this)return!1;var i=r._cast(e,void 0);return t(i)?(this._follow(i),!0):!1},r.prototype._resetTrace=function(){H&&(this._trace=new f(void 0===this._peekContext()))},r.prototype._setTrace=function(e){if(H){var t=this._peekContext();this._traceParent=t;var i=void 0===t;this._trace=void 0!==e&&e._traceParent===t?e._trace:new f(i)}return this},r.prototype._attachExtraTrace=function(e){if(H){var t=this,i=e.stack;i="string"==typeof i?i.split("\n"):[];for(var r=1;null!=t&&null!=t._trace;)i=f.combine(i,t._trace.stack.split("\n")),t=t._traceParent;var n=Error.stackTraceLimit+r,o=i.length;o>n&&(i.length=n),e.stack=i.length<=r?"(No stack trace)":i.join("\n")}},r.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},r.prototype._fulfill=function(e){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(e)},r.prototype._reject=function(e,t){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(e,t)},r.prototype._settlePromiseAt=function(e){var t=this.isFulfilled()?this._fulfillmentHandlerAt(e):this._rejectionHandlerAt(e),n=this._settledValue,o=this._receiverAt(e),s=this._promiseAt(e);if("function"==typeof t)this._settlePromiseFromHandler(t,o,n,s);else{var l=!1,a=this.isFulfilled();void 0!==o&&(o instanceof r&&o._isProxied()?(o._unsetProxied(),a?o._fulfillUnchecked(n):o._rejectUnchecked(n,this._getCarriedStackTrace()),l=!0):i(o,s)&&(a?o._promiseFulfilled(n,s):o._promiseRejected(n,s),l=!0)),l||(a?s._fulfill(n):s._reject(n,this._getCarriedStackTrace()))}e>=256&&this._queueGC()},r.prototype._isProxied=function(){return 4194304===(4194304&this._bitField)},r.prototype._setProxied=function(){this._bitField=4194304|this._bitField},r.prototype._unsetProxied=function(){this._bitField=-4194305&this._bitField},r.prototype._isGcQueued=function(){return-1073741824===(-1073741824&this._bitField)},r.prototype._setGcQueued=function(){this._bitField=-1073741824|this._bitField},r.prototype._unsetGcQueued=function(){this._bitField=1073741823&this._bitField},r.prototype._queueGC=function(){this._isGcQueued()||(this._setGcQueued(),a.invokeLater(this._gc,this,void 0))},r.prototype._gc=function(){var e=this._length();this._unsetAt(0);for(var t=0;e>t;t++)delete this[t];this._setLength(0),this._unsetGcQueued()},r.prototype._queueSettleAt=function(e){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),a.invoke(this._settlePromiseAt,this,e)},r.prototype._fulfillUnchecked=function(e){if(this.isPending()){if(e===this){var t=x();return this._attachExtraTrace(t),this._rejectUnchecked(t,void 0)}this._cleanValues(),this._setFulfilled(),this._settledValue=e;var i=this._length();i>0&&a.invoke(this._settlePromises,this,i)}},r.prototype._rejectUncheckedCheckError=function(e){var t=U(e)?e:new Error(e+"");this._rejectUnchecked(e,t===e?void 0:t)},r.prototype._rejectUnchecked=function(e,t){if(this.isPending()){if(e===this){var i=x();return this._attachExtraTrace(i),this._rejectUnchecked(i)}if(this._cleanValues(),this._setRejected(),this._settledValue=e,this._isFinal())return void a.invokeLater(S,void 0,void 0===t?e:t);var r=this._length();void 0!==t&&this._setCarriedStackTrace(t),r>0?a.invoke(this._rejectPromises,this,null):this._ensurePossibleRejectionHandled()}},r.prototype._rejectPromises=function(){this._settlePromises(),this._unsetCarriedStackTrace()},r.prototype._settlePromises=function(){for(var e=this._length(),t=0;e>t;t+=5)this._settlePromiseAt(t)},r.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),void 0!==f.possiblyUnhandledRejection&&a.invokeLater(this._notifyUnhandledRejection,this,void 0)},r.prototype._notifyUnhandledRejectionIsHandled=function(){"function"==typeof E&&a.invokeLater(E,void 0,this)},r.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue,t=this._getCarriedStackTrace();this._setUnhandledRejectionIsNotified(),void 0!==t&&(this._unsetCarriedStackTrace(),e=t),"function"==typeof f.possiblyUnhandledRejection&&f.possiblyUnhandledRejection(e,this)}};var V=[];r.prototype._peekContext=function(){var e=V.length-1;return e>=0?V[e]:void 0},r.prototype._pushContext=function(){H&&V.push(this)},r.prototype._popContext=function(){H&&V.pop()};var A=s.Promise;return r.noConflict=function(){return s.Promise===r&&(s.Promise=A),r},f.isSupported()||(r.longStackTraces=function(){},H=!1),r._makeSelfResolutionError=x,_dereq_("./finally.js")(r,h),_dereq_("./direct_resolve.js")(r),_dereq_("./thenables.js")(r,u),_dereq_("./synchronous_inspection.js")(r),r.RangeError=g,r.CancellationError=w,r.TimeoutError=R,r.TypeError=k,r.RejectionError=T,l.toFastProperties(r),l.toFastProperties(r.prototype),_dereq_("./timers.js")(r,u),_dereq_("./any.js")(r,o,_),_dereq_("./race.js")(r,u),_dereq_("./call_get.js")(r),_dereq_("./filter.js")(r,o,_,q),_dereq_("./generators.js")(r,q,u),_dereq_("./map.js")(r,_,u,q),_dereq_("./nodeify.js")(r),_dereq_("./promisify.js")(r,u),_dereq_("./props.js")(r,_),_dereq_("./reduce.js")(r,o,_,q,u),_dereq_("./settle.js")(r,o,_),_dereq_("./some.js")(r,o,_,q),_dereq_("./progress.js")(r,i),_dereq_("./cancel.js")(r,u),r.prototype=r.prototype,r}}).call(this,_dereq_("/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"));
},{"./any.js":5,"./async.js":6,"./call_get.js":8,"./cancel.js":9,"./captured_trace.js":10,"./catch_filter.js":11,"./direct_resolve.js":12,"./errors.js":13,"./errors_api_rejection":14,"./filter.js":16,"./finally.js":17,"./generators.js":18,"./global.js":19,"./map.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":27,"./props.js":29,"./race.js":31,"./reduce.js":32,"./settle.js":34,"./some.js":36,"./synchronous_inspection.js":38,"./thenables.js":39,"./timers.js":40,"./util.js":41,"/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":56}],24:[function(_dereq_,module,exports){
"use strict";module.exports=function(e,t){function s(e){switch(e){case-1:return void 0;case-2:return[];case-3:return{}}}function i(s,i){var r=this._promise=new e(t),o=void 0;s instanceof e&&(o=s,s._cancellable()&&(r._setCancellable(),r._cancellationParent=s),s._isBound()&&r._setBoundTo(i)),r._setTrace(o),this._values=s,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var r=_dereq_("./errors.js").canAttach,o=_dereq_("./util.js"),n=_dereq_("./async.js"),l={}.hasOwnProperty,a=o.isArray;return i.PropertiesPromiseArray=function(){},i.prototype.length=function(){return this._length},i.prototype.promise=function(){return this._promise},i.prototype._init=function(t,r){var o=this._values;if(o instanceof e){if(!o.isFulfilled())return o.isPending()?void o._then(this._init,this._reject,void 0,this,r):(o._unsetRejectionIsUnhandled(),void this._reject(o._settledValue));if(o=o._settledValue,!a(o)){var _=new e.TypeError("expecting an array, a promise or a thenable");return void this.__hardReject__(_)}this._values=o}if(0===o.length)return void this._resolve(s(r));var h,u=o.length,c=u;h=this instanceof i.PropertiesPromiseArray?this._values:new Array(u);for(var v=!1,p=0;u>p;++p){var d=o[p];if(void 0!==d||l.call(o,p)){var f=e._cast(d,void 0);f instanceof e?f.isPending()?f._proxyPromiseArray(this,p):(f._unsetRejectionIsUnhandled(),v=!0):v=!0,h[p]=f}else c--}if(0===c)return void this._resolve(-2===r?h:s(r));if(this._values=h,this._length=c,v){var y=c===u?this._scanDirectValues:this._scanDirectValuesHoled;n.invoke(y,this,u)}},i.prototype._settlePromiseAt=function(t){var s=this._values[t];s instanceof e?s.isFulfilled()?this._promiseFulfilled(s._settledValue,t):s.isRejected()&&this._promiseRejected(s._settledValue,t):this._promiseFulfilled(s,t)},i.prototype._scanDirectValuesHoled=function(e){for(var t=0;e>t&&!this._isResolved();++t)l.call(this._values,t)&&this._settlePromiseAt(t)},i.prototype._scanDirectValues=function(e){for(var t=0;e>t&&!this._isResolved();++t)this._settlePromiseAt(t)},i.prototype._isResolved=function(){return null===this._values},i.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},i.prototype.__hardReject__=i.prototype._reject=function(e){this._values=null;var t=r(e)?e:new Error(e+"");this._promise._attachExtraTrace(t),this._promise._reject(e,t)},i.prototype._promiseProgressed=function(e,t){this._isResolved()||this._promise._progress({index:t,value:e})},i.prototype._promiseFulfilled=function(e,t){if(!this._isResolved()){this._values[t]=e;var s=++this._totalResolved;s>=this._length&&this._resolve(this._values)}},i.prototype._promiseRejected=function(e){this._isResolved()||(this._totalResolved++,this._reject(e))},i};
},{"./async.js":6,"./errors.js":13,"./util.js":41}],25:[function(_dereq_,module,exports){
"use strict";function isUntypedError(r){return r instanceof Error&&es5.getPrototypeOf(r)===Error.prototype}function wrapAsRejectionError(r){var e;return e=isUntypedError(r)?new RejectionError(r):r,errors.markAsOriginatingFromRejection(e),e}function nodebackForPromise(r){function e(e,o){if(null!==r){if(e){var t=wrapAsRejectionError(maybeWrapAsError(e));r._attachExtraTrace(t),r._reject(t)}else if(arguments.length>2){for(var s=arguments.length,i=new Array(s-1),n=1;s>n;++n)i[n-1]=arguments[n];r._fulfill(i)}else r._fulfill(o);r=null}}return e}var util=_dereq_("./util.js"),maybeWrapAsError=util.maybeWrapAsError,errors=_dereq_("./errors.js"),TimeoutError=errors.TimeoutError,RejectionError=errors.RejectionError,async=_dereq_("./async.js"),haveGetters=util.haveGetters,es5=_dereq_("./es5.js"),PromiseResolver;if(PromiseResolver=haveGetters?function(r){this.promise=r}:function(r){this.promise=r,this.asCallback=nodebackForPromise(r),this.callback=this.asCallback},haveGetters){var prop={get:function(){return nodebackForPromise(this.promise)}};es5.defineProperty(PromiseResolver.prototype,"asCallback",prop),es5.defineProperty(PromiseResolver.prototype,"callback",prop)}PromiseResolver._nodebackForPromise=nodebackForPromise,PromiseResolver.prototype.toString=function(){return"[object PromiseResolver]"},PromiseResolver.prototype.resolve=PromiseResolver.prototype.fulfill=function(r){var e=this.promise;if(void 0===e||void 0===e._tryFollow)throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");e._tryFollow(r)||async.invoke(e._fulfill,e,r)},PromiseResolver.prototype.reject=function(r){var e=this.promise;if(void 0===e||void 0===e._attachExtraTrace)throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");errors.markAsOriginatingFromRejection(r);var o=errors.canAttach(r)?r:new Error(r+"");e._attachExtraTrace(o),async.invoke(e._reject,e,r),o!==r&&async.invoke(this._setCarriedStackTrace,this,o)},PromiseResolver.prototype.progress=function(r){async.invoke(this.promise._progress,this.promise,r)},PromiseResolver.prototype.cancel=function(){async.invoke(this.promise.cancel,this.promise,void 0)},PromiseResolver.prototype.timeout=function(){this.reject(new TimeoutError("timeout"))},PromiseResolver.prototype.isResolved=function(){return this.promise.isResolved()},PromiseResolver.prototype.toJSON=function(){return this.promise.toJSON()},PromiseResolver.prototype._setCarriedStackTrace=function(r){this.promise.isRejected()&&this.promise._setCarriedStackTrace(r)},module.exports=PromiseResolver;
},{"./async.js":6,"./errors.js":13,"./es5.js":15,"./util.js":41}],26:[function(_dereq_,module,exports){
"use strict";module.exports=function(t,e){function r(e){for(var i=c,o=h,n=t,s=i.length,a=0;s>a;++a){var u=_(i[a],void 0,e);if(u===o)return n.reject(o.e);var l=n._cast(u,r,void 0);if(l instanceof n)return l}return null}function i(r,i){var o=this._promise=new t(e);o._setTrace(void 0),this._generatorFunction=r,this._receiver=i,this._generator=void 0}var o=_dereq_("./errors.js"),n=o.TypeError,s=_dereq_("./util.js"),a=s.isArray,h=s.errorObj,_=s.tryCatch1,c=[];return i.prototype.promise=function(){return this._promise},i.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},i.prototype._continue=function u(e){if(e===h){this._generator=void 0;var i=o.canAttach(e.e)?e.e:new Error(e.e+"");return this._promise._attachExtraTrace(i),void this._promise._reject(e.e,i)}var s=e.value;if(e.done===!0)this._generator=void 0,this._promise._tryFollow(s)||this._promise._fulfill(s);else{var _=t._cast(s,u,void 0);if(!(_ instanceof t)&&(_=a(_)?t.all(_):r(_),null===_))return void this._throw(new n("A value was yielded that could not be treated as a promise"));_._then(this._next,this._throw,void 0,this,null)}},i.prototype._throw=function(t){o.canAttach(t)&&this._promise._attachExtraTrace(t),this._continue(_(this._generator["throw"],this._generator,t))},i.prototype._next=function(t){this._continue(_(this._generator.next,this._generator,t))},i.addYieldHandler=function(t){if("function"!=typeof t)throw new n("fn must be a function");c.push(t)},i};
},{"./errors.js":13,"./util.js":41}],27:[function(_dereq_,module,exports){
"use strict";module.exports=function(r,e){function t(r){return r.__isPromisified__===!0}function n(r,e){var n=e+"Async"in r;return n?t(r[e+"Async"]):!1}function i(r){for(var e=0;e<r.length;e+=2){var t=r[e];if(w.test(t))for(var n=t.replace(w,""),i=0;i<r.length;i+=2)if(r[i]===n)throw new b("Cannot promisify an API that has normal methods with Async-suffix")}}function a(r){for(var e=[r],t=Math.max(0,r-1-5),n=r-1;n>=t;--n)n!==r&&e.push(n);for(var n=r+1;5>=n;++n)e.push(n);return e}function o(r){for(var e=new Array(r),t=0;t<e.length;++t)e[t]="_arg"+t;return e.join(", ")}function s(r){return"number"==typeof r.length?Math.max(Math.min(r.length,1024),0):0}function f(r){return j.test(r)?"."+r:"['"+r.replace(/(['\\])/g,"\\$1")+"']"}function u(t,n,i,u){function c(r){for(var e=new Array(r),i=0,a=e.length;a>i;++i)e[i]="arguments["+i+"]";var o=r>0?",":"";return"string"==typeof t&&n===l?"this"+f(t)+"("+e.join(",")+o+" fn);break;":(void 0===n?"callback("+e.join(",")+o+" fn);":"callback.call("+(n===l?"this":"receiver")+", "+e.join(",")+o+" fn);")+"break;"}function p(){for(var r="",e=0;e<m.length;++e)r+="case "+m[e]+":"+c(m[e]);return r+="default: var args = new Array(len + 1);var i = 0;for (var i = 0; i < len; ++i) {    args[i] = arguments[i];}args[i] = fn;"+("string"==typeof t?"this"+f(t)+".apply(":"callback.apply(")+(n===l?"this":"receiver")+", args); break;"}var v=Math.max(0,s(u)-1),m=a(v),d="string"==typeof i?i+"Async":"promisified";return j.test(d)||(d="promisified"),new Function("Promise","callback","receiver","withAppended","maybeWrapAsError","nodebackForPromise","INTERNAL","var ret = function "+d+"("+o(v)+') {"use strict";var len = arguments.length;var promise = new Promise(INTERNAL);promise._setTrace(void 0);var fn = nodebackForPromise(promise);try {switch(len) {'+p()+"}}catch(e){ var wrapped = maybeWrapAsError(e);promise._attachExtraTrace(wrapped);promise._reject(wrapped);}return promise;}; ret.__isPromisified__ = true; return ret;")(r,t,n,y,g,h,e)}function c(t,n){function i(){var i=n;n===l&&(i=this),"string"==typeof t&&(t=i[t]);var a=new r(e);a._setTrace(void 0);var o=h(a);try{t.apply(i,y(arguments,o))}catch(s){var f=g(s);a._attachExtraTrace(f),a._reject(f)}return a}return i.__isPromisified__=!0,i}function p(r,e,t){if(t){for(var n=A(r),i=0,a=n.length;a>i;i+=2){var o=n[i],s=n[i+1],f=o+"Async";r[f]=P(o,l,o,s)}return v.toFastProperties(r),r}return P(r,e,void 0,r)}var l={},v=_dereq_("./util.js"),m=_dereq_("./es5.js"),h=_dereq_("./promise_resolver.js")._nodebackForPromise,y=v.withAppended,g=v.maybeWrapAsError,d=v.canEvaluate,_=v.deprecated,b=_dereq_("./errors").TypeError,w=new RegExp("Async$"),A=function(){if(m.isES5){var r=Object.create,e=Object.getOwnPropertyDescriptor;return function(a){for(var o=[],s=r(null),f=a;null!==a;){for(var u=m.keys(a),c=0,p=u.length;p>c;++c){var l=u[c];if(!s[l]){s[l]=!0;var v=e(a,l);null==v||"function"!=typeof v.value||t(v.value)||n(f,l)||o.push(l,v.value)}}a=m.getPrototypeOf(a)}return i(o),o}}return function(r){var e=[];for(var a in r){var o=r[a];"function"!=typeof o||t(o)||n(r,a)||e.push(a,o)}return i(e),e}}(),j=/^[a-z$_][a-z$_0-9]*$/i,P=d?u:c;r.promisify=function(r,e){if("object"==typeof r&&null!==r)return _("Promise.promisify for promisifying entire objects is deprecated. Use Promise.promisifyAll instead."),p(r,e,!0);if("function"!=typeof r)throw new b("fn must be a function");return t(r)?r:p(r,arguments.length<2?l:e,!1)},r.promisifyAll=function(r){if("function"!=typeof r&&"object"!=typeof r)throw new b("the target of promisifyAll must be an object or a function");return p(r,void 0,!0)}};
},{"./errors":13,"./es5.js":15,"./promise_resolver.js":25,"./util.js":41}],28:[function(_dereq_,module,exports){
"use strict";module.exports=function(e,s){function t(e,s){for(var t=o.keys(e),i=new Array(t.length),r=0,h=i.length;h>r;++r)i[r]=e[t[r]];if(this.constructor$(i,s),!this._isResolved())for(var r=0,h=t.length;h>r;++r)i.push(t[r])}var i=_dereq_("./util.js"),r=i.inherits,o=_dereq_("./es5.js");return r(t,s),t.prototype._init=function(){this._init$(void 0,-3)},t.prototype._promiseFulfilled=function(e,s){if(!this._isResolved()){this._values[s]=e;var t=++this._totalResolved;if(t>=this._length){for(var i={},r=this.length(),o=0,h=this.length();h>o;++o)i[this._values[o+r]]=this._values[o];this._resolve(i)}}},t.prototype._promiseProgressed=function(e,s){this._isResolved()||this._promise._progress({key:this._values[s+this.length()],value:e})},s.PropertiesPromiseArray=t,t};
},{"./es5.js":15,"./util.js":41}],29:[function(_dereq_,module,exports){
"use strict";module.exports=function(o,r){function e(r,e){var n,u=o._cast(r,void 0);return s(u)?(u instanceof o?n=u._then(o.props,void 0,void 0,void 0,void 0):(n=new i(u,e===!0&&u._isBound()?u._boundTo:void 0).promise(),e=!1),e===!0&&u._isBound()&&n._setBoundTo(u._boundTo),n):t("cannot await properties of a non-object")}var i=_dereq_("./properties_promise_array.js")(o,r),n=_dereq_("./util.js"),t=_dereq_("./errors_api_rejection")(o),s=n.isObject;o.prototype.props=function(){return e(this,!0)},o.props=function(o){return e(o,!1)}};
},{"./errors_api_rejection":14,"./properties_promise_array.js":28,"./util.js":41}],30:[function(_dereq_,module,exports){
"use strict";function arrayCopy(t,i,e,a,h){for(var s=0;h>s;++s)e[s+a]=t[s+i]}function pow2AtLeast(t){return t>>>=0,t-=1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+1}function getCapacity(t){return"number"!=typeof t?16:pow2AtLeast(Math.min(Math.max(16,t),1073741824))}function Queue(t){this._capacity=getCapacity(t),this._length=0,this._front=0,this._makeCapacity()}Queue.prototype._willBeOverCapacity=function(t){return this._capacity<t},Queue.prototype._pushOne=function(t){var i=this.length();this._checkCapacity(i+1);var e=this._front+i&this._capacity-1;this[e]=t,this._length=i+1},Queue.prototype.push=function(t,i,e){var a=this.length()+3;if(this._willBeOverCapacity(a))return this._pushOne(t),this._pushOne(i),void this._pushOne(e);var h=this._front+a-3;this._checkCapacity(a);var s=this._capacity-1;this[h+0&s]=t,this[h+1&s]=i,this[h+2&s]=e,this._length=a},Queue.prototype.shift=function(){var t=this._front,i=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,i},Queue.prototype.length=function(){return this._length},Queue.prototype._makeCapacity=function(){for(var t=this._capacity,i=0;t>i;++i)this[i]=void 0},Queue.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<3)},Queue.prototype._resizeTo=function(t){var i=this._front,e=this._capacity,a=new Array(e),h=this.length();if(arrayCopy(this,0,a,0,e),this._capacity=t,this._makeCapacity(),this._front=0,e>=i+h)arrayCopy(a,i,this,0,h);else{var s=h-(i+h&e-1);arrayCopy(a,i,this,0,s),arrayCopy(a,0,this,s,h-s)}},module.exports=Queue;
},{}],31:[function(_dereq_,module,exports){
"use strict";module.exports=function(r,e){function n(n,u){var c=r._cast(n,void 0);if(c instanceof r)return a(c);if(!o(n))return t("expecting an array, a promise or a thenable");var l=new r(e);l._setTrace(u),void 0!==u&&(u._isBound()&&l._setBoundTo(u._boundTo),u._cancellable()&&(l._setCancellable(),l._cancellationParent=u));for(var s=l._fulfill,_=l._reject,f=0,v=n.length;v>f;++f){var d=n[f];(void 0!==d||i.call(n,f))&&r.cast(d)._then(s,_,void 0,l,null)}return l}var t=_dereq_("./errors_api_rejection.js")(r),o=_dereq_("./util.js").isArray,a=function(r){return r.then(function(e){return n(e,r)})},i={}.hasOwnProperty;r.race=function(r){return n(r,void 0)},r.prototype.race=function(){return n(this,void 0)}};
},{"./errors_api_rejection.js":14,"./util.js":41}],32:[function(_dereq_,module,exports){
"use strict";module.exports=function(i,t,e,n,o){function r(t,e,n,r,u){this.promise=new i(o),this.index=e,this.length=r.length,this.items=r,this.callback=t,this.receiver=u,this.accum=n}function u(i,t){var e=this,n=void 0;"function"!=typeof e&&(n=e.receiver,e=e.fn);var o=i.length,u=void 0,s=0;void 0!==t?(u=t,s=0):(s=1,o>0&&(u=i[0]));var c=s;if(c>=o)return u;var f=new r(e,c,u,i,n);return f.iterate(),f.promise}function s(i){var t=this.fn,e=this.initialValue;return u.call(t,i,e)}function c(i,t,e,n){return e._then(function(e){return f(i,t,e,n)},void 0,void 0,void 0,void 0)}function f(o,r,f,d){if("function"!=typeof r)return n("fn must be a function");if(d===!0&&o._isBound()&&(r={fn:r,receiver:o._boundTo}),void 0!==f){if(f instanceof i){if(!f.isFulfilled())return c(o,r,f,d);f=f._settledValue}return t(o,e,d===!0&&o._isBound()?o._boundTo:void 0).promise()._then(s,void 0,void 0,{fn:r,initialValue:f},void 0)}return t(o,e,d===!0&&o._isBound()?o._boundTo:void 0).promise()._then(u,void 0,void 0,r,void 0)}r.prototype.reject=function(i){this.promise._reject(i)},r.prototype.fulfill=function(i,t){this.accum=i,this.index=t+1,this.iterate()},r.prototype.iterate=function(){for(var t=this.index,e=this.length,n=this.items,o=this.accum,r=this.receiver,u=this.callback;e>t;++t)if(o=u.call(r,o,n[t],t,e),o=i._cast(o,void 0),o instanceof i)return void o._then(this.fulfill,this.reject,void 0,this,t);this.promise._fulfill(o)},i.reduce=function(i,t,e){return f(i,t,e,!1)},i.prototype.reduce=function(i,t){return f(this,i,t,!0)}};
},{}],33:[function(_dereq_,module,exports){
(function(e){"use strict";var t,n=_dereq_("./global.js");if("undefined"!=typeof e&&null!==e&&"function"==typeof e.cwd&&"function"==typeof e.nextTick&&"string"==typeof e.version)t=function(t){e.nextTick(t)};else if("function"!=typeof n.MutationObserver&&"function"!=typeof n.WebkitMutationObserver&&"function"!=typeof n.WebKitMutationObserver||"undefined"==typeof document||"function"!=typeof document.createElement)if("function"==typeof n.postMessage&&"function"!=typeof n.importScripts&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener){var o="bluebird_message_key_"+Math.random();t=function(){function e(e){if(e.source===n&&e.data===o){var i=t;t=void 0,i()}}var t=void 0;return n.addEventListener("message",e,!1),function(e){t=e,n.postMessage(o,"*")}}()}else t="function"==typeof n.MessageChannel?function(){var e=void 0,t=new n.MessageChannel;return t.port1.onmessage=function(){var t=e;e=void 0,t()},function(n){e=n,t.port2.postMessage(null)}}():n.setTimeout?function(e){setTimeout(e,4)}:function(e){e()};else t=function(){var e=n.MutationObserver||n.WebkitMutationObserver||n.WebKitMutationObserver,t=document.createElement("div"),o=void 0,i=new e(function(){var e=o;o=void 0,e()});return i.observe(t,{attributes:!0}),function(e){o=e,t.setAttribute("class","foo")}}();module.exports=t}).call(this,_dereq_("/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"));
},{"./global.js":19,"/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":56}],34:[function(_dereq_,module,exports){
"use strict";module.exports=function(t,e,r){function o(t,r){return e(t,n,r===!0&&t._isBound()?t._boundTo:void 0).promise()}var n=_dereq_("./settled_promise_array.js")(t,r);t.settle=function(t){return o(t,!1)},t.prototype.settle=function(){return o(this,!0)}};
},{"./settled_promise_array.js":35}],35:[function(_dereq_,module,exports){
"use strict";module.exports=function(e,t){function i(e,t){this.constructor$(e,t)}var s=e.PromiseInspection,o=_dereq_("./util.js"),r=o.inherits;return r(i,t),i.prototype._promiseResolved=function(e,t){this._values[e]=t;var i=++this._totalResolved;i>=this._length&&this._resolve(this._values)},i.prototype._promiseFulfilled=function(e,t){if(!this._isResolved()){var i=new s;i._bitField=268435456,i._settledValue=e,this._promiseResolved(t,i)}},i.prototype._promiseRejected=function(e,t){if(!this._isResolved()){var i=new s;i._bitField=134217728,i._settledValue=e,this._promiseResolved(t,i)}},i};
},{"./util.js":41}],36:[function(_dereq_,module,exports){
"use strict";module.exports=function(e,r,t,i){function o(e,t,o){if((0|t)!==t||0>t)return i("expecting a positive integer");var s=r(e,n,o===!0&&e._isBound()?e._boundTo:void 0),u=s.promise();return u.isRejected()?u:(s.setHowMany(t),s.init(),u)}var n=_dereq_("./some_promise_array.js")(t);e.some=function(e,r){return o(e,r,!1)},e.prototype.some=function(e){return o(this,e,!0)}};
},{"./some_promise_array.js":37}],37:[function(_dereq_,module,exports){
"use strict";module.exports=function(t){function i(t,i){this.constructor$(t,i),this._howMany=0,this._unwrap=!1,this._initialized=!1}var s=_dereq_("./util.js"),e=_dereq_("./errors.js").RangeError,o=s.inherits,h=s.isArray;return o(i,t),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-2);var t=h(this._values);if(this._holes=t?this._values.length-this.length():0,!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()){var i="(Promise.some) input array contains less than "+this._howMany+" promises";this._reject(new e(i))}}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._isResolved()||(this._howMany=t)},i.prototype._promiseFulfilled=function(t){this._isResolved()||(this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values)))},i.prototype._promiseRejected=function(t){this._isResolved()||(this._addRejected(t),this.howMany()>this._canPossiblyFulfill()&&this._reject(this._values.length===this.length()?[]:this._values.slice(this.length()+this._holes)))},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()-this._holes},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i};
},{"./errors.js":13,"./util.js":41}],38:[function(_dereq_,module,exports){
"use strict";module.exports=function(e){function t(e){void 0!==e?(this._bitField=e._bitField,this._settledValue=e.isResolved()?e._settledValue:void 0):(this._bitField=0,this._settledValue=void 0)}t.prototype.isFulfilled=e.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},t.prototype.isRejected=e.prototype.isRejected=function(){return(134217728&this._bitField)>0},t.prototype.isPending=e.prototype.isPending=function(){return 0===(402653184&this._bitField)},t.prototype.value=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise");return this._settledValue},t.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise");return this._settledValue},t.prototype.isResolved=e.prototype.isResolved=function(){return(402653184&this._bitField)>0},e.prototype.inspect=function(){return new t(this)},e.PromiseInspection=t};
},{}],39:[function(_dereq_,module,exports){
"use strict";module.exports=function(r,e){function t(r){try{return r.then}catch(e){return u.e=e,u}}function n(n,i){if(f(n)){if(n instanceof r)return n;if(c(n)){var s=new r(e);return s._setTrace(void 0),n._then(s._fulfillUnchecked,s._rejectUncheckedCheckError,s._progressUnchecked,s,null),s._setFollowing(),s}var _=t(n);if(_===u)return void 0!==i&&a(_.e)&&i._attachExtraTrace(_.e),r.reject(_.e);if("function"==typeof _)return o(n,_,i)}return n}function c(r){return s.call(r,"_promise0")}function o(e,t,n){function c(t){if(!f){if(f=!0,e===t){var c=r._makeSelfResolutionError();return void 0!==n&&n._attachExtraTrace(c),void u.promise._reject(c,void 0)}u.resolve(t)}}function o(r){if(!f){f=!0;var e=a(r)?r:new Error(r+"");void 0!==n&&n._attachExtraTrace(e),u.promise._reject(r,e)}}function i(r){if(!f){var e=u.promise;"function"==typeof e._progress&&e._progress(r)}}var u=r.defer(),f=!1;try{t.call(e,c,o,i)}catch(s){if(!f){f=!0;var _=a(s)?s:new Error(s+"");void 0!==n&&n._attachExtraTrace(_),u.promise._reject(s,_)}}return u.promise}var i=_dereq_("./util.js"),a=_dereq_("./errors.js").canAttach,u=i.errorObj,f=i.isObject,s={}.hasOwnProperty;r._cast=n};
},{"./errors.js":13,"./util.js":41}],40:[function(_dereq_,module,exports){
"use strict";var global=_dereq_("./global.js"),setTimeout=function(e,t){for(var n=arguments.length,o=new Array(n-2),r=2;n>r;++r)o[r-2]=arguments[r];global.setTimeout(function(){e.apply(void 0,o)},t)};module.exports=function(e,t){var n=(_dereq_("./util.js"),_dereq_("./errors.js")),o=(_dereq_("./errors_api_rejection")(e),e.TimeoutError),r=function(e,t,r){if(e.isPending()){"string"!=typeof t&&(t="operation timed out after "+r+" ms");var i=new o(t);n.markAsOriginatingFromRejection(i),e._attachExtraTrace(i),e._rejectUnchecked(i)}},i=function(e,t){t._fulfill(e)},a=e.delay=function(n,o){void 0===o&&(o=n,n=void 0),o=+o;var r=e._cast(n,void 0),a=new e(t);return r instanceof e?(r._isBound()&&a._setBoundTo(r._boundTo),r._cancellable()&&(a._setCancellable(),a._cancellationParent=r),a._setTrace(r),a._follow(r),a.then(function(t){return e.delay(t,o)})):(a._setTrace(void 0),setTimeout(i,o,n,a),a)};e.prototype.delay=function(e){return a(this,e)},e.prototype.timeout=function(n,o){n=+n;var i=new e(t);return i._setTrace(this),this._isBound()&&i._setBoundTo(this._boundTo),this._cancellable()&&(i._setCancellable(),i._cancellationParent=this),i._follow(this),setTimeout(r,n,i,o,n),i}};
},{"./errors.js":13,"./errors_api_rejection":14,"./global.js":19,"./util.js":41}],41:[function(_dereq_,module,exports){
"use strict";function deprecated(r){"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("Bluebird: "+r)}function tryCatch1(r,t,e){try{return r.call(t,e)}catch(n){return errorObj.e=n,errorObj}}function tryCatch2(r,t,e,n){try{return r.call(t,e,n)}catch(i){return errorObj.e=i,errorObj}}function tryCatchApply(r,t,e){try{return r.apply(e,t)}catch(n){return errorObj.e=n,errorObj}}function asString(r){return"string"==typeof r?r:""+r}function isPrimitive(r){return null==r||r===!0||r===!1||"string"==typeof r||"number"==typeof r}function isObject(r){return!isPrimitive(r)}function maybeWrapAsError(r){return isPrimitive(r)?new Error(asString(r)):r}function withAppended(r,t){var e,n=r.length,i=new Array(n+1);for(e=0;n>e;++e)i[e]=r[e];return i[e]=t,i}function notEnumerableProp(r,t,e){if(isPrimitive(r))return r;var n={value:e,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(r,t,n),r}function thrower(r){throw r}function toFastProperties(r){function t(){}return t.prototype=r,t}var global=_dereq_("./global.js"),es5=_dereq_("./es5.js"),haveGetters=function(){try{var r={};return es5.defineProperty(r,"f",{get:function(){return 3}}),3===r.f}catch(t){return!1}}(),canEvaluate=function(){return"undefined"!=typeof window&&null!==window&&"undefined"!=typeof window.document&&"undefined"!=typeof navigator&&null!==navigator&&"string"==typeof navigator.appName&&window===global?!1:!0}(),errorObj={e:{}},inherits=function(r,t){function e(){this.constructor=r,this.constructor$=t;for(var e in t.prototype)n.call(t.prototype,e)&&"$"!==e.charAt(e.length-1)&&(this[e+"$"]=t.prototype[e])}var n={}.hasOwnProperty;return e.prototype=t.prototype,r.prototype=new e,r.prototype},wrapsPrimitiveReceiver=function(){return"string"!==this}.call("string"),ret={thrower:thrower,isArray:es5.isArray,haveGetters:haveGetters,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,canEvaluate:canEvaluate,deprecated:deprecated,errorObj:errorObj,tryCatch1:tryCatch1,tryCatch2:tryCatch2,tryCatchApply:tryCatchApply,inherits:inherits,withAppended:withAppended,asString:asString,maybeWrapAsError:maybeWrapAsError,wrapsPrimitiveReceiver:wrapsPrimitiveReceiver,toFastProperties:toFastProperties};module.exports=ret;
},{"./es5.js":15,"./global.js":19}],42:[function(_dereq_,module,exports){

},{}],43:[function(_dereq_,module,exports){
function replacer(t,e){return util.isUndefined(e)?""+e:!util.isNumber(e)||!isNaN(e)&&isFinite(e)?util.isFunction(e)||util.isRegExp(e)?e.toString():e:e.toString()}function truncate(t,e){return util.isString(t)?t.length<e?t:t.slice(0,e):t}function getMessage(t){return truncate(JSON.stringify(t.actual,replacer),128)+" "+t.operator+" "+truncate(JSON.stringify(t.expected,replacer),128)}function fail(t,e,r,i,s){throw new assert.AssertionError({message:r,actual:t,expected:e,operator:i,stackStartFunction:s})}function ok(t,e){t||fail(t,!0,e,"==",assert.ok)}function _deepEqual(t,e){if(t===e)return!0;if(util.isBuffer(t)&&util.isBuffer(e)){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return util.isDate(t)&&util.isDate(e)?t.getTime()===e.getTime():util.isRegExp(t)&&util.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:util.isObject(t)||util.isObject(e)?objEquiv(t,e):t==e}function isArguments(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function objEquiv(t,e){if(util.isNullOrUndefined(t)||util.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(isArguments(t))return isArguments(e)?(t=pSlice.call(t),e=pSlice.call(e),_deepEqual(t,e)):!1;try{var r,i,s=objectKeys(t),n=objectKeys(e)}catch(a){return!1}if(s.length!=n.length)return!1;for(s.sort(),n.sort(),i=s.length-1;i>=0;i--)if(s[i]!=n[i])return!1;for(i=s.length-1;i>=0;i--)if(r=s[i],!_deepEqual(t[r],e[r]))return!1;return!0}function expectedException(t,e){return t&&e?"[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function _throws(t,e,r,i){var s;util.isString(r)&&(i=r,r=null);try{e()}catch(n){s=n}if(i=(r&&r.name?" ("+r.name+").":".")+(i?" "+i:"."),t&&!s&&fail(s,r,"Missing expected exception"+i),!t&&expectedException(s,r)&&fail(s,r,"Got unwanted exception"+i),t&&s&&r&&!expectedException(s,r)||!t&&s)throw s}var util=_dereq_("util/"),pSlice=Array.prototype.slice,hasOwn=Object.prototype.hasOwnProperty,assert=module.exports=ok;assert.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var e=t.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var i=r.stack,s=e.name,n=i.indexOf("\n"+s);if(n>=0){var a=i.indexOf("\n",n+1);i=i.substring(a+1)}this.stack=i}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(t,e,r){t!=e&&fail(t,e,r,"==",assert.equal)},assert.notEqual=function(t,e,r){t==e&&fail(t,e,r,"!=",assert.notEqual)},assert.deepEqual=function(t,e,r){_deepEqual(t,e)||fail(t,e,r,"deepEqual",assert.deepEqual)},assert.notDeepEqual=function(t,e,r){_deepEqual(t,e)&&fail(t,e,r,"notDeepEqual",assert.notDeepEqual)},assert.strictEqual=function(t,e,r){t!==e&&fail(t,e,r,"===",assert.strictEqual)},assert.notStrictEqual=function(t,e,r){t===e&&fail(t,e,r,"!==",assert.notStrictEqual)},assert.throws=function(){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(t){if(t)throw t};var objectKeys=Object.keys||function(t){var e=[];for(var r in t)hasOwn.call(t,r)&&e.push(r);return e};
},{"util/":45}],44:[function(_dereq_,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],45:[function(_dereq_,module,exports){
(function(e,t){function r(e,t){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(t)?r.showHidden=t:t&&exports._extend(r,t),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=n),s(r,e,r.depth)}function n(e,t){var n=r.styles[t];return n?"["+r.colors[n][0]+"m"+e+"["+r.colors[n][1]+"m":e}function o(e){return e}function i(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function s(e,t,r){if(e.customInspect&&t&&S(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return x(n)||(n=s(e,n,r)),n}var o=u(e,t);if(o)return o;var g=Object.keys(t),d=i(g);if(e.showHidden&&(g=Object.getOwnPropertyNames(t)),O(t)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return c(t);if(0===g.length){if(S(t)){var y=t.name?": "+t.name:"";return e.stylize("[Function"+y+"]","special")}if(v(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(j(t))return e.stylize(Date.prototype.toString.call(t),"date");if(O(t))return c(t)}var m="",h=!1,b=["{","}"];if(f(t)&&(h=!0,b=["[","]"]),S(t)){var w=t.name?": "+t.name:"";m=" [Function"+w+"]"}if(v(t)&&(m=" "+RegExp.prototype.toString.call(t)),j(t)&&(m=" "+Date.prototype.toUTCString.call(t)),O(t)&&(m=" "+c(t)),0===g.length&&(!h||0==t.length))return b[0]+m+b[1];if(0>r)return v(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var z;return z=h?l(e,t,r,d,g):g.map(function(n){return a(e,t,r,d,n,h)}),e.seen.pop(),p(z,m,b)}function u(e,t){if(b(t))return e.stylize("undefined","undefined");if(x(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):d(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,r,n,o){for(var i=[],s=0,u=t.length;u>s;++s)i.push(_(t,String(s))?a(e,t,r,n,String(s),!0):"");return o.forEach(function(o){o.match(/^\d+$/)||i.push(a(e,t,r,n,o,!0))}),i}function a(e,t,r,n,o,i){var u,c,l;if(l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},l.get?c=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(c=e.stylize("[Setter]","special")),_(n,o)||(u="["+o+"]"),c||(e.seen.indexOf(l.value)<0?(c=d(r)?s(e,l.value,null):s(e,l.value,r-1),c.indexOf("\n")>-1&&(c=i?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n"))):c=e.stylize("[Circular]","special")),b(u)){if(i&&o.match(/^\d+$/))return c;u=JSON.stringify(""+o),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+c}function p(e,t,r){var n=0,o=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function f(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function d(e){return null===e}function y(e){return null==e}function m(e){return"number"==typeof e}function x(e){return"string"==typeof e}function h(e){return"symbol"==typeof e}function b(e){return void 0===e}function v(e){return w(e)&&"[object RegExp]"===E(e)}function w(e){return"object"==typeof e&&null!==e}function j(e){return w(e)&&"[object Date]"===E(e)}function O(e){return w(e)&&("[object Error]"===E(e)||e instanceof Error)}function S(e){return"function"==typeof e}function z(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function E(e){return Object.prototype.toString.call(e)}function D(e){return 10>e?"0"+e.toString(10):e.toString(10)}function N(){var e=new Date,t=[D(e.getHours()),D(e.getMinutes()),D(e.getSeconds())].join(":");return[e.getDate(),H[e.getMonth()],t].join(" ")}function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;exports.format=function(e){if(!x(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(r(arguments[n]));return t.join(" ")}for(var n=1,o=arguments,i=o.length,s=String(e).replace(A,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),u=o[n];i>n;u=o[++n])s+=d(u)||!w(u)?" "+u:" "+r(u);return s},exports.deprecate=function(r,n){function o(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}if(b(t.process))return function(){return exports.deprecate(r,n).apply(this,arguments)};if(e.noDeprecation===!0)return r;var i=!1;return o};var J,R={};exports.debuglog=function(t){if(b(J)&&(J=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(new RegExp("\\b"+t+"\\b","i").test(J)){var r=e.pid;R[t]=function(){var e=exports.format.apply(exports,arguments);console.error("%s %d: %s",t,r,e)}}else R[t]=function(){};return R[t]},exports.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=f,exports.isBoolean=g,exports.isNull=d,exports.isNullOrUndefined=y,exports.isNumber=m,exports.isString=x,exports.isSymbol=h,exports.isUndefined=b,exports.isRegExp=v,exports.isObject=w,exports.isDate=j,exports.isError=O,exports.isFunction=S,exports.isPrimitive=z,exports.isBuffer=_dereq_("./support/isBuffer");var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",N(),exports.format.apply(exports,arguments))},exports.inherits=_dereq_("inherits"),exports._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,_dereq_("/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"./support/isBuffer":44,"/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":56,"inherits":55}],46:[function(_dereq_,module,exports){
function Buffer(e,t,r){if(!(this instanceof Buffer))return new Buffer(e,t,r);var n=typeof e;if("base64"===t&&"string"===n)for(e=stringtrim(e);e.length%4!==0;)e+="=";var i;if("number"===n)i=coerce(e);else if("string"===n)i=Buffer.byteLength(e,t);else{if("object"!==n)throw new Error("First argument needs to be a number, array or string.");i=coerce(e.length)}var s;Buffer._useTypedArrays?s=Buffer._augment(new Uint8Array(i)):(s=this,s.length=i,s._isBuffer=!0);var a;if(Buffer._useTypedArrays&&"number"==typeof e.byteLength)s._set(e);else if(isArrayish(e))for(a=0;i>a;a++)s[a]=Buffer.isBuffer(e)?e.readUInt8(a):e[a];else if("string"===n)s.write(e,0,t);else if("number"===n&&!Buffer._useTypedArrays&&!r)for(a=0;i>a;a++)s[a]=0;return s}function _hexWrite(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=t.length;assert(s%2===0,"Invalid hex string"),n>s/2&&(n=s/2);for(var a=0;n>a;a++){var o=parseInt(t.substr(2*a,2),16);assert(!isNaN(o),"Invalid hex string"),e[r+a]=o}return Buffer._charsWritten=2*a,a}function _utf8Write(e,t,r,n){var i=Buffer._charsWritten=blitBuffer(utf8ToBytes(t),e,r,n);return i}function _asciiWrite(e,t,r,n){var i=Buffer._charsWritten=blitBuffer(asciiToBytes(t),e,r,n);return i}function _binaryWrite(e,t,r,n){return _asciiWrite(e,t,r,n)}function _base64Write(e,t,r,n){var i=Buffer._charsWritten=blitBuffer(base64ToBytes(t),e,r,n);return i}function _utf16leWrite(e,t,r,n){var i=Buffer._charsWritten=blitBuffer(utf16leToBytes(t),e,r,n);return i}function _base64Slice(e,t,r){return base64.fromByteArray(0===t&&r===e.length?e:e.slice(t,r))}function _utf8Slice(e,t,r){var n="",i="";r=Math.min(e.length,r);for(var s=t;r>s;s++)e[s]<=127?(n+=decodeUtf8Char(i)+String.fromCharCode(e[s]),i=""):i+="%"+e[s].toString(16);return n+decodeUtf8Char(i)}function _asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(e[i]);return n}function _binarySlice(e,t,r){return _asciiSlice(e,t,r)}function _hexSlice(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var i="",s=t;r>s;s++)i+=toHex(e[s]);return i}function _utf16leSlice(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function _readUInt16(e,t,r,n){n||(assert("boolean"==typeof r,"missing or invalid endian"),assert(void 0!==t&&null!==t,"missing offset"),assert(t+1<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var s;return r?(s=e[t],i>t+1&&(s|=e[t+1]<<8)):(s=e[t]<<8,i>t+1&&(s|=e[t+1])),s}}function _readUInt32(e,t,r,n){n||(assert("boolean"==typeof r,"missing or invalid endian"),assert(void 0!==t&&null!==t,"missing offset"),assert(t+3<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var s;return r?(i>t+2&&(s=e[t+2]<<16),i>t+1&&(s|=e[t+1]<<8),s|=e[t],i>t+3&&(s+=e[t+3]<<24>>>0)):(i>t+1&&(s=e[t+1]<<16),i>t+2&&(s|=e[t+2]<<8),i>t+3&&(s|=e[t+3]),s+=e[t]<<24>>>0),s}}function _readInt16(e,t,r,n){n||(assert("boolean"==typeof r,"missing or invalid endian"),assert(void 0!==t&&null!==t,"missing offset"),assert(t+1<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var s=_readUInt16(e,t,r,!0),a=32768&s;return a?-1*(65535-s+1):s}}function _readInt32(e,t,r,n){n||(assert("boolean"==typeof r,"missing or invalid endian"),assert(void 0!==t&&null!==t,"missing offset"),assert(t+3<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var s=_readUInt32(e,t,r,!0),a=2147483648&s;return a?-1*(4294967295-s+1):s}}function _readFloat(e,t,r,n){return n||(assert("boolean"==typeof r,"missing or invalid endian"),assert(t+3<e.length,"Trying to read beyond buffer length")),ieee754.read(e,t,r,23,4)}function _readDouble(e,t,r,n){return n||(assert("boolean"==typeof r,"missing or invalid endian"),assert(t+7<e.length,"Trying to read beyond buffer length")),ieee754.read(e,t,r,52,8)}function _writeUInt16(e,t,r,n,i){i||(assert(void 0!==t&&null!==t,"missing value"),assert("boolean"==typeof n,"missing or invalid endian"),assert(void 0!==r&&null!==r,"missing offset"),assert(r+1<e.length,"trying to write beyond buffer length"),verifuint(t,65535));var s=e.length;if(!(r>=s))for(var a=0,o=Math.min(s-r,2);o>a;a++)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function _writeUInt32(e,t,r,n,i){i||(assert(void 0!==t&&null!==t,"missing value"),assert("boolean"==typeof n,"missing or invalid endian"),assert(void 0!==r&&null!==r,"missing offset"),assert(r+3<e.length,"trying to write beyond buffer length"),verifuint(t,4294967295));var s=e.length;if(!(r>=s))for(var a=0,o=Math.min(s-r,4);o>a;a++)e[r+a]=t>>>8*(n?a:3-a)&255}function _writeInt16(e,t,r,n,i){i||(assert(void 0!==t&&null!==t,"missing value"),assert("boolean"==typeof n,"missing or invalid endian"),assert(void 0!==r&&null!==r,"missing offset"),assert(r+1<e.length,"Trying to write beyond buffer length"),verifsint(t,32767,-32768));var s=e.length;r>=s||(t>=0?_writeUInt16(e,t,r,n,i):_writeUInt16(e,65535+t+1,r,n,i))}function _writeInt32(e,t,r,n,i){i||(assert(void 0!==t&&null!==t,"missing value"),assert("boolean"==typeof n,"missing or invalid endian"),assert(void 0!==r&&null!==r,"missing offset"),assert(r+3<e.length,"Trying to write beyond buffer length"),verifsint(t,2147483647,-2147483648));var s=e.length;r>=s||(t>=0?_writeUInt32(e,t,r,n,i):_writeUInt32(e,4294967295+t+1,r,n,i))}function _writeFloat(e,t,r,n,i){i||(assert(void 0!==t&&null!==t,"missing value"),assert("boolean"==typeof n,"missing or invalid endian"),assert(void 0!==r&&null!==r,"missing offset"),assert(r+3<e.length,"Trying to write beyond buffer length"),verifIEEE754(t,3.4028234663852886e38,-3.4028234663852886e38));var s=e.length;r>=s||ieee754.write(e,t,r,n,23,4)}function _writeDouble(e,t,r,n,i){i||(assert(void 0!==t&&null!==t,"missing value"),assert("boolean"==typeof n,"missing or invalid endian"),assert(void 0!==r&&null!==r,"missing offset"),assert(r+7<e.length,"Trying to write beyond buffer length"),verifIEEE754(t,1.7976931348623157e308,-1.7976931348623157e308));var s=e.length;r>=s||ieee754.write(e,t,r,n,52,8)}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function clamp(e,t,r){return"number"!=typeof e?r:(e=~~e,e>=t?t:e>=0?e:(e+=t,e>=0?e:0))}function coerce(e){return e=~~Math.ceil(+e),0>e?0:e}function isArray(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function isArrayish(e){return isArray(e)||Buffer.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function toHex(e){return 16>e?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);if(127>=n)t.push(e.charCodeAt(r));else{var i=r;n>=55296&&57343>=n&&r++;for(var s=encodeURIComponent(e.slice(i,r+1)).substr(1).split("%"),a=0;a<s.length;a++)t.push(parseInt(s[a],16))}}return t}function asciiToBytes(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e){for(var t,r,n,i=[],s=0;s<e.length;s++)t=e.charCodeAt(s),r=t>>8,n=t%256,i.push(n),i.push(r);return i}function base64ToBytes(e){return base64.toByteArray(e)}function blitBuffer(e,t,r,n){for(var i=0;n>i&&!(i+r>=t.length||i>=e.length);i++)t[i+r]=e[i];return i}function decodeUtf8Char(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}function verifuint(e,t){assert("number"==typeof e,"cannot write a non-number as a number"),assert(e>=0,"specified a negative value for writing an unsigned value"),assert(t>=e,"value is larger than maximum value for type"),assert(Math.floor(e)===e,"value has a fractional component")}function verifsint(e,t,r){assert("number"==typeof e,"cannot write a non-number as a number"),assert(t>=e,"value larger than maximum allowed value"),assert(e>=r,"value smaller than minimum allowed value"),assert(Math.floor(e)===e,"value has a fractional component")}function verifIEEE754(e,t,r){assert("number"==typeof e,"cannot write a non-number as a number"),assert(t>=e,"value larger than maximum allowed value"),assert(e>=r,"value smaller than minimum allowed value")}function assert(e,t){if(!e)throw new Error(t||"Failed assertion")}var base64=_dereq_("base64-js"),ieee754=_dereq_("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=Buffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192,Buffer._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(r){return!1}}(),Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.isBuffer=function(e){return!(null===e||void 0===e||!e._isBuffer)},Buffer.byteLength=function(e,t){var r;switch(e+="",t||"utf8"){case"hex":r=e.length/2;break;case"utf8":case"utf-8":r=utf8ToBytes(e).length;break;case"ascii":case"binary":case"raw":r=e.length;break;case"base64":r=base64ToBytes(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=2*e.length;break;default:throw new Error("Unknown encoding")}return r},Buffer.concat=function(e,t){if(assert(isArray(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new Buffer(0);if(1===e.length)return e[0];var r;if("number"!=typeof t)for(t=0,r=0;r<e.length;r++)t+=e[r].length;var n=new Buffer(t),i=0;for(r=0;r<e.length;r++){var s=e[r];s.copy(n,i),i+=s.length}return n},Buffer.prototype.write=function(e,t,r,n){if(isFinite(t))isFinite(r)||(n=r,r=void 0);else{var i=n;n=t,t=r,r=i}t=Number(t)||0;var s=this.length-t;r?(r=Number(r),r>s&&(r=s)):r=s,n=String(n||"utf8").toLowerCase();var a;switch(n){case"hex":a=_hexWrite(this,e,t,r);break;case"utf8":case"utf-8":a=_utf8Write(this,e,t,r);break;case"ascii":a=_asciiWrite(this,e,t,r);break;case"binary":a=_binaryWrite(this,e,t,r);break;case"base64":a=_base64Write(this,e,t,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":a=_utf16leWrite(this,e,t,r);break;default:throw new Error("Unknown encoding")}return a},Buffer.prototype.toString=function(e,t,r){var n=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,r=void 0!==r?Number(r):r=n.length,r===t)return"";var i;switch(e){case"hex":i=_hexSlice(n,t,r);break;case"utf8":case"utf-8":i=_utf8Slice(n,t,r);break;case"ascii":i=_asciiSlice(n,t,r);break;case"binary":i=_binarySlice(n,t,r);break;case"base64":i=_base64Slice(n,t,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=_utf16leSlice(n,t,r);break;default:throw new Error("Unknown encoding")}return i},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.copy=function(e,t,r,n){var i=this;if(r||(r=0),n||0===n||(n=this.length),t||(t=0),n!==r&&0!==e.length&&0!==i.length){assert(n>=r,"sourceEnd < sourceStart"),assert(t>=0&&t<e.length,"targetStart out of bounds"),assert(r>=0&&r<i.length,"sourceStart out of bounds"),assert(n>=0&&n<=i.length,"sourceEnd out of bounds"),n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var s=n-r;if(100>s||!Buffer._useTypedArrays)for(var a=0;s>a;a++)e[a+t]=this[a+r];else e._set(this.subarray(r,r+s),t)}},Buffer.prototype.slice=function(e,t){var r=this.length;if(e=clamp(e,r,0),t=clamp(t,r,r),Buffer._useTypedArrays)return Buffer._augment(this.subarray(e,t));for(var n=t-e,i=new Buffer(n,void 0,!0),s=0;n>s;s++)i[s]=this[s+e];return i},Buffer.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},Buffer.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},Buffer.prototype.readUInt8=function(e,t){return t||(assert(void 0!==e&&null!==e,"missing offset"),assert(e<this.length,"Trying to read beyond buffer length")),e>=this.length?void 0:this[e]},Buffer.prototype.readUInt16LE=function(e,t){return _readUInt16(this,e,!0,t)},Buffer.prototype.readUInt16BE=function(e,t){return _readUInt16(this,e,!1,t)},Buffer.prototype.readUInt32LE=function(e,t){return _readUInt32(this,e,!0,t)},Buffer.prototype.readUInt32BE=function(e,t){return _readUInt32(this,e,!1,t)},Buffer.prototype.readInt8=function(e,t){if(t||(assert(void 0!==e&&null!==e,"missing offset"),assert(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length)){var r=128&this[e];return r?-1*(255-this[e]+1):this[e]}},Buffer.prototype.readInt16LE=function(e,t){return _readInt16(this,e,!0,t)},Buffer.prototype.readInt16BE=function(e,t){return _readInt16(this,e,!1,t)},Buffer.prototype.readInt32LE=function(e,t){return _readInt32(this,e,!0,t)},Buffer.prototype.readInt32BE=function(e,t){return _readInt32(this,e,!1,t)},Buffer.prototype.readFloatLE=function(e,t){return _readFloat(this,e,!0,t)},Buffer.prototype.readFloatBE=function(e,t){return _readFloat(this,e,!1,t)},Buffer.prototype.readDoubleLE=function(e,t){return _readDouble(this,e,!0,t)},Buffer.prototype.readDoubleBE=function(e,t){return _readDouble(this,e,!1,t)},Buffer.prototype.writeUInt8=function(e,t,r){r||(assert(void 0!==e&&null!==e,"missing value"),assert(void 0!==t&&null!==t,"missing offset"),assert(t<this.length,"trying to write beyond buffer length"),verifuint(e,255)),t>=this.length||(this[t]=e)},Buffer.prototype.writeUInt16LE=function(e,t,r){_writeUInt16(this,e,t,!0,r)},Buffer.prototype.writeUInt16BE=function(e,t,r){_writeUInt16(this,e,t,!1,r)},Buffer.prototype.writeUInt32LE=function(e,t,r){_writeUInt32(this,e,t,!0,r)},Buffer.prototype.writeUInt32BE=function(e,t,r){_writeUInt32(this,e,t,!1,r)},Buffer.prototype.writeInt8=function(e,t,r){r||(assert(void 0!==e&&null!==e,"missing value"),assert(void 0!==t&&null!==t,"missing offset"),assert(t<this.length,"Trying to write beyond buffer length"),verifsint(e,127,-128)),t>=this.length||(e>=0?this.writeUInt8(e,t,r):this.writeUInt8(255+e+1,t,r))},Buffer.prototype.writeInt16LE=function(e,t,r){_writeInt16(this,e,t,!0,r)},Buffer.prototype.writeInt16BE=function(e,t,r){_writeInt16(this,e,t,!1,r)},Buffer.prototype.writeInt32LE=function(e,t,r){_writeInt32(this,e,t,!0,r)},Buffer.prototype.writeInt32BE=function(e,t,r){_writeInt32(this,e,t,!1,r)},Buffer.prototype.writeFloatLE=function(e,t,r){_writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){_writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){_writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){_writeDouble(this,e,t,!1,r)},Buffer.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),"string"==typeof e&&(e=e.charCodeAt(0)),assert("number"==typeof e&&!isNaN(e),"value is not a number"),assert(r>=t,"end < start"),r!==t&&0!==this.length){assert(t>=0&&t<this.length,"start out of bounds"),assert(r>=0&&r<=this.length,"end out of bounds");for(var n=t;r>n;n++)this[n]=e}},Buffer.prototype.inspect=function(){for(var e=[],t=this.length,r=0;t>r;r++)if(e[r]=toHex(this[r]),r===exports.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},Buffer.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(Buffer._useTypedArrays)return new Buffer(this).buffer;for(var e=new Uint8Array(this.length),t=0,r=e.length;r>t;t+=1)e[t]=this[t];return e.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;Buffer._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=BP.get,e.set=BP.set,e.write=BP.write,e.toString=BP.toString,e.toLocaleString=BP.toString,e.toJSON=BP.toJSON,e.copy=BP.copy,e.slice=BP.slice,e.readUInt8=BP.readUInt8,e.readUInt16LE=BP.readUInt16LE,e.readUInt16BE=BP.readUInt16BE,e.readUInt32LE=BP.readUInt32LE,e.readUInt32BE=BP.readUInt32BE,e.readInt8=BP.readInt8,e.readInt16LE=BP.readInt16LE,e.readInt16BE=BP.readInt16BE,e.readInt32LE=BP.readInt32LE,e.readInt32BE=BP.readInt32BE,e.readFloatLE=BP.readFloatLE,e.readFloatBE=BP.readFloatBE,e.readDoubleLE=BP.readDoubleLE,e.readDoubleBE=BP.readDoubleBE,e.writeUInt8=BP.writeUInt8,e.writeUInt16LE=BP.writeUInt16LE,e.writeUInt16BE=BP.writeUInt16BE,e.writeUInt32LE=BP.writeUInt32LE,e.writeUInt32BE=BP.writeUInt32BE,e.writeInt8=BP.writeInt8,e.writeInt16LE=BP.writeInt16LE,e.writeInt16BE=BP.writeInt16BE,e.writeInt32LE=BP.writeInt32LE,e.writeInt32BE=BP.writeInt32BE,e.writeFloatLE=BP.writeFloatLE,e.writeFloatBE=BP.writeFloatBE,e.writeDoubleLE=BP.writeDoubleLE,e.writeDoubleBE=BP.writeDoubleBE,e.fill=BP.fill,e.inspect=BP.inspect,e.toArrayBuffer=BP.toArrayBuffer,e};
},{"base64-js":47,"ieee754":48}],47:[function(_dereq_,module,exports){
var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function r(t){var r=t.charCodeAt(0);return r===h?62:r===c?63:o>r?-1:o+10>r?r-o+26+26:i+26>r?r-i:A+26>r?r-A+26:void 0}function e(t){function e(t){i[f++]=t}var n,h,c,o,A,i;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.length;A="="===t.charAt(u-2)?2:"="===t.charAt(u-1)?1:0,i=new a(3*t.length/4-A),c=A>0?t.length-4:t.length;var f=0;for(n=0,h=0;c>n;n+=4,h+=3)o=r(t.charAt(n))<<18|r(t.charAt(n+1))<<12|r(t.charAt(n+2))<<6|r(t.charAt(n+3)),e((16711680&o)>>16),e((65280&o)>>8),e(255&o);return 2===A?(o=r(t.charAt(n))<<2|r(t.charAt(n+1))>>4,e(255&o)):1===A&&(o=r(t.charAt(n))<<10|r(t.charAt(n+1))<<4|r(t.charAt(n+2))>>2,e(o>>8&255),e(255&o)),i}function n(t){function r(t){return lookup.charAt(t)}function e(t){return r(t>>18&63)+r(t>>12&63)+r(t>>6&63)+r(63&t)}var n,a,h,c=t.length%3,o="";for(n=0,h=t.length-c;h>n;n+=3)a=(t[n]<<16)+(t[n+1]<<8)+t[n+2],o+=e(a);switch(c){case 1:a=t[t.length-1],o+=r(a>>2),o+=r(a<<4&63),o+="==";break;case 2:a=(t[t.length-2]<<8)+t[t.length-1],o+=r(a>>10),o+=r(a>>4&63),o+=r(a<<2&63),o+="="}return o}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,h="+".charCodeAt(0),c="/".charCodeAt(0),o="0".charCodeAt(0),A="a".charCodeAt(0),i="A".charCodeAt(0);t.toByteArray=e,t.fromByteArray=n}("undefined"==typeof exports?this.base64js={}:exports);
},{}],48:[function(_dereq_,module,exports){
exports.read=function(o,t,a,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,n=a?h-1:0,s=a?-1:1,N=o[t+n];for(n+=s,M=N&(1<<-i)-1,N>>=-i,i+=w;i>0;M=256*M+o[t+n],n+=s,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+o[t+n],n+=s,i-=8);if(0===M)M=1-e;else{if(M===f)return p?0/0:1/0*(N?-1:1);p+=Math.pow(2,r),M-=e}return(N?-1:1)*p*Math.pow(2,M-r)},exports.write=function(o,t,a,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,n=i>>1,s=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,N=r?0:M-1,u=r?1:-1,l=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(w=isNaN(t)?1:0,p=i):(p=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-p))<1&&(p--,f*=2),t+=p+n>=1?s/f:s*Math.pow(2,1-n),t*f>=2&&(p++,f/=2),p+n>=i?(w=0,p=i):p+n>=1?(w=(t*f-1)*Math.pow(2,h),p+=n):(w=t*Math.pow(2,n-1)*Math.pow(2,h),p=0));h>=8;o[a+N]=255&w,N+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;o[a+N]=255&p,N+=u,p/=256,e-=8);o[a+N-u]|=128*l};
},{}],49:[function(_dereq_,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length))throw t=arguments[1],t instanceof Error?t:TypeError('Uncaught, unspecified "error" event.');if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};
},{}],50:[function(_dereq_,module,exports){
var http=module.exports,EventEmitter=_dereq_("events").EventEmitter,Request=_dereq_("./lib/request"),url=_dereq_("url");http.request=function(e,t){"string"==typeof e&&(e=url.parse(e)),e||(e={}),e.host||e.port||(e.port=parseInt(window.location.port,10)),!e.host&&e.hostname&&(e.host=e.hostname),e.scheme||(e.scheme=window.location.protocol.split(":")[0]),e.host||(e.host=window.location.hostname||window.location.host),/:/.test(e.host)&&(e.port||(e.port=e.host.split(":")[1]),e.host=e.host.split(":")[0]),e.port||(e.port="https"==e.scheme?443:80);var o=new Request(new xhrHttp,e);return t&&o.on("response",t),o},http.get=function(e,t){e.method="GET";var o=http.request(e,t);return o.end(),o},http.Agent=function(){},http.Agent.defaultMaxSockets=4;var xhrHttp=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{var o=new window.ActiveXObject(e[t]);return function(){if(o){var r=o;return o=null,r}return new window.ActiveXObject(e[t])}}catch(r){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();http.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};
},{"./lib/request":51,"events":49,"url":69}],51:[function(_dereq_,module,exports){
var Stream=_dereq_("stream"),Response=_dereq_("./response"),Base64=_dereq_("Base64"),inherits=_dereq_("inherits"),Request=module.exports=function(e,t){var r=this;r.writable=!0,r.xhr=e,r.body=[],r.uri=(t.scheme||"http")+"://"+t.host+(t.port?":"+t.port:"")+(t.path||"/"),"undefined"==typeof t.withCredentials&&(t.withCredentials=!0);try{e.withCredentials=t.withCredentials}catch(s){}if(e.open(t.method||"GET",r.uri,!0),r._headers={},t.headers)for(var o=objectKeys(t.headers),i=0;i<o.length;i++){var n=o[i];if(r.isSafeRequestHeader(n)){var a=t.headers[n];r.setHeader(n,a)}}t.auth&&this.setHeader("Authorization","Basic "+Base64.btoa(t.auth));var h=new Response;h.on("close",function(){r.emit("close")}),h.on("ready",function(){r.emit("response",h)}),e.onreadystatechange=function(){e.__aborted||h.handle(e)}};inherits(Request,Stream),Request.prototype.setHeader=function(e,t){this._headers[e.toLowerCase()]=t},Request.prototype.getHeader=function(e){return this._headers[e.toLowerCase()]},Request.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},Request.prototype.write=function(e){this.body.push(e)},Request.prototype.destroy=function(){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},Request.prototype.end=function(e){void 0!==e&&this.body.push(e);for(var t=objectKeys(this._headers),r=0;r<t.length;r++){var s=t[r],o=this._headers[s];if(isArray(o))for(var i=0;i<o.length;i++)this.xhr.setRequestHeader(s,o[i]);else this.xhr.setRequestHeader(s,o)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(isArray(this.body[0])){for(var n=[],r=0;r<this.body.length;r++)n.push.apply(n,this.body[r]);this.xhr.send(n)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var a=0,r=0;r<this.body.length;r++)a+=this.body[r].length;for(var n=new this.body[0].constructor(a),h=0,r=0;r<this.body.length;r++)for(var d=this.body[r],i=0;i<d.length;i++)n[h++]=d[i];this.xhr.send(n)}else{for(var n="",r=0;r<this.body.length;r++)n+=this.body[r].toString();this.xhr.send(n)}},Request.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],Request.prototype.isSafeRequestHeader=function(e){return e?-1===indexOf(Request.unsafeHeaders,e.toLowerCase()):!1};var objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1};
},{"./response":52,"Base64":53,"inherits":55,"stream":62}],52:[function(_dereq_,module,exports){
function parseHeaders(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),s={},r=0;r<t.length;r++){var a=t[r];if(""!==a){var i=a.match(/^([^:]+):\s*(.*)/);if(i){var o=i[1].toLowerCase(),n=i[2];void 0!==s[o]?isArray(s[o])?s[o].push(n):s[o]=[s[o],n]:s[o]=n}else s[a]=!0}}return s}var Stream=_dereq_("stream"),util=_dereq_("util"),Response=module.exports=function(){this.offset=0,this.readable=!0};util.inherits(Response,Stream);var capable={streaming:!0,status2:!0};Response.prototype.getResponse=function(e){var t=String(e.responseType).toLowerCase();return"blob"===t?e.responseBlob||e.response:"arraybuffer"===t?e.response:e.responseText},Response.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]},Response.prototype.handle=function(e){if(2===e.readyState&&capable.status2){try{this.statusCode=e.status,this.headers=parseHeaders(e)}catch(t){capable.status2=!1}capable.status2&&this.emit("ready")}else if(capable.streaming&&3===e.readyState){try{this.statusCode||(this.statusCode=e.status,this.headers=parseHeaders(e),this.emit("ready"))}catch(t){}try{this._emitData(e)}catch(t){capable.streaming=!1}}else 4===e.readyState&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this._emitData(e),e.error?this.emit("error",this.getResponse(e)):this.emit("end"),this.emit("close"))},Response.prototype._emitData=function(e){var t=this.getResponse(e);return t.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(t,this.offset)),void(this.offset=t.byteLength)):void(t.length>this.offset&&(this.emit("data",t.slice(this.offset)),this.offset=t.length))};var isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};
},{"stream":62,"util":71}],53:[function(_dereq_,module,exports){
!function(){function t(t){this.message=t}var e="undefined"!=typeof exports?exports:this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var o,n,a=0,i=r,c="";e.charAt(0|a)||(i="=",a%1);c+=i.charAt(63&o>>8-a%1*8)){if(n=e.charCodeAt(a+=.75),n>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|n}return c}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,""),e.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,n,a=0,i=0,c="";n=e.charAt(i++);~n&&(o=a%4?64*o+n:n,a++%4)?c+=String.fromCharCode(255&o>>(-2*a&6)):0)n=r.indexOf(n);return c})}();
},{}],54:[function(_dereq_,module,exports){
var http=_dereq_("http"),https=module.exports;for(var key in http)http.hasOwnProperty(key)&&(https[key]=http[key]);https.request=function(t,e){return t||(t={}),t.scheme="https",http.request.call(this,t,e)};
},{"http":50}],55:[function(_dereq_,module,exports){
module.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],56:[function(_dereq_,module,exports){
function noop(){}var process=module.exports={};process.nextTick=function(){var o="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(o)return function(o){return window.setImmediate(o)};if(e){var n=[];return window.addEventListener("message",function(o){var e=o.source;if((e===window||null===e)&&"process-tick"===o.data&&(o.stopPropagation(),n.length>0)){var s=n.shift();s()}},!0),function(o){n.push(o),window.postMessage("process-tick","*")}}return function(o){setTimeout(o,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.once=noop,process.off=noop,process.emit=noop,process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")};
},{}],57:[function(_dereq_,module,exports){
(function(e){!function(o){function n(e){throw RangeError(M[e])}function t(e,o){for(var n=e.length;n--;)e[n]=o(e[n]);return e}function r(e,o){return t(e.split(L),o).join(".")}function f(e){for(var o,n,t=[],r=0,f=e.length;f>r;)o=e.charCodeAt(r++),o>=55296&&56319>=o&&f>r?(n=e.charCodeAt(r++),56320==(64512&n)?t.push(((1023&o)<<10)+(1023&n)+65536):(t.push(o),r--)):t.push(o);return t}function i(e){return t(e,function(e){var o="";return e>65535&&(e-=65536,o+=T(e>>>10&1023|55296),e=56320|1023&e),o+=T(e)}).join("")}function u(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:C}function c(e,o){return e+22+75*(26>e)-((0!=o)<<5)}function d(e,o,n){var t=0;for(e=n?R(e/A):e>>1,e+=R(e/o);e>P*j>>1;t+=C)e=R(e/P);return R(t+(P+1)*e/(e+m))}function l(e){var o,t,r,f,c,l,s,p,a,h,v=[],w=e.length,g=0,y=F,m=I;for(t=e.lastIndexOf(E),0>t&&(t=0),r=0;t>r;++r)e.charCodeAt(r)>=128&&n("not-basic"),v.push(e.charCodeAt(r));for(f=t>0?t+1:0;w>f;){for(c=g,l=1,s=C;f>=w&&n("invalid-input"),p=u(e.charCodeAt(f++)),(p>=C||p>R((x-g)/l))&&n("overflow"),g+=p*l,a=m>=s?b:s>=m+j?j:s-m,!(a>p);s+=C)h=C-a,l>R(x/h)&&n("overflow"),l*=h;o=v.length+1,m=d(g-c,o,0==c),R(g/o)>x-y&&n("overflow"),y+=R(g/o),g%=o,v.splice(g++,0,y)}return i(v)}function s(e){var o,t,r,i,u,l,s,p,a,h,v,w,g,y,m,A=[];for(e=f(e),w=e.length,o=F,t=0,u=I,l=0;w>l;++l)v=e[l],128>v&&A.push(T(v));for(r=i=A.length,i&&A.push(E);w>r;){for(s=x,l=0;w>l;++l)v=e[l],v>=o&&s>v&&(s=v);for(g=r+1,s-o>R((x-t)/g)&&n("overflow"),t+=(s-o)*g,o=s,l=0;w>l;++l)if(v=e[l],o>v&&++t>x&&n("overflow"),v==o){for(p=t,a=C;h=u>=a?b:a>=u+j?j:a-u,!(h>p);a+=C)m=p-h,y=C-h,A.push(T(c(h+m%y,0))),p=R(m/y);A.push(T(c(p,0))),u=d(t,g,r==i),t=0,++r}++t,++o}return A.join("")}function p(e){return r(e,function(e){return O.test(e)?l(e.slice(4).toLowerCase()):e})}function a(e){return r(e,function(e){return S.test(e)?"xn--"+s(e):e})}var h="object"==typeof exports&&exports,v="object"==typeof module&&module&&module.exports==h&&module,w="object"==typeof e&&e;(w.global===w||w.window===w)&&(o=w);var g,y,x=2147483647,C=36,b=1,j=26,m=38,A=700,I=72,F=128,E="-",O=/^xn--/,S=/[^ -~]/,L=/\x2E|\u3002|\uFF0E|\uFF61/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=C-b,R=Math.floor,T=String.fromCharCode;if(g={version:"1.2.4",ucs2:{decode:f,encode:i},decode:l,encode:s,toASCII:a,toUnicode:p},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(h&&!h.nodeType)if(v)v.exports=g;else for(y in g)g.hasOwnProperty(y)&&(h[y]=g[y]);else o.punycode=g}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{}],58:[function(_dereq_,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;p>y;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],59:[function(_dereq_,module,exports){
"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?r[n].map(function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};
},{}],60:[function(_dereq_,module,exports){
"use strict";exports.decode=exports.parse=_dereq_("./decode"),exports.encode=exports.stringify=_dereq_("./encode");
},{"./decode":58,"./encode":59}],61:[function(_dereq_,module,exports){
function Duplex(e){return this instanceof Duplex?(Readable.call(this,e),Writable.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(e)}function onend(){if(!this.allowHalfOpen&&!this._writableState.ended){var e=this;setImmediate(function(){e.end()})}}module.exports=Duplex;var inherits=_dereq_("inherits"),setImmediate=_dereq_("process/browser.js").nextTick,Readable=_dereq_("./readable.js"),Writable=_dereq_("./writable.js");inherits(Duplex,Readable),Duplex.prototype.write=Writable.prototype.write,Duplex.prototype.end=Writable.prototype.end,Duplex.prototype._write=Writable.prototype._write;
},{"./readable.js":65,"./writable.js":67,"inherits":55,"process/browser.js":63}],62:[function(_dereq_,module,exports){
function Stream(){EE.call(this)}module.exports=Stream;var EE=_dereq_("events").EventEmitter,inherits=_dereq_("inherits");inherits(Stream,EE),Stream.Readable=_dereq_("./readable.js"),Stream.Writable=_dereq_("./writable.js"),Stream.Duplex=_dereq_("./duplex.js"),Stream.Transform=_dereq_("./transform.js"),Stream.PassThrough=_dereq_("./passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(e,r){function t(r){e.writable&&!1===e.write(r)&&m.pause&&m.pause()}function n(){m.readable&&m.resume&&m.resume()}function o(){u||(u=!0,e.end())}function i(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(a(),0===EE.listenerCount(this,"error"))throw e}function a(){m.removeListener("data",t),e.removeListener("drain",n),m.removeListener("end",o),m.removeListener("close",i),m.removeListener("error",s),e.removeListener("error",s),m.removeListener("end",a),m.removeListener("close",a),e.removeListener("close",a)}var m=this;m.on("data",t),e.on("drain",n),e._isStdio||r&&r.end===!1||(m.on("end",o),m.on("close",i));var u=!1;return m.on("error",s),e.on("error",s),m.on("end",a),m.on("close",a),e.on("close",a),e.emit("pipe",m),e};
},{"./duplex.js":61,"./passthrough.js":64,"./readable.js":65,"./transform.js":66,"./writable.js":67,"events":49,"inherits":55}],63:[function(_dereq_,module,exports){
var process=module.exports={};process.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(n){var o=[];return window.addEventListener("message",function(e){var n=e.source;if((n===window||null===n)&&"process-tick"===e.data&&(e.stopPropagation(),o.length>0)){var r=o.shift();r()}},!0),function(e){o.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")};
},{}],64:[function(_dereq_,module,exports){
function PassThrough(r){return this instanceof PassThrough?void Transform.call(this,r):new PassThrough(r)}module.exports=PassThrough;var Transform=_dereq_("./transform.js"),inherits=_dereq_("inherits");inherits(PassThrough,Transform),PassThrough.prototype._transform=function(r,s,o){o(null,r)};
},{"./transform.js":66,"inherits":55}],65:[function(_dereq_,module,exports){
(function(e){function t(e){e=e||{};var t=e.highWaterMark;this.highWaterMark=t||0===t?t:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(_||(_=_dereq_("string_decoder").StringDecoder),this.decoder=new _(e.encoding),this.encoding=e.encoding)}function n(e){return this instanceof n?(this._readableState=new t(e,this),this.readable=!0,void S.call(this)):new n(e)}function r(e,t,n,r,a){var o=d(t,n);if(o)e.emit("error",o);else if(null===n||void 0===n)t.reading=!1,t.ended||s(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!a){var u=new Error("stream.push() after EOF");e.emit("error",u)}else if(t.endEmitted&&a){var u=new Error("stream.unshift() after end event");e.emit("error",u)}else!t.decoder||a||r||(n=t.decoder.write(n)),t.length+=t.objectMode?1:n.length,a?t.buffer.unshift(n):(t.reading=!1,t.buffer.push(n)),t.needReadable&&l(e),h(e,t);else a||(t.reading=!1);return i(t)}function i(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=L)e=L;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function o(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||null===e?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function d(e,t){var n=null;return R.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||n||(n=new TypeError("Invalid non-string/buffer chunk")),n}function s(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.length>0?l(e):m(e)}function l(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?E(function(){u(e)}):u(e))}function u(e){e.emit("readable")}function h(e,t){t.readingMore||(t.readingMore=!0,E(function(){f(e,t)}))}function f(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function p(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&c(e)}}function c(e){function t(e){var t=e.write(n);!1===t&&r.awaitDrain++}var n,r=e._readableState;for(r.awaitDrain=0;r.pipesCount&&null!==(n=e.read());)if(1===r.pipesCount?t(r.pipes,0,null):w(r.pipes,t),e.emit("data",n),r.awaitDrain>0)return;return 0===r.pipesCount?(r.flowing=!1,void(M.listenerCount(e,"data")>0&&b(e))):void(r.ranOut=!0)}function g(){this._readableState.ranOut&&(this._readableState.ranOut=!1,c(this))}function b(e,t){var n=e._readableState;if(n.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,i=!1;e.readable=!0,e.pipe=S.prototype.pipe,e.on=e.addListener=S.prototype.on,e.on("readable",function(){i=!0;for(var t;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(i=!1,e._readableState.needReadable=!0)}),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,i?E(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function v(e,t){var n,r=t.buffer,i=t.length,a=!!t.decoder,o=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(o)n=r.shift();else if(!e||e>=i)n=a?r.join(""):R.concat(r,i),r.length=0;else if(e<r[0].length){var d=r[0];n=d.slice(0,e),r[0]=d.slice(e)}else if(e===r[0].length)n=r.shift();else{n=a?"":new R(e);for(var s=0,l=0,u=r.length;u>l&&e>s;l++){var d=r[0],h=Math.min(e-s,d.length);a?n+=d.slice(0,h):d.copy(n,s,0,h),h<d.length?r[0]=d.slice(h):r.shift(),s+=h}}return n}function m(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,E(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function w(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function y(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}module.exports=n,n.ReadableState=t;var _,M=_dereq_("events").EventEmitter,S=_dereq_("./index.js"),R=_dereq_("buffer").Buffer,E=_dereq_("process/browser.js").nextTick,C=_dereq_("inherits");C(n,S),n.prototype.push=function(e,t){var n=this._readableState;return"string"!=typeof e||n.objectMode||(t=t||n.defaultEncoding,t!==n.encoding&&(e=new R(e,t),t="")),r(this,n,e,t,!1)},n.prototype.unshift=function(e){var t=this._readableState;return r(this,t,e,"",!0)},n.prototype.setEncoding=function(e){_||(_=_dereq_("string_decoder").StringDecoder),this._readableState.decoder=new _(e),this._readableState.encoding=e};var L=8388608;n.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l(this),null;if(e=o(e,t),0===e&&t.ended)return 0===t.length&&m(this),null;var r=t.needReadable;t.length-e<=t.highWaterMark&&(r=!0),(t.ended||t.reading)&&(r=!1),r&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=o(n,t));var i;return i=e>0?v(e,t):null,null===i&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&m(this),i},n.prototype._read=function(){this.emit("error",new Error("not implemented"))},n.prototype.pipe=function(t,n){function r(e){e===u&&a()}function i(){t.end()}function a(){t.removeListener("close",d),t.removeListener("finish",s),t.removeListener("drain",v),t.removeListener("error",o),t.removeListener("unpipe",r),u.removeListener("end",i),u.removeListener("end",a),(!t._writableState||t._writableState.needDrain)&&v()}function o(e){l(),0===m&&0===M.listenerCount(t,"error")&&t.emit("error",e)}function d(){t.removeListener("finish",s),l()}function s(){t.removeListener("close",d),l()}function l(){u.unpipe(t)}var u=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=t;break;case 1:h.pipes=[h.pipes,t];break;default:h.pipes.push(t)}h.pipesCount+=1;var f=(!n||n.end!==!1)&&t!==e.stdout&&t!==e.stderr,b=f?i:a;h.endEmitted?E(b):u.once("end",b),t.on("unpipe",r);var v=p(u);t.on("drain",v);var m=M.listenerCount(t,"error");return t.once("error",o),t.once("close",d),t.once("finish",s),t.emit("pipe",u),h.flowing||(this.on("readable",g),h.flowing=!0,E(function(){c(u)})),t},n.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",g),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",g),t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=y(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},n.prototype.on=function(e,t){var n=S.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||b(this),"readable"===e&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&l(this,r):this.read(0))}return n},n.prototype.addListener=n.prototype.on,n.prototype.resume=function(){b(this),this.read(0),this.emit("resume")},n.prototype.pause=function(){b(this,!0),this.emit("pause")},n.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var a=r.push(i);a||(n=!0,e.pause())}});for(var i in e)"function"==typeof e[i]&&"undefined"==typeof this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var a=["error","close","destroy","pause","resume"];return w(a,function(t){e.on(t,function(e){return r.emit.apply(r,t,e)})}),r._read=function(){n&&(n=!1,e.resume())},r},n._fromList=v}).call(this,_dereq_("/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"));
},{"./index.js":62,"/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":56,"buffer":46,"events":49,"inherits":55,"process/browser.js":63,"string_decoder":68}],66:[function(_dereq_,module,exports){
function TransformState(r,t){this.afterTransform=function(r,n){return afterTransform(t,r,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function afterTransform(r,t,n){var e=r._transformState;e.transforming=!1;var a=e.writecb;if(!a)return r.emit("error",new Error("no writecb in Transform class"));e.writechunk=null,e.writecb=null,null!==n&&void 0!==n&&r.push(n),a&&a(t);var i=r._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&r._read(i.highWaterMark)}function Transform(r){if(!(this instanceof Transform))return new Transform(r);Duplex.call(this,r);var t=(this._transformState=new TransformState(r,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(r){done(t,r)}):done(t)})}function done(r,t){if(t)return r.emit("error",t);var n=r._writableState,e=(r._readableState,r._transformState);if(n.length)throw new Error("calling transform done when ws.length != 0");if(e.transforming)throw new Error("calling transform done when still transforming");return r.push(null)}module.exports=Transform;var Duplex=_dereq_("./duplex.js"),inherits=_dereq_("inherits");inherits(Transform,Duplex),Transform.prototype.push=function(r,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,r,t)},Transform.prototype._transform=function(){throw new Error("not implemented")},Transform.prototype._write=function(r,t,n){var e=this._transformState;if(e.writecb=n,e.writechunk=r,e.writeencoding=t,!e.transforming){var a=this._readableState;(e.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},Transform.prototype._read=function(){var r=this._transformState;r.writechunk&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0};
},{"./duplex.js":61,"inherits":55}],67:[function(_dereq_,module,exports){
function WriteReq(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function WritableState(e,t){e=e||{};var r=e.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.buffer=[]}function Writable(e){return this instanceof Writable||this instanceof Stream.Duplex?(this._writableState=new WritableState(e,this),this.writable=!0,void Stream.call(this)):new Writable(e)}function writeAfterEnd(e,t,r){var i=new Error("write after end");e.emit("error",i),setImmediate(function(){r(i)})}function validChunk(e,t,r,i){var n=!0;if(!Buffer.isBuffer(r)&&"string"!=typeof r&&null!==r&&void 0!==r&&!t.objectMode){var f=new TypeError("Invalid non-string/buffer chunk");e.emit("error",f),setImmediate(function(){i(f)}),n=!1}return n}function decodeChunk(e,t,r){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new Buffer(t,r)),t}function writeOrBuffer(e,t,r,i,n){r=decodeChunk(t,r,i);var f=t.objectMode?1:r.length;t.length+=f;var o=t.length<t.highWaterMark;return t.needDrain=!o,t.writing?t.buffer.push(new WriteReq(r,i,n)):doWrite(e,t,f,r,i,n),o}function doWrite(e,t,r,i,n,f){t.writelen=r,t.writecb=f,t.writing=!0,t.sync=!0,e._write(i,n,t.onwrite),t.sync=!1}function onwriteError(e,t,r,i,n){r?setImmediate(function(){n(i)}):n(i),e.emit("error",i)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(onwriteStateUpdate(r),t)onwriteError(e,r,i,t,n);else{var f=needFinish(e,r);f||r.bufferProcessing||!r.buffer.length||clearBuffer(e,r),i?setImmediate(function(){afterWrite(e,r,f,n)}):afterWrite(e,r,f,n)}}function afterWrite(e,t,r,i){r||onwriteDrain(e,t),i(),r&&finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r],n=i.chunk,f=i.encoding,o=i.callback,a=t.objectMode?1:n.length;if(doWrite(e,t,a,n,f,o),t.writing){r++;break}}t.bufferProcessing=!1,r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}function needFinish(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function finishMaybe(e,t){var r=needFinish(e,t);return r&&(t.finished=!0,e.emit("finish")),r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?setImmediate(r):e.once("finish",r)),t.ended=!0}module.exports=Writable,Writable.WritableState=WritableState;var isUint8Array="undefined"!=typeof Uint8Array?function(e){return e instanceof Uint8Array}:function(e){return e&&e.constructor&&"Uint8Array"===e.constructor.name},isArrayBuffer="undefined"!=typeof ArrayBuffer?function(e){return e instanceof ArrayBuffer}:function(e){return e&&e.constructor&&"ArrayBuffer"===e.constructor.name},inherits=_dereq_("inherits"),Stream=_dereq_("./index.js"),setImmediate=_dereq_("process/browser.js").nextTick,Buffer=_dereq_("buffer").Buffer;inherits(Writable,Stream),Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Writable.prototype.write=function(e,t,r){var i=this._writableState,n=!1;return"function"==typeof t&&(r=t,t=null),!Buffer.isBuffer(e)&&isUint8Array(e)&&(e=new Buffer(e)),isArrayBuffer(e)&&"undefined"!=typeof Uint8Array&&(e=new Buffer(new Uint8Array(e))),Buffer.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=function(){}),i.ended?writeAfterEnd(this,i,r):validChunk(this,i,e,r)&&(n=writeOrBuffer(this,i,e,t,r)),n},Writable.prototype._write=function(e,t,r){r(new Error("not implemented"))},Writable.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),"undefined"!=typeof e&&null!==e&&this.write(e,t),i.ending||i.finished||endWritable(this,i,r)};
},{"./index.js":62,"buffer":46,"inherits":55,"process/browser.js":63}],68:[function(_dereq_,module,exports){
function assertEncoding(e){if(e&&!Buffer.isEncoding(e))throw new Error("Unknown encoding: "+e)}function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){var t=this.charReceived=e.length%2;return this.charLength=t?2:0,t}function base64DetectIncompleteChar(e){var t=this.charReceived=e.length%3;return this.charLength=t?3:0,t}var Buffer=_dereq_("buffer").Buffer,StringDecoder=exports.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};StringDecoder.prototype.write=function(e){for(var t="",r=0;this.charLength;){var h=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,r,h),this.charReceived+=h-r,r=h,this.charReceived<this.charLength)return"";t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=t.charCodeAt(t.length-1);if(!(i>=55296&&56319>=i)){if(this.charReceived=this.charLength=0,h==e.length)return t;e=e.slice(h,e.length);break}this.charLength+=this.surrogateSize,t=""}var c=this.detectIncompleteChar(e),n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-c,n),this.charReceived=c,n-=c),t+=e.toString(this.encoding,0,n);var n=t.length-1,i=t.charCodeAt(n);if(i>=55296&&56319>=i){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),this.charBuffer.write(t.charAt(t.length-1),this.encoding),t.substring(0,n)}return t},StringDecoder.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(2>=t&&r>>4==14){this.charLength=3;break}if(3>=t&&r>>3==30){this.charLength=4;break}}return t},StringDecoder.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,h=this.charBuffer,i=this.encoding;t+=h.slice(0,r).toString(i)}return t};
},{"buffer":46}],69:[function(_dereq_,module,exports){
!function(){"use strict";function t(t,h,a){if(t&&"object"==typeof t&&t.href)return t;if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n={},p=t;p=p.trim();var i=r.exec(p);if(i){i=i[0];var q=i.toLowerCase();n.protocol=q,p=p.substr(i.length)}if(a||i||p.match(/^\/\/[^@\/]+@[^@\/]+/)){var j="//"===p.substr(0,2);!j||i&&g[i]||(p=p.substr(2),n.slashes=!0)}if(!g[i]&&(j||i&&!y[i])){var x=p.indexOf("@");if(-1!==x){for(var A=p.slice(0,x),O=!0,z=0,C=m.length;C>z;z++)if(-1!==A.indexOf(m[z])){O=!1;break}O&&(n.auth=decodeURIComponent(A),p=p.substr(x+1))}for(var Z=-1,z=0,C=f.length;C>z;z++){var k=p.indexOf(f[z]);-1!==k&&(0>Z||Z>k)&&(Z=k)}-1!==Z?(n.host=p.substr(0,Z),p=p.substr(Z)):(n.host=p,p="");for(var w=s(n.host),I=Object.keys(w),z=0,C=I.length;C>z;z++){var R=I[z];n[R]=w[R]}n.hostname=n.hostname||"";var U="["===n.hostname[0]&&"]"===n.hostname[n.hostname.length-1];if(n.hostname.length>l)n.hostname="";else if(!U)for(var $=n.hostname.split(/\./),z=0,C=$.length;C>z;z++){var _=$[z];if(_&&!_.match(u)){for(var L="",E=0,P=_.length;P>E;E++)L+=_.charCodeAt(E)>127?"x":_[E];if(!L.match(u)){var T=$.slice(0,z),B=$.slice(z+1),D=_.match(v);D&&(T.push(D[1]),B.unshift(D[2])),B.length&&(p="/"+B.join(".")+p),n.hostname=T.join(".");break}}}if(n.hostname=n.hostname.toLowerCase(),!U){for(var F=n.hostname.split("."),G=[],z=0;z<F.length;++z){var H=F[z];G.push(H.match(/[^A-Za-z0-9_-]/)?"xn--"+o.encode(H):H)}n.hostname=G.join(".")}n.host=(n.hostname||"")+(n.port?":"+n.port:""),n.href+=n.host,U&&(n.hostname=n.hostname.substr(1,n.hostname.length-2),"/"!==p[0]&&(p="/"+p))}if(!d[q])for(var z=0,C=c.length;C>z;z++){var J=c[z],K=encodeURIComponent(J);K===J&&(K=escape(J)),p=p.split(J).join(K)}var M=p.indexOf("#");-1!==M&&(n.hash=p.substr(M),p=p.slice(0,M));var N=p.indexOf("?");return-1!==N?(n.search=p.substr(N),n.query=p.substr(N+1),h&&(n.query=b.parse(n.query)),p=p.slice(0,N)):h&&(n.search="",n.query={}),p&&(n.pathname=p),y[i]&&n.hostname&&!n.pathname&&(n.pathname="/"),(n.pathname||n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=e(n),n}function e(e){"string"==typeof e&&(e=t(e));var h=e.auth||"";h&&(h=encodeURIComponent(h),h=h.replace(/%3A/i,":"),h+="@");var a=e.protocol||"",s=e.pathname||"",o=e.hash||"",r=!1,n="";void 0!==e.host?r=h+e.host:void 0!==e.hostname&&(r=h+(-1===e.hostname.indexOf(":")?e.hostname:"["+e.hostname+"]"),e.port&&(r+=":"+e.port)),e.query&&"object"==typeof e.query&&Object.keys(e.query).length&&(n=b.stringify(e.query));var p=e.search||n&&"?"+n||"";return a&&":"!==a.substr(-1)&&(a+=":"),e.slashes||(!a||y[a])&&r!==!1?(r="//"+(r||""),s&&"/"!==s.charAt(0)&&(s="/"+s)):r||(r=""),o&&"#"!==o.charAt(0)&&(o="#"+o),p&&"?"!==p.charAt(0)&&(p="?"+p),a+r+s+p+o}function h(t,h){return e(a(t,h))}function a(h,a){if(!h)return a;if(h=t(e(h),!1,!0),a=t(e(a),!1,!0),h.hash=a.hash,""===a.href)return h.href=e(h),h;if(a.slashes&&!a.protocol)return a.protocol=h.protocol,y[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=e(a),a;if(a.protocol&&a.protocol!==h.protocol){if(!y[a.protocol])return a.href=e(a),a;if(h.protocol=a.protocol,!a.host&&!g[a.protocol]){for(var s=(a.pathname||"").split("/");s.length&&!(a.host=s.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==s[0]&&s.unshift(""),s.length<2&&s.unshift(""),a.pathname=s.join("/")}return h.pathname=a.pathname,h.search=a.search,h.query=a.query,h.host=a.host||"",h.auth=a.auth,h.hostname=a.hostname||a.host,h.port=a.port,(void 0!==h.pathname||void 0!==h.search)&&(h.path=(h.pathname?h.pathname:"")+(h.search?h.search:"")),h.slashes=h.slashes||a.slashes,h.href=e(h),h}var o=h.pathname&&"/"===h.pathname.charAt(0),r=void 0!==a.host||a.pathname&&"/"===a.pathname.charAt(0),n=r||o||h.host&&a.pathname,p=n,i=h.pathname&&h.pathname.split("/")||[],s=a.pathname&&a.pathname.split("/")||[],c=h.protocol&&!y[h.protocol];if(c&&(delete h.hostname,delete h.port,h.host&&(""===i[0]?i[0]=h.host:i.unshift(h.host)),delete h.host,a.protocol&&(delete a.hostname,delete a.port,a.host&&(""===s[0]?s[0]=a.host:s.unshift(a.host)),delete a.host),n=n&&(""===s[0]||""===i[0])),r)h.host=a.host||""===a.host?a.host:h.host,h.hostname=a.hostname||""===a.hostname?a.hostname:h.hostname,h.search=a.search,h.query=a.query,i=s;else if(s.length)i||(i=[]),i.pop(),i=i.concat(s),h.search=a.search,h.query=a.query;else if("search"in a){if(c){h.hostname=h.host=i.shift();var f=h.host&&h.host.indexOf("@")>0?h.host.split("@"):!1;f&&(h.auth=f.shift(),h.host=h.hostname=f.shift())}return h.search=a.search,h.query=a.query,(void 0!==h.pathname||void 0!==h.search)&&(h.path=(h.pathname?h.pathname:"")+(h.search?h.search:"")),h.href=e(h),h}if(!i.length)return delete h.pathname,h.search?delete h.path:h.path="/"+h.search,h.href=e(h),h;for(var m=i.slice(-1)[0],l=(h.host||a.host)&&("."===m||".."===m)||""===m,u=0,v=i.length;v>=0;v--)m=i[v],"."==m?i.splice(v,1):".."===m?(i.splice(v,1),u++):u&&(i.splice(v,1),u--);if(!n&&!p)for(;u--;u)i.unshift("..");!n||""===i[0]||i[0]&&"/"===i[0].charAt(0)||i.unshift(""),l&&"/"!==i.join("/").substr(-1)&&i.push("");var d=""===i[0]||i[0]&&"/"===i[0].charAt(0);if(c){h.hostname=h.host=d?"":i.length?i.shift():"";var f=h.host&&h.host.indexOf("@")>0?h.host.split("@"):!1;f&&(h.auth=f.shift(),h.host=h.hostname=f.shift())}return n=n||h.host&&i.length,n&&!d&&i.unshift(""),h.pathname=i.join("/"),(void 0!==h.pathname||void 0!==h.search)&&(h.path=(h.pathname?h.pathname:"")+(h.search?h.search:"")),h.auth=a.auth||h.auth,h.slashes=h.slashes||a.slashes,h.href=e(h),h}function s(t){var e={},h=n.exec(t);return h&&(h=h[0],":"!==h&&(e.port=h.substr(1)),t=t.substr(0,t.length-h.length)),t&&(e.hostname=t),e}var o=_dereq_("punycode");exports.parse=t,exports.resolve=h,exports.resolveObject=a,exports.format=e;var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,p=["<",">",'"',"`"," ","\r","\n","	"],i=["{","}","|","\\","^","~","`"].concat(p),c=["'"].concat(p),f=["%","/","?",";","#"].concat(i).concat(c),m=["/","@","?","#"].concat(p),l=255,u=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,v=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,d={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=_dereq_("querystring")}();
},{"punycode":57,"querystring":60}],70:[function(_dereq_,module,exports){
module.exports=_dereq_(44)
},{}],71:[function(_dereq_,module,exports){
module.exports=_dereq_(45)
},{"./support/isBuffer":70,"/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":56,"inherits":55}],72:[function(_dereq_,module,exports){
function zipObject(r,e){var i=-1,t=r?r.length:0,a={};for(e||!t||isArray(r[0])||(e=[]);++i<t;){var o=r[i];e?a[o]=e[i]:o&&(a[o[0]]=o[1])}return a}var isArray=_dereq_("../objects/isArray");module.exports=zipObject;
},{"../objects/isArray":104}],73:[function(_dereq_,module,exports){
function contains(r,e,n){var i=-1,t=baseIndexOf,a=r?r.length:0,s=!1;return n=(0>n?nativeMax(0,a+n):n)||0,isArray(r)?s=t(r,e,n)>-1:"number"==typeof a?s=(isString(r)?r.indexOf(e,n):t(r,e,n))>-1:forOwn(r,function(r){return++i>=n?!(s=r===e):void 0}),s}var baseIndexOf=_dereq_("../internals/baseIndexOf"),forOwn=_dereq_("../objects/forOwn"),isArray=_dereq_("../objects/isArray"),isString=_dereq_("../objects/isString"),nativeMax=Math.max;module.exports=contains;
},{"../internals/baseIndexOf":83,"../objects/forOwn":103,"../objects/isArray":104,"../objects/isString":108}],74:[function(_dereq_,module,exports){
function forEach(e,r,a){var n=-1,o=e?e.length:0;if(r=r&&"undefined"==typeof a?r:baseCreateCallback(r,a,3),"number"==typeof o)for(;++n<o&&r(e[n],n,e)!==!1;);else forOwn(e,r);return e}var baseCreateCallback=_dereq_("../internals/baseCreateCallback"),forOwn=_dereq_("../objects/forOwn");module.exports=forEach;
},{"../internals/baseCreateCallback":81,"../objects/forOwn":103}],75:[function(_dereq_,module,exports){
function bind(e,r){return arguments.length>2?createWrapper(e,17,slice(arguments,2),null,r):createWrapper(e,1,null,null,r)}var createWrapper=_dereq_("../internals/createWrapper"),slice=_dereq_("../internals/slice");module.exports=bind;
},{"../internals/createWrapper":86,"../internals/slice":100}],76:[function(_dereq_,module,exports){
function createCallback(e,r,a){var t=typeof e;if(null==e||"function"==t)return baseCreateCallback(e,r,a);if("object"!=t)return property(e);var l=keys(e),n=l[0],s=e[n];return 1!=l.length||s!==s||isObject(s)?function(r){for(var a=l.length,t=!1;a--&&(t=baseIsEqual(r[l[a]],e[l[a]],null,!0)););return t}:function(e){var r=e[n];return s===r&&(0!==s||1/s==1/r)}}var baseCreateCallback=_dereq_("../internals/baseCreateCallback"),baseIsEqual=_dereq_("../internals/baseIsEqual"),isObject=_dereq_("../objects/isObject"),keys=_dereq_("../objects/keys"),property=_dereq_("../utilities/property");module.exports=createCallback;
},{"../internals/baseCreateCallback":81,"../internals/baseIsEqual":84,"../objects/isObject":106,"../objects/keys":109,"../utilities/property":118}],77:[function(_dereq_,module,exports){
function partialRight(e){return createWrapper(e,32,null,slice(arguments,1))}var createWrapper=_dereq_("../internals/createWrapper"),slice=_dereq_("../internals/slice");module.exports=partialRight;
},{"../internals/createWrapper":86,"../internals/slice":100}],78:[function(_dereq_,module,exports){
var arrayPool=[];module.exports=arrayPool;
},{}],79:[function(_dereq_,module,exports){
function baseBind(e){function r(){if(t){var e=slice(t);push.apply(e,arguments)}if(this instanceof r){var i=baseCreate(a.prototype),n=a.apply(i,e||arguments);return isObject(n)?n:i}return a.apply(s,e||arguments)}var a=e[0],t=e[2],s=e[4];return setBindData(r,e),r}var baseCreate=_dereq_("./baseCreate"),isObject=_dereq_("../objects/isObject"),setBindData=_dereq_("./setBindData"),slice=_dereq_("./slice"),arrayRef=[],push=arrayRef.push;module.exports=baseBind;
},{"../objects/isObject":106,"./baseCreate":80,"./setBindData":97,"./slice":100}],80:[function(_dereq_,module,exports){
(function(e){function t(e){return i(e)?o(e):{}}var n=_dereq_("./isNative"),i=_dereq_("../objects/isObject"),o=(_dereq_("../utilities/noop"),n(o=Object.create)&&o);o||(t=function(){function t(){}return function(n){if(i(n)){t.prototype=n;var o=new t;t.prototype=null}return o||e.Object()}}()),module.exports=t}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"../objects/isObject":106,"../utilities/noop":117,"./isNative":91}],81:[function(_dereq_,module,exports){
function baseCreateCallback(t,e,n){if("function"!=typeof t)return identity;if("undefined"==typeof e||!("prototype"in t))return t;var r=t.__bindData__;if("undefined"==typeof r&&(support.funcNames&&(r=!t.name),r=r||!support.funcDecomp,!r)){var i=fnToString.call(t);support.funcNames||(r=!reFuncName.test(i)),r||(r=reThis.test(i),setBindData(t,r))}if(r===!1||r!==!0&&1&r[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,u){return t.call(e,n,r,i,u)}}return bind(t,e)}var bind=_dereq_("../functions/bind"),identity=_dereq_("../utilities/identity"),setBindData=_dereq_("./setBindData"),support=_dereq_("../support"),reFuncName=/^\s*function[ \n\r\t]+\w/,reThis=/\bthis\b/,fnToString=Function.prototype.toString;module.exports=baseCreateCallback;
},{"../functions/bind":75,"../support":114,"../utilities/identity":116,"./setBindData":97}],82:[function(_dereq_,module,exports){
function baseCreateWrapper(e){function r(){var e=n?p:this;if(s){var o=slice(s);push.apply(o,arguments)}if((i||c)&&(o||(o=slice(arguments)),i&&push.apply(o,i),c&&o.length<u))return t|=16,baseCreateWrapper([a,b?t:-4&t,o,null,p,u]);if(o||(o=arguments),l&&(a=e[f]),this instanceof r){e=baseCreate(a.prototype);var h=a.apply(e,o);return isObject(h)?h:e}return a.apply(e,o)}var a=e[0],t=e[1],s=e[2],i=e[3],p=e[4],u=e[5],n=1&t,l=2&t,c=4&t,b=8&t,f=a;return setBindData(r,e),r}var baseCreate=_dereq_("./baseCreate"),isObject=_dereq_("../objects/isObject"),setBindData=_dereq_("./setBindData"),slice=_dereq_("./slice"),arrayRef=[],push=arrayRef.push;module.exports=baseCreateWrapper;
},{"../objects/isObject":106,"./baseCreate":80,"./setBindData":97,"./slice":100}],83:[function(_dereq_,module,exports){
function baseIndexOf(e,n,r){for(var f=(r||0)-1,t=e?e.length:0;++f<t;)if(e[f]===n)return f;return-1}module.exports=baseIndexOf;
},{}],84:[function(_dereq_,module,exports){
function baseIsEqual(r,e,t,s,a,o){if(t){var n=t(r,e);if("undefined"!=typeof n)return!!n}if(r===e)return 0!==r||1/r==1/e;var l=typeof r,c=typeof e;if(!(r!==r||r&&objectTypes[l]||e&&objectTypes[c]))return!1;if(null==r||null==e)return r===e;var i=toString.call(r),u=toString.call(e);if(i==argsClass&&(i=objectClass),u==argsClass&&(u=objectClass),i!=u)return!1;switch(i){case boolClass:case dateClass:return+r==+e;case numberClass:return r!=+r?e!=+e:0==r?1/r==1/e:r==+e;case regexpClass:case stringClass:return r==String(e)}var b=i==arrayClass;if(!b){var p=hasOwnProperty.call(r,"__wrapped__"),f=hasOwnProperty.call(e,"__wrapped__");if(p||f)return baseIsEqual(p?r.__wrapped__:r,f?e.__wrapped__:e,t,s,a,o);if(i!=objectClass)return!1;var y=r.constructor,j=e.constructor;if(y!=j&&!(isFunction(y)&&y instanceof y&&isFunction(j)&&j instanceof j)&&"constructor"in r&&"constructor"in e)return!1}var g=!a;a||(a=getArray()),o||(o=getArray());for(var C=a.length;C--;)if(a[C]==r)return o[C]==e;var _=0;if(n=!0,a.push(r),o.push(e),b){if(C=r.length,_=e.length,n=_==C,n||s)for(;_--;){var h=C,v=e[_];if(s)for(;h--&&!(n=baseIsEqual(r[h],v,t,s,a,o)););else if(!(n=baseIsEqual(r[_],v,t,s,a,o)))break}}else forIn(e,function(e,l,c){return hasOwnProperty.call(c,l)?(_++,n=hasOwnProperty.call(r,l)&&baseIsEqual(r[l],e,t,s,a,o)):void 0}),n&&!s&&forIn(r,function(r,e,t){return hasOwnProperty.call(t,e)?n=--_>-1:void 0});return a.pop(),o.pop(),g&&(releaseArray(a),releaseArray(o)),n}var forIn=_dereq_("../objects/forIn"),getArray=_dereq_("./getArray"),isFunction=_dereq_("../objects/isFunction"),objectTypes=_dereq_("./objectTypes"),releaseArray=_dereq_("./releaseArray"),argsClass="[object Arguments]",arrayClass="[object Array]",boolClass="[object Boolean]",dateClass="[object Date]",numberClass="[object Number]",objectClass="[object Object]",regexpClass="[object RegExp]",stringClass="[object String]",objectProto=Object.prototype,toString=objectProto.toString,hasOwnProperty=objectProto.hasOwnProperty;module.exports=baseIsEqual;
},{"../objects/forIn":102,"../objects/isFunction":105,"./getArray":89,"./objectTypes":93,"./releaseArray":96}],85:[function(_dereq_,module,exports){
function baseMerge(e,r,i,a,s){(isArray(r)?forEach:forOwn)(r,function(r,n){var o,f,t=r,c=e[n];if(r&&((f=isArray(r))||isPlainObject(r))){for(var u=a.length;u--;)if(o=a[u]==r){c=s[u];break}if(!o){var b;i&&(t=i(c,r),(b="undefined"!=typeof t)&&(c=t)),b||(c=f?isArray(c)?c:[]:isPlainObject(c)?c:{}),a.push(r),s.push(c),b||baseMerge(c,r,i,a,s)}}else i&&(t=i(c,r),"undefined"==typeof t&&(t=r)),"undefined"!=typeof t&&(c=t);e[n]=c})}var forEach=_dereq_("../collections/forEach"),forOwn=_dereq_("../objects/forOwn"),isArray=_dereq_("../objects/isArray"),isPlainObject=_dereq_("../objects/isPlainObject");module.exports=baseMerge;
},{"../collections/forEach":74,"../objects/forOwn":103,"../objects/isArray":104,"../objects/isPlainObject":107}],86:[function(_dereq_,module,exports){
function createWrapper(e,r,a,i,p,s){var n=1&r,t=2&r,u=4&r,c=16&r,l=32&r;if(!t&&!isFunction(e))throw new TypeError;c&&!a.length&&(r&=-17,c=a=!1),l&&!i.length&&(r&=-33,l=i=!1);var f=e&&e.__bindData__;if(f&&f!==!0)return f=slice(f),f[2]&&(f[2]=slice(f[2])),f[3]&&(f[3]=slice(f[3])),!n||1&f[1]||(f[4]=p),!n&&1&f[1]&&(r|=8),!u||4&f[1]||(f[5]=s),c&&push.apply(f[2]||(f[2]=[]),a),l&&unshift.apply(f[3]||(f[3]=[]),i),f[1]|=r,createWrapper.apply(null,f);var h=1==r||17===r?baseBind:baseCreateWrapper;return h([e,r,a,i,p,s])}var baseBind=_dereq_("./baseBind"),baseCreateWrapper=_dereq_("./baseCreateWrapper"),isFunction=_dereq_("../objects/isFunction"),slice=_dereq_("./slice"),arrayRef=[],push=arrayRef.push,unshift=arrayRef.unshift;module.exports=createWrapper;
},{"../objects/isFunction":105,"./baseBind":79,"./baseCreateWrapper":82,"./slice":100}],87:[function(_dereq_,module,exports){
function escapeHtmlChar(e){return htmlEscapes[e]}var htmlEscapes=_dereq_("./htmlEscapes");module.exports=escapeHtmlChar;
},{"./htmlEscapes":90}],88:[function(_dereq_,module,exports){
function escapeStringChar(r){return"\\"+stringEscapes[r]}var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};module.exports=escapeStringChar;
},{}],89:[function(_dereq_,module,exports){
function getArray(){return arrayPool.pop()||[]}var arrayPool=_dereq_("./arrayPool");module.exports=getArray;
},{"./arrayPool":78}],90:[function(_dereq_,module,exports){
var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};module.exports=htmlEscapes;
},{}],91:[function(_dereq_,module,exports){
function isNative(t){return"function"==typeof t&&reNative.test(t)}var objectProto=Object.prototype,toString=objectProto.toString,reNative=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");module.exports=isNative;
},{}],92:[function(_dereq_,module,exports){
var maxPoolSize=40;module.exports=maxPoolSize;
},{}],93:[function(_dereq_,module,exports){
var objectTypes={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};module.exports=objectTypes;
},{}],94:[function(_dereq_,module,exports){
var reInterpolate=/<%=([\s\S]+?)%>/g;module.exports=reInterpolate;
},{}],95:[function(_dereq_,module,exports){
var htmlEscapes=_dereq_("./htmlEscapes"),keys=_dereq_("../objects/keys"),reUnescapedHtml=RegExp("["+keys(htmlEscapes).join("")+"]","g");module.exports=reUnescapedHtml;
},{"../objects/keys":109,"./htmlEscapes":90}],96:[function(_dereq_,module,exports){
function releaseArray(r){r.length=0,arrayPool.length<maxPoolSize&&arrayPool.push(r)}var arrayPool=_dereq_("./arrayPool"),maxPoolSize=_dereq_("./maxPoolSize");module.exports=releaseArray;
},{"./arrayPool":78,"./maxPoolSize":92}],97:[function(_dereq_,module,exports){
var isNative=_dereq_("./isNative"),noop=_dereq_("../utilities/noop"),descriptor={configurable:!1,enumerable:!1,value:null,writable:!1},defineProperty=function(){try{var e={},r=isNative(r=Object.defineProperty)&&r,i=r(e,e,e)&&r}catch(t){}return i}(),setBindData=defineProperty?function(e,r){descriptor.value=r,defineProperty(e,"__bindData__",descriptor)}:noop;module.exports=setBindData;
},{"../utilities/noop":117,"./isNative":91}],98:[function(_dereq_,module,exports){
function shimIsPlainObject(t){var o,e;return t&&toString.call(t)==objectClass&&(o=t.constructor,!isFunction(o)||o instanceof o)?(forIn(t,function(t,o){e=o}),"undefined"==typeof e||hasOwnProperty.call(t,e)):!1}var forIn=_dereq_("../objects/forIn"),isFunction=_dereq_("../objects/isFunction"),objectClass="[object Object]",objectProto=Object.prototype,toString=objectProto.toString,hasOwnProperty=objectProto.hasOwnProperty;module.exports=shimIsPlainObject;
},{"../objects/forIn":102,"../objects/isFunction":105}],99:[function(_dereq_,module,exports){
var objectTypes=_dereq_("./objectTypes"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,shimKeys=function(e){var r,o=e,t=[];if(!o)return t;if(!objectTypes[typeof e])return t;for(r in o)hasOwnProperty.call(o,r)&&t.push(r);return t};module.exports=shimKeys;
},{"./objectTypes":93}],100:[function(_dereq_,module,exports){
function slice(e,r,n){r||(r=0),"undefined"==typeof n&&(n=e?e.length:0);for(var o=-1,t=n-r||0,f=Array(0>t?0:t);++o<t;)f[o]=e[r+o];return f}module.exports=slice;
},{}],101:[function(_dereq_,module,exports){
var keys=_dereq_("./keys"),objectTypes=_dereq_("../internals/objectTypes"),defaults=function(e,r,t){var o,f=e,n=f;if(!f)return n;for(var s=arguments,u=0,y="number"==typeof t?2:s.length;++u<y;)if(f=s[u],f&&objectTypes[typeof f])for(var p=-1,a=objectTypes[typeof f]&&keys(f),i=a?a.length:0;++p<i;)o=a[p],"undefined"==typeof n[o]&&(n[o]=f[o]);return n};module.exports=defaults;
},{"../internals/objectTypes":93,"./keys":109}],102:[function(_dereq_,module,exports){
var baseCreateCallback=_dereq_("../internals/baseCreateCallback"),objectTypes=_dereq_("../internals/objectTypes"),forIn=function(e,r,a){var t,n=e,o=n;if(!n)return o;if(!objectTypes[typeof n])return o;r=r&&"undefined"==typeof a?r:baseCreateCallback(r,a,3);for(t in n)if(r(n[t],t,e)===!1)return o;return o};module.exports=forIn;
},{"../internals/baseCreateCallback":81,"../internals/objectTypes":93}],103:[function(_dereq_,module,exports){
var baseCreateCallback=_dereq_("../internals/baseCreateCallback"),keys=_dereq_("./keys"),objectTypes=_dereq_("../internals/objectTypes"),forOwn=function(e,r,t){var a,n=e,o=n;if(!n)return o;if(!objectTypes[typeof n])return o;r=r&&"undefined"==typeof t?r:baseCreateCallback(r,t,3);for(var s=-1,f=objectTypes[typeof n]&&keys(n),b=f?f.length:0;++s<b;)if(a=f[s],r(n[a],a,e)===!1)return o;return o};module.exports=forOwn;
},{"../internals/baseCreateCallback":81,"../internals/objectTypes":93,"./keys":109}],104:[function(_dereq_,module,exports){
var isNative=_dereq_("../internals/isNative"),arrayClass="[object Array]",objectProto=Object.prototype,toString=objectProto.toString,nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,isArray=nativeIsArray||function(r){return r&&"object"==typeof r&&"number"==typeof r.length&&toString.call(r)==arrayClass||!1};module.exports=isArray;
},{"../internals/isNative":91}],105:[function(_dereq_,module,exports){
function isFunction(n){return"function"==typeof n}module.exports=isFunction;
},{}],106:[function(_dereq_,module,exports){
function isObject(e){return!(!e||!objectTypes[typeof e])}var objectTypes=_dereq_("../internals/objectTypes");module.exports=isObject;
},{"../internals/objectTypes":93}],107:[function(_dereq_,module,exports){
var isNative=_dereq_("../internals/isNative"),shimIsPlainObject=_dereq_("../internals/shimIsPlainObject"),objectClass="[object Object]",objectProto=Object.prototype,toString=objectProto.toString,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,isPlainObject=getPrototypeOf?function(t){if(!t||toString.call(t)!=objectClass)return!1;var e=t.valueOf,o=isNative(e)&&(o=getPrototypeOf(e))&&getPrototypeOf(o);return o?t==o||getPrototypeOf(t)==o:shimIsPlainObject(t)}:shimIsPlainObject;module.exports=isPlainObject;
},{"../internals/isNative":91,"../internals/shimIsPlainObject":98}],108:[function(_dereq_,module,exports){
function isString(t){return"string"==typeof t||t&&"object"==typeof t&&toString.call(t)==stringClass||!1}var stringClass="[object String]",objectProto=Object.prototype,toString=objectProto.toString;module.exports=isString;
},{}],109:[function(_dereq_,module,exports){
var isNative=_dereq_("../internals/isNative"),isObject=_dereq_("./isObject"),shimKeys=_dereq_("../internals/shimKeys"),nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,keys=nativeKeys?function(e){return isObject(e)?nativeKeys(e):[]}:shimKeys;module.exports=keys;
},{"../internals/isNative":91,"../internals/shimKeys":99,"./isObject":106}],110:[function(_dereq_,module,exports){
function mapValues(a,e,r){var n={};return e=createCallback(e,r,3),forOwn(a,function(a,r,c){n[r]=e(a,r,c)}),n}var createCallback=_dereq_("../functions/createCallback"),forOwn=_dereq_("./forOwn");module.exports=mapValues;
},{"../functions/createCallback":76,"./forOwn":103}],111:[function(_dereq_,module,exports){
function merge(e){var r=arguments,a=2;if(!isObject(e))return e;if("number"!=typeof r[2]&&(a=r.length),a>3&&"function"==typeof r[a-2])var t=baseCreateCallback(r[--a-1],r[a--],2);else a>2&&"function"==typeof r[a-1]&&(t=r[--a]);for(var s=slice(arguments,1,a),i=-1,n=getArray(),l=getArray();++i<a;)baseMerge(e,s[i],t,n,l);return releaseArray(n),releaseArray(l),e}var baseCreateCallback=_dereq_("../internals/baseCreateCallback"),baseMerge=_dereq_("../internals/baseMerge"),getArray=_dereq_("../internals/getArray"),isObject=_dereq_("./isObject"),releaseArray=_dereq_("../internals/releaseArray"),slice=_dereq_("../internals/slice");module.exports=merge;
},{"../internals/baseCreateCallback":81,"../internals/baseMerge":85,"../internals/getArray":89,"../internals/releaseArray":96,"../internals/slice":100,"./isObject":106}],112:[function(_dereq_,module,exports){
function pairs(r){for(var e=-1,a=keys(r),s=a.length,i=Array(s);++e<s;){var n=a[e];i[e]=[n,r[n]]}return i}var keys=_dereq_("./keys");module.exports=pairs;
},{"./keys":109}],113:[function(_dereq_,module,exports){
function values(e){for(var r=-1,s=keys(e),u=s.length,a=Array(u);++r<u;)a[r]=e[s[r]];return a}var keys=_dereq_("./keys");module.exports=values;
},{"./keys":109}],114:[function(_dereq_,module,exports){
(function(e){var n=_dereq_("./internals/isNative"),i=/\bthis\b/,t={};t.funcDecomp=!n(e.WinRTError)&&i.test(function(){return this}),t.funcNames="string"==typeof Function.name,module.exports=t}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"./internals/isNative":91}],115:[function(_dereq_,module,exports){
function escape(e){return null==e?"":String(e).replace(reUnescapedHtml,escapeHtmlChar)}var escapeHtmlChar=_dereq_("../internals/escapeHtmlChar"),keys=_dereq_("../objects/keys"),reUnescapedHtml=_dereq_("../internals/reUnescapedHtml");module.exports=escape;
},{"../internals/escapeHtmlChar":87,"../internals/reUnescapedHtml":95,"../objects/keys":109}],116:[function(_dereq_,module,exports){
function identity(t){return t}module.exports=identity;
},{}],117:[function(_dereq_,module,exports){
function noop(){}module.exports=noop;
},{}],118:[function(_dereq_,module,exports){
function property(r){return function(t){return t[r]}}module.exports=property;
},{}],119:[function(_dereq_,module,exports){
function template(e,t,r){var n=templateSettings.imports._.templateSettings||templateSettings;e=String(e||""),r=defaults({},r,n);var a,p=defaults({},r.imports,n.imports),i=keys(p),s=values(p),l=0,c=r.interpolate||reNoMatch,u="__p += '",o=RegExp((r.escape||reNoMatch).source+"|"+c.source+"|"+(c===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(r.evaluate||reNoMatch).source+"|$","g");e.replace(o,function(t,r,n,p,i,s){return n||(n=p),u+=e.slice(l,s).replace(reUnescapedString,escapeStringChar),r&&(u+="' +\n__e("+r+") +\n'"),i&&(a=!0,u+="';\n"+i+";\n__p += '"),n&&(u+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=s+t.length,t}),u+="';\n";var _=r.variable,g=_;g||(_="obj",u="with ("+_+") {\n"+u+"\n}\n"),u=(a?u.replace(reEmptyStringLeading,""):u).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),u="function("+_+") {\n"+(g?"":_+" || ("+_+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";try{var m=Function(i,"return "+u).apply(void 0,s)}catch(S){throw S.source=u,S}return t?m(t):(m.source=u,m)}var defaults=_dereq_("../objects/defaults"),escape=_dereq_("./escape"),escapeStringChar=_dereq_("../internals/escapeStringChar"),keys=_dereq_("../objects/keys"),reInterpolate=_dereq_("../internals/reInterpolate"),templateSettings=_dereq_("./templateSettings"),values=_dereq_("../objects/values"),reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\t\u2028\u2029\\]/g;module.exports=template;
},{"../internals/escapeStringChar":88,"../internals/reInterpolate":94,"../objects/defaults":101,"../objects/keys":109,"../objects/values":113,"./escape":115,"./templateSettings":120}],120:[function(_dereq_,module,exports){
var escape=_dereq_("./escape"),reInterpolate=_dereq_("../internals/reInterpolate"),templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:reInterpolate,variable:"",imports:{_:{escape:escape}}};module.exports=templateSettings;
},{"../internals/reInterpolate":94,"./escape":115}],121:[function(_dereq_,module,exports){
(function(){var e,t,n,r,o,s,i={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c=function(e,t){return function(){return e.apply(t,arguments)}};t=_dereq_("./events"),e=_dereq_("./errors").MarkedYAMLError,n=_dereq_("./nodes"),r=_dereq_("./raml"),o=_dereq_("./util"),this.ComposerError=function(e){function t(){return s=t.__super__.constructor.apply(this,arguments)}return a(t,e),t}(e),this.Composer=function(){function e(){this.composeRamlTree=c(this.composeRamlTree,this),this.anchors={},this.filesToRead=[]}return e.prototype.check_node=function(){return this.check_event(t.StreamStartEvent)&&this.get_event(),!this.check_event(t.StreamEndEvent)},e.prototype.get_node=function(){return this.check_event(t.StreamEndEvent)?void 0:this.compose_document()},e.prototype.getYamlRoot=function(){var e,n;if(this.get_event(),e=null,this.check_event(t.StreamEndEvent)||(e=this.compose_document()),!this.check_event(t.StreamEndEvent))throw n=this.get_event(),new exports.ComposerError("document scan",e.start_mark,"expected a single document in the stream but found another document",n.start_mark);return this.get_event(),e},e.prototype.composeRamlTree=function(e,t){return(t.validate||t.transform)&&(this.load_schemas(e),this.load_traits(e),this.load_types(e),this.load_security_schemes(e)),t.validate&&this.validate_document(e),t.transform&&(this.apply_types(e),this.apply_traits(e),this.apply_schemas(e),this.apply_protocols(e),this.join_resources(e)),e},e.prototype.compose_document=function(){var e;return this.get_event(),e=this.compose_node(),this.get_event(),this.anchors={},e},e.prototype.getPendingFilesList=function(){return this.filesToRead},e.prototype.compose_node=function(e,n){var r,o,s;if(this.check_event(t.AliasEvent)){if(o=this.get_event(),r=o.anchor,!(r in this.anchors))throw new exports.ComposerError(null,null,"found undefined alias "+r,o.start_mark);return this.anchors[r].clone()}if(o=this.peek_event(),r=o.anchor,null!==r&&r in this.anchors)throw new exports.ComposerError("found duplicate anchor "+r+"; first occurence",this.anchors[r].start_mark,"second occurrence",o.start_mark);return this.descend_resolver(e,n),this.check_event(t.ScalarEvent)?s=this.compose_scalar_node(r,e,n):this.check_event(t.SequenceStartEvent)?s=this.compose_sequence_node(r):this.check_event(t.MappingStartEvent)&&(s=this.compose_mapping_node(r)),this.ascend_resolver(),s},e.prototype.compose_fixed_scalar_node=function(e,t){var r,o;return r=this.get_event(),o=new n.ScalarNode("tag:yaml.org,2002:str",t,r.start_mark,r.end_mark,r.style),null!==e&&(this.anchors[e]=o),o},e.prototype.compose_scalar_node=function(e,t,r){var o,s,i,a,c;if(o=this.get_event(),c=o.tag,a={},(null===c||"!"===c)&&(c=this.resolve(n.ScalarNode,o.value,o.implicit)),"!include"===o.tag){if(o.value.match(/^\s*$/))throw new exports.ComposerError("while composing scalar out of !include",null,"file name/URL cannot be null",o.start_mark);s=o.value.split(".").pop(),i="yaml"===s||"yml"===s||"raml"===s?"fragment":"scalar",this.filesToRead.push({targetUri:o.value,type:i,parentNode:t,parentKey:r,event:o,includingContext:this.src,targetFileUri:o.value}),a=void 0}else a=new n.ScalarNode(c,o.value,o.start_mark,o.end_mark,o.style);return e&&a&&(this.anchors[e]=a),a},e.prototype.compose_sequence_node=function(e){var r,o,s,i,a,c;for(i=this.get_event(),a=i.tag,(null===a||"!"===a)&&(a=this.resolve(n.SequenceNode,null,i.implicit)),s=new n.SequenceNode(a,[],i.start_mark,null,i.flow_style),o=0,e&&(this.anchors[e]=s);!this.check_event(t.SequenceEndEvent);)(c=this.compose_node(s,o))&&(s.value[o]=c),o++;return r=this.get_event(),s.end_mark=r.end_mark,s},e.prototype.compose_mapping_node=function(e){var r,s,i,a,c,l;for(c=this.get_event(),l=c.tag,(null===l||"!"===l)&&(l=this.resolve(n.MappingNode,null,c.implicit)),a=new n.MappingNode(l,[],c.start_mark,null,c.flow_style),null!==e&&(this.anchors[e]=a);!this.check_event(t.MappingEndEvent);){if(s=this.compose_node(a),!o.isScalar(s))throw new exports.ComposerError("while composing mapping key",null,"only scalar map keys are allowed in RAML",s.start_mark);(i=this.compose_node(a,s))&&a.value.push([s,i])}return r=this.get_event(),a.end_mark=r.end_mark,a},e}()}).call(this);
},{"./errors":123,"./events":124,"./nodes":127,"./raml":130,"./util":140}],122:[function(_dereq_,module,exports){
(function(t){(function(){var r,o,n,s,e,c={}.hasOwnProperty,u=function(t,r){function o(){this.constructor=t}for(var n in r)c.call(r,n)&&(t[n]=r[n]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t},a=[].indexOf||function(t){for(var r=0,o=this.length;o>r;r++)if(r in this&&this[r]===t)return r;return-1};r=_dereq_("./errors").MarkedYAMLError,o=_dereq_("./nodes"),n=_dereq_("./util"),this.ConstructorError=function(t){function r(){return s=r.__super__.constructor.apply(this,arguments)}return u(r,t),r}(r),this.BaseConstructor=function(){function t(){this.constructed_objects={},this.constructing_nodes=[],this.deferred_constructors=[]}return t.prototype.yaml_constructors={},t.prototype.yaml_multi_constructors={},t.add_constructor=function(t,r){return this.prototype.hasOwnProperty("yaml_constructors")||(this.prototype.yaml_constructors=n.extend({},this.prototype.yaml_constructors)),this.prototype.yaml_constructors[t]=r},t.add_multi_constructor=function(t,r){return this.prototype.hasOwnProperty("yaml_multi_constructors")||(this.prototype.yaml_multi_constructors=n.extend({},this.prototype.yaml_multi_constructors)),this.prototype.yaml_multi_constructors[t]=r},t.prototype.construct_document=function(t){var r;for(this.applyAstTransformations(t),r=this.construct_object(t);!n.is_empty(this.deferred_constructors);)this.deferred_constructors.pop()();return this.applyTransformations(r),r},t.prototype.defer=function(t){return this.deferred_constructors.push(t)},t.prototype.construct_object=function(t){var r,n,s,e,c;if(t.unique_id in this.constructed_objects)return this.constructed_objects[t.unique_id];if(c=t.unique_id,a.call(this.constructing_nodes,c)>=0)throw new exports.ConstructorError(null,null,"found unconstructable recursive node",t.start_mark);if(this.constructing_nodes.push(t.unique_id),r=null,e=null,t.tag in this.yaml_constructors)r=this.yaml_constructors[t.tag];else{for(s in this.yaml_multi_constructors)if(t.tag.indexOf(0===s)){e=t.tag.slice(s.length),r=this.yaml_multi_constructors[s];break}null==r&&(null in this.yaml_multi_constructors?(e=t.tag,r=this.yaml_multi_constructors[null]):null in this.yaml_constructors?r=this.yaml_constructors[null]:t instanceof o.ScalarNode?r=this.construct_scalar:t instanceof o.SequenceNode?r=this.construct_sequence:t instanceof o.MappingNode&&(r=this.construct_mapping))}return n=r.call(this,null!=e?e:t,t),this.constructed_objects[t.unique_id]=n,this.constructing_nodes.pop(),n},t.prototype.construct_scalar=function(t){if(!(t instanceof o.ScalarNode))throw new exports.ConstructorError(null,null,"expected a scalar node but found "+t.id,t.start_mark);return t.value},t.prototype.construct_sequence=function(t){var r,n,s,e,c;if(!(t instanceof o.SequenceNode))throw new exports.ConstructorError(null,null,"expected an array node but found "+t.id,t.start_mark);for(e=t.value,c=[],n=0,s=e.length;s>n;n++)r=e[n],c.push(this.construct_object(r));return c},t.prototype.construct_mapping=function(t){var r,n,s,e,c,u,a,i,l,p,_,h,f,m;if(!(t instanceof o.MappingNode))throw new exports.ConstructorError(null,null,"expected a map node but found "+t.id,t.start_mark);for(c={},h=t.value,i=0,p=h.length;p>i;i++)if(f=h[i],e=f[0],a=f[1],r=this.construct_object(e),u=this.construct_object(a),"object"==typeof r&&"tag:yaml.org,2002:seq"===e.tag)for(m=e.value,l=0,_=m.length;_>l;l++)n=m[l],s=this.construct_object(n),c[s]=u;else{if("object"==typeof r)throw new exports.ConstructorError("while constructing a map",t.start_mark,"found unhashable key",e.start_mark);c[r]=u}return c},t.prototype.construct_pairs=function(t){var r,n,s,e,c,u,a,i,l;if(!(t instanceof o.MappingNode))throw new exports.ConstructorError(null,null,"expected a map node but found "+t.id,t.start_mark);for(s=[],i=t.value,u=0,a=i.length;a>u;u++)l=i[u],n=l[0],c=l[1],r=this.construct_object(n),e=this.construct_object(c),s.push([r,e]);return s},t}(),this.Constructor=function(r){function n(){return e=n.__super__.constructor.apply(this,arguments)}var s,c,i;return u(n,r),s={"true":!0,"false":!1},i=/^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[\x20\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\.([0-9]*))?(?:[\x20\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$/,c={year:1,month:2,day:3,hour:4,minute:5,second:6,fraction:7,tz:8,tz_sign:9,tz_hour:10,tz_minute:11},n.prototype.yaml_constructors={},n.prototype.yaml_multi_constructors={},n.prototype.construct_scalar=function(t){var r,s,e,c,u,a;if(t instanceof o.MappingNode)for(u=t.value,e=0,c=u.length;c>e;e++)if(a=u[e],r=a[0],s=a[1],"tag:yaml.org,2002:value"===r.tag)return this.construct_scalar(s);return n.__super__.construct_scalar.call(this,t)},n.prototype.flatten_mapping=function(t){var r,n,s,e,c,u,a,i,l,p,_,h,f;for(s=[],r=0;r<t.value.length;)if(h=t.value[r],n=h[0],a=h[1],"tag:yaml.org,2002:merge"===n.tag)if(t.value.splice(r,1),a instanceof o.MappingNode)this.flatten_mapping(a),s=s.concat(a.value);else{if(!(a instanceof o.SequenceNode))throw new exports.ConstructorError("while constructing a map",t.start_mark,"expected a map or an array of maps for            merging but found "+a.id,a.start_mark);for(e=[],f=a.value,i=0,p=f.length;p>i;i++){if(c=f[i],!(c instanceof o.MappingNode))throw new exports.ConstructorError("while constructing a map",t.start_mark,"expected a map for merging, but found "+c.id,c.start_mark);this.flatten_mapping(c),e.push(c.value)}for(e.reverse(),l=0,_=e.length;_>l;l++)u=e[l],s=s.concat(u)}else"tag:yaml.org,2002:value"===n.tag?(n.tag="tag:yaml.org,2002:str",r++):r++;return s.length?t.value=s.concat(t.value):void 0},n.prototype.construct_mapping=function(t){return t instanceof o.MappingNode&&this.flatten_mapping(t),n.__super__.construct_mapping.call(this,t)},n.prototype.construct_yaml_null=function(t){return this.construct_scalar(t),null},n.prototype.construct_yaml_bool=function(t){var r;return r=this.construct_scalar(t),s[r.toLowerCase()]},n.prototype.construct_yaml_int=function(t){var r,o,n,s,e,c,u,i,l;if(c=this.construct_scalar(t),c=c.replace(/_/g,""),e="-"===c[0]?-1:1,l=c[0],a.call("+-",l)>=0&&(c=c.slice(1)),"0"===c)return 0;if(0===c.indexOf("0b"))return e*parseInt(c.slice(2),2);if(0===c.indexOf("0x"))return e*parseInt(c.slice(2),16);if(0===c.indexOf("0o"))return e*parseInt(c.slice(2),8);if("0"===c[0])return e*parseInt(c,8);if(a.call(c,":")>=0){for(n=function(){var t,r,o,n;for(o=c.split(/:/g),n=[],t=0,r=o.length;r>t;t++)s=o[t],n.push(parseInt(s));return n}(),n.reverse(),r=1,c=0,u=0,i=n.length;i>u;u++)o=n[u],c+=o*r,r*=60;return e*c}return e*parseInt(c)},n.prototype.construct_yaml_float=function(t){var r,o,n,s,e,c,u,i,l;if(c=this.construct_scalar(t),c=c.replace(/_/g,"").toLowerCase(),e="-"===c[0]?-1:1,l=c[0],a.call("+-",l)>=0&&(c=c.slice(1)),".inf"===c)return 1/0*e;if(".nan"===c)return 0/0;if(a.call(c,":")>=0){for(n=function(){var t,r,o,n;for(o=c.split(/:/g),n=[],t=0,r=o.length;r>t;t++)s=o[t],n.push(parseFloat(s));return n}(),n.reverse(),r=1,c=0,u=0,i=n.length;i>u;u++)o=n[u],c+=o*r,r*=60;return e*c}return e*parseFloat(c)},n.prototype.construct_yaml_binary=function(r){var o,n;n=this.construct_scalar(r);try{return"undefined"!=typeof window&&null!==window?atob(n):new t(n,"base64").toString("ascii")}catch(s){throw o=s,new exports.ConstructorError(null,null,"failed to decode base64 data: "+o,r.start_mark)}},n.prototype.construct_yaml_timestamp=function(t){var r,o,n,s,e,u,a,l,p,_,h,f,m,y,d,g,v;d=this.construct_scalar(t),a=t.value.match(i),g={};for(u in c)e=c[u],g[u]=a[e];if(v=parseInt(g.year),_=parseInt(g.month)-1,o=parseInt(g.day),!g.hour)return new Date(Date.UTC(v,_,o));if(s=parseInt(g.hour),p=parseInt(g.minute),h=parseInt(g.second),l=0,g.fraction){for(n=g.fraction.slice(0,6);n.length<6;)n+="0";n=parseInt(n),l=Math.round(n/1e3)}return g.tz_sign&&(y="-"===g.tz_sign?1:-1,(f=parseInt(g.tz_hour))&&(s+=y*f),(m=parseInt(g.tz_minute))&&(p+=y*m)),r=new Date(Date.UTC(v,_,o,s,p,h,l))},n.prototype.construct_yaml_pair_list=function(t,r){var n,s=this;if(n=[],!(r instanceof o.SequenceNode))throw new exports.ConstructorError("while constructing "+t,r.start_mark,"expected an array but found "+r.id,r.start_mark);return this.defer(function(){var e,c,u,a,i,l,p,_,h,f;for(_=r.value,f=[],l=0,p=_.length;p>l;l++){if(u=_[l],!(u instanceof o.MappingNode))throw new exports.ConstructorError("while constructing "+t,r.start_mark,"expected a map of length 1 but found "+u.id,u.start_mark);if(1!==u.value.length)throw new exports.ConstructorError("while constructing "+t,r.start_mark,"expected a map of length 1 but found "+u.id,u.start_mark);h=u.value[0],c=h[0],i=h[1],e=s.construct_object(c),a=s.construct_object(i),f.push(n.push([e,a]))}return f}),n},n.prototype.construct_yaml_omap=function(t){return this.construct_yaml_pair_list("an ordered map",t)},n.prototype.construct_yaml_pairs=function(t){return this.construct_yaml_pair_list("pairs",t)},n.prototype.construct_yaml_set=function(t){var r,o=this;return r=[],this.defer(function(){var n,s;s=[];for(n in o.construct_mapping(t))s.push(r.push(n));return s}),r},n.prototype.construct_yaml_str=function(t){return this.construct_scalar(t)},n.prototype.construct_yaml_seq=function(t){var r,o=this;return r=[],this.defer(function(){var n,s,e,c,u;for(c=o.construct_sequence(t),u=[],s=0,e=c.length;e>s;s++)n=c[s],u.push(r.push(n));return u}),r},n.prototype.construct_yaml_map=function(t){var r,o=this;return r={},this.defer(function(){var n,s,e,c;e=o.construct_mapping(t),c=[];for(n in e)s=e[n],c.push(r[n]=s);return c}),r},n.prototype.construct_yaml_object=function(t,r){var o,n=this;return o=new r,this.defer(function(){var r,s,e,c;e=n.construct_mapping(t,!0),c=[];for(r in e)s=e[r],c.push(o[r]=s);return c}),o},n.prototype.construct_undefined=function(t){throw new exports.ConstructorError(null,null,"could not determine a constructor for the tag "+t.tag,t.start_mark)},n}(this.BaseConstructor),this.Constructor.add_constructor("tag:yaml.org,2002:null",this.Constructor.prototype.construct_yaml_null),this.Constructor.add_constructor("tag:yaml.org,2002:bool",this.Constructor.prototype.construct_yaml_bool),this.Constructor.add_constructor("tag:yaml.org,2002:int",this.Constructor.prototype.construct_yaml_int),this.Constructor.add_constructor("tag:yaml.org,2002:float",this.Constructor.prototype.construct_yaml_float),this.Constructor.add_constructor("tag:yaml.org,2002:binary",this.Constructor.prototype.construct_yaml_binary),this.Constructor.add_constructor("tag:yaml.org,2002:timestamp",this.Constructor.prototype.construct_yaml_timestamp),this.Constructor.add_constructor("tag:yaml.org,2002:omap",this.Constructor.prototype.construct_yaml_omap),this.Constructor.add_constructor("tag:yaml.org,2002:pairs",this.Constructor.prototype.construct_yaml_pairs),this.Constructor.add_constructor("tag:yaml.org,2002:set",this.Constructor.prototype.construct_yaml_set),this.Constructor.add_constructor("tag:yaml.org,2002:str",this.Constructor.prototype.construct_yaml_str),this.Constructor.add_constructor("tag:yaml.org,2002:seq",this.Constructor.prototype.construct_yaml_seq),this.Constructor.add_constructor("tag:yaml.org,2002:map",this.Constructor.prototype.construct_yaml_map),this.Constructor.add_constructor(null,this.Constructor.prototype.construct_undefined),module.exports.Constructor=this.Constructor,module.exports.ConstructorError=this.ConstructorError}).call(this)}).call(this,_dereq_("buffer").Buffer);
},{"./errors":123,"./nodes":127,"./util":140,"buffer":46}],123:[function(_dereq_,module,exports){
(function(){var t,r=[].indexOf||function(t){for(var r=0,n=this.length;n>r;r++)if(r in this&&this[r]===t)return r;return-1},n={}.hasOwnProperty,i=function(t,r){function i(){this.constructor=t}for(var e in r)n.call(r,e)&&(t[e]=r[e]);return i.prototype=r.prototype,t.prototype=new i,t.__super__=r.prototype,t};this.Mark=function(){function t(t,r,n,i,e){this.name=t,this.line=r,this.column=n,this.buffer=i,this.pointer=e}return t.prototype.get_snippet=function(t,n){var i,e,s,o,h,u,l;if(null==t&&(t=4),null==n&&(n=75),null==this.buffer)return null;for(i="\x00\r\n\u2028\u2029",s="",o=this.pointer;o>0&&(u=this.buffer[o-1],r.call(i,u)<0);)if(o--,this.pointer-o>n/2-1){s=" ... ",o+=5;break}for(h="",e=this.pointer;e<this.buffer.length&&(l=this.buffer[e],r.call(i,l)<0);)if(e++,e-this.pointer>n/2-1){h=" ... ",e-=5;break}return""+new Array(t).join(" ")+s+this.buffer.slice(o,e)+h+"\n"+new Array(t+this.pointer-o+s.length).join(" ")+"^"},t.prototype.toString=function(){var t,r;return t=this.get_snippet(),r='  in "'+this.name+'", line '+(this.line+1)+", column "+(this.column+1),t?r:""+r+":\n"+t},t}(),this.YAMLError=function(t){function r(){r.__super__.constructor.call(this)}return i(r,t),r}(Error),this.MarkedYAMLError=function(t){function r(t,n,i,e,s){this.context=t,this.context_mark=n,this.message=i,this.problem_mark=e,this.note=s,r.__super__.constructor.call(this),this.message||(this.message=this.context),this.problem_mark||(this.problem_mark=this.context_mark)}return i(r,t),r.prototype.toString=function(){var t;return t=[],null!=this.context&&t.push(this.context),null==this.context_mark||null!=this.message&&null!=this.problem_mark&&this.context_mark.name===this.problem_mark.name&&this.context_mark.line===this.problem_mark.line&&this.context_mark.column===this.problem_mark.column||t.push(this.context_mark.toString()),null!=this.message&&t.push(this.message),null!=this.problem_mark&&t.push(this.problem_mark.toString()),null!=this.note&&t.push(this.note),t.join("\n")},r}(this.YAMLError),this.ValidationError=function(r){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,r),n}(this.MarkedYAMLError)}).call(this);
},{}],124:[function(_dereq_,module,exports){
(function(){var t,n,i,r,e,s,u,o={}.hasOwnProperty,h=function(t,n){function i(){this.constructor=t}for(var r in n)o.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Event=function(){function t(t,n){this.start_mark=t,this.end_mark=n}return t}(),this.NodeEvent=function(t){function n(t,n,i){this.anchor=t,this.start_mark=n,this.end_mark=i}return h(n,t),n}(this.Event),this.CollectionStartEvent=function(t){function n(t,n,i,r,e){this.anchor=t,this.tag=n,this.implicit=i,this.start_mark=r,this.end_mark=e}return h(n,t),n}(this.NodeEvent),this.CollectionEndEvent=function(n){function i(){return t=i.__super__.constructor.apply(this,arguments)}return h(i,n),i}(this.Event),this.StreamStartEvent=function(t){function n(t,n,i,r,e){this.start_mark=t,this.end_mark=n,this.explicit=i,this.version=r,this.tags=e}return h(n,t),n}(this.Event),this.StreamEndEvent=function(t){function i(){return n=i.__super__.constructor.apply(this,arguments)}return h(i,t),i}(this.Event),this.DocumentStartEvent=function(t){function n(t,n,i,r,e){this.start_mark=t,this.end_mark=n,this.explicit=i,this.version=r,this.tags=e}return h(n,t),n}(this.Event),this.DocumentEndEvent=function(t){function n(t,n,i){this.start_mark=t,this.end_mark=n,this.explicit=i}return h(n,t),n}(this.Event),this.AliasEvent=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return h(n,t),n}(this.NodeEvent),this.ScalarEvent=function(t){function n(t,n,i,r,e,s,u){this.anchor=t,this.tag=n,this.implicit=i,this.value=r,this.start_mark=e,this.end_mark=s,this.style=u}return h(n,t),n}(this.NodeEvent),this.SequenceStartEvent=function(t){function n(){return r=n.__super__.constructor.apply(this,arguments)}return h(n,t),n}(this.CollectionStartEvent),this.SequenceEndEvent=function(t){function n(){return e=n.__super__.constructor.apply(this,arguments)}return h(n,t),n}(this.CollectionEndEvent),this.MappingStartEvent=function(t){function n(){return s=n.__super__.constructor.apply(this,arguments)}return h(n,t),n}(this.CollectionStartEvent),this.MappingEndEvent=function(t){function n(){return u=n.__super__.constructor.apply(this,arguments)}return h(n,t),n}(this.CollectionEndEvent)}).call(this);
},{}],125:[function(_dereq_,module,exports){
(function(){var r,t,e,a={}.hasOwnProperty,n=function(r,t){function e(){this.constructor=r}for(var n in t)a.call(t,n)&&(r[n]=t[n]);return e.prototype=t.prototype,r.prototype=new e,r.__super__=t.prototype,r};r=_dereq_("./errors").MarkedYAMLError,t=_dereq_("./nodes"),this.JoinError=function(r){function t(){return e=t.__super__.constructor.apply(this,arguments)}return n(t,r),t}(r),this.Joiner=function(){function r(){}return r.prototype.join_resources=function(r,e){var a,n,o,u,l=this;return null==e&&(e=0),a=[],(null!=r?r.value:void 0)&&(a=r.value.filter(function(r){var t;return null!=(t=r[0])?t.value.match(/^\//):void 0})),n=[],a.length>0?((null!=r?r.value:void 0)&&(r.value=r.value.filter(function(r){return!r[0].value.match(/^\//)})),o=new t.ScalarNode("tag:yaml.org,2002:str","resources",a[0][0].start_mark,a[a.length-1][1].end_mark),a.forEach(function(r){var a,o;return a=new t.ScalarNode("tag:yaml.org,2002:str","relativeUri",r[0].start_mark,r[1].end_mark),o=new t.ScalarNode("tag:yaml.org,2002:str",r[0].value,r[0].start_mark,r[1].end_mark),"tag:yaml.org,2002:null"===r[1].tag&&(r[1]=new t.MappingNode("tag:yaml.org,2002:map",[],r[0].start_mark,r[1].end_mark)),r[1].value.push([a,o]),n.push(r[1]),l.join_methods(r[1]),l.join_resources(r[1],++e)}),u=new t.SequenceNode("tag:yaml.org,2002:seq",n,a[0][0].start_mark,a[a.length-1][1].end_mark),r.value.push([o,u])):void 0},r.prototype.join_methods=function(r){var e,a,n,o,u=this;return e=[],r&&r.value&&(e=r.value.filter(function(r){var t;return u.isHttpMethod(null!=(t=r[0])?t.value:void 0)})),a=[],e.length>0?(r.value=r.value.filter(function(r){return!u.isHttpMethod(r[0].value)}),n=new t.ScalarNode("tag:yaml.org,2002:str","methods",e[0][0].start_mark,e[e.length-1][1].end_mark),e.forEach(function(r){var e,n;return e=new t.ScalarNode("tag:yaml.org,2002:str","method",r[0].start_mark,r[1].end_mark),n=new t.ScalarNode("tag:yaml.org,2002:str",r[0].value,r[0].start_mark,r[1].end_mark),"tag:yaml.org,2002:null"===r[1].tag&&(r[1]=new t.MappingNode("tag:yaml.org,2002:map",[],r[1].start_mark,r[1].end_mark)),r[1].value.push([e,n]),a.push(r[1])}),o=new t.SequenceNode("tag:yaml.org,2002:seq",a,e[0][0].start_mark,e[e.length-1][1].end_mark),r.value.push([n,o])):void 0},r}()}).call(this);
},{"./errors":123,"./nodes":127}],126:[function(_dereq_,module,exports){
(function(){var r,e,l,u,n,t,i,o,s,a,c,h,q,p,m;p=_dereq_("./util"),t=_dereq_("./reader"),o=_dereq_("./scanner"),u=_dereq_("./parser"),r=_dereq_("./composer"),i=_dereq_("./resolver"),e=_dereq_("./construct"),m=_dereq_("./validator"),l=_dereq_("./joiner"),c=_dereq_("./traits"),q=_dereq_("./resourceTypes"),s=_dereq_("./schemas"),n=_dereq_("./protocols"),a=_dereq_("./securitySchemes"),h=_dereq_("./transformations"),this.make_loader=function(f,d,v,y,S,T,R,g,k,C,P,_,j,x){return null==f&&(f=t.Reader),null==d&&(d=o.Scanner),null==v&&(v=u.Parser),null==y&&(y=r.Composer),null==S&&(S=i.Resolver),null==T&&(T=m.Validator),null==R&&(R=q.ResourceTypes),null==g&&(g=c.Traits),null==k&&(k=s.Schemas),null==C&&(C=n.Protocols),null==P&&(P=l.Joiner),null==_&&(_=a.SecuritySchemes),null==j&&(j=e.Constructor),null==x&&(x=h.Transformations),function(){function r(r,u,n,t){var i,o,s;for(this.parent=null!=t?t:null,l[0].call(this,r,u),l[1].call(this,n),l[2].call(this,n),l[3].call(this,n),s=l.slice(4),i=0,o=s.length;o>i;i++)e=s[i],e.call(this)}var e,l;return l=[f,d,y,x,v,S,T,g,R,k,C,P,j,_],p.extend.apply(p,[r.prototype].concat(function(){var r,u,n;for(n=[],r=0,u=l.length;u>r;r++)e=l[r],n.push(e.prototype);return n}())),r}()},this.Loader=this.make_loader()}).call(this);
},{"./composer":121,"./construct":122,"./joiner":125,"./parser":128,"./protocols":129,"./reader":131,"./resolver":132,"./resourceTypes":133,"./scanner":134,"./schemas":135,"./securitySchemes":136,"./traits":138,"./transformations":139,"./util":140,"./validator":141}],127:[function(_dereq_,module,exports){
(function(){var t,e,r,o,n,s={}.hasOwnProperty,i=function(t,e){function r(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};t=_dereq_("./errors").MarkedYAMLError,e=0,this.ApplicationError=function(t){function e(){return r=e.__super__.constructor.apply(this,arguments)}return i(e,t),e}(t),this.Node=function(){function t(t,r,o,n){this.tag=t,this.value=r,this.start_mark=o,this.end_mark=n,this.unique_id="node_"+e++}return t.prototype.clone=function(){var t;return t=new this.constructor(this.tag,this.value,this.start_mark,this.end_mark)},t}(),this.ScalarNode=function(t){function e(t,r,o,n,s){this.tag=t,this.value=r,this.start_mark=o,this.end_mark=n,this.style=s,e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.id="scalar",e.prototype.clone=function(){var t;return t=new this.constructor(this.tag,this.value,this.start_mark,this.end_mark,this.style)},e.prototype.cloneRemoveIs=function(){return this.clone()},e.prototype.combine=function(t){if("tag:yaml.org,2002:null"===this.tag&&"tag:yaml.org,2002:map"===t.tag)return this.value=new exports.MappingNode("tag:yaml.org,2002:map",[],t.start_mark,t.end_mark),this.value.combine(t);if(!(t instanceof exports.ScalarNode))throw new exports.ApplicationError("while applying node",null,"different YAML structures",this.start_mark);return this.value=t.value},e.prototype.remove_question_mark_properties=function(){},e}(this.Node),this.CollectionNode=function(t){function e(t,r,o,n,s){this.tag=t,this.value=r,this.start_mark=o,this.end_mark=n,this.flow_style=s,e.__super__.constructor.apply(this,arguments)}return i(e,t),e}(this.Node),this.SequenceNode=function(t){function e(){return o=e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.id="sequence",e.prototype.clone=function(){var t,e,r,o,n,s,i;for(e=[],i=this.value,n=0,s=i.length;s>n;n++)t=i[n],o=t.clone(),e.push(o);return r=new this.constructor(this.tag,e,this.start_mark,this.end_mark,this.flow_style)},e.prototype.cloneRemoveIs=function(){return this.clone()},e.prototype.combine=function(t){var e,r,o,n,s,i;if(!(t instanceof exports.SequenceNode))throw new exports.ApplicationError("while applying node",null,"different YAML structures",this.start_mark);for(s=t.value,i=[],o=0,n=s.length;n>o;o++)e=s[o],r=e.clone(),i.push(this.value.push(r));return i},e.prototype.remove_question_mark_properties=function(){var t,e,r,o,n;for(o=this.value,n=[],e=0,r=o.length;r>e;e++)t=o[e],n.push(t.remove_question_mark_properties());return n},e}(this.CollectionNode),this.MappingNode=function(t){function e(){return n=e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.id="mapping",e.prototype.clone=function(){var t,e,r,o,n,s,i,a;for(e=[],a=this.value,s=0,i=a.length;i>s;s++)r=a[s],t=r[0].clone(),n=r[1].clone(),e.push([t,n]);return o=new this.constructor(this.tag,e,this.start_mark,this.end_mark,this.flow_style)},e.prototype.cloneRemoveIs=function(){var t,e,r,o,n,s,i,a,u;for(e=[],a=this.value,s=0,i=a.length;i>s;s++)r=a[s],t=r[0].cloneRemoveIs(),n=r[1].cloneRemoveIs(),"is"!==(u=t.value)&&e.push([t,n]);return o=new this.constructor(this.tag,e,this.start_mark,this.end_mark,this.flow_style)},e.prototype.cloneForTrait=function(){var t,e,r,o,n,s,i,a,u;for(e=[],a=this.value,s=0,i=a.length;i>s;s++)r=a[s],t=r[0].clone(),n=r[1].clone(),"usage"!==(u=t.value)&&"displayName"!==u&&e.push([t,n]);return o=new this.constructor(this.tag,e,this.start_mark,this.end_mark,this.flow_style)},e.prototype.cloneForResourceType=function(){var t,e,r,o,n,s,i,a,u;for(e=[],a=this.value,s=0,i=a.length;i>s;s++)r=a[s],t=r[0].cloneRemoveIs(),n=r[1].cloneRemoveIs(),"is"!==(u=t.value)&&"type"!==u&&"usage"!==u&&"displayName"!==u&&e.push([t,n]);return o=new this.constructor(this.tag,e,this.start_mark,this.end_mark,this.flow_style)},e.prototype.combine=function(t){var e,r,o,n,s,i,a,u,l,p;if("tag:yaml.org,2002:null"===t.tag&&(t=new exports.MappingNode("tag:yaml.org,2002:map",[],t.start_mark,t.end_mark)),!(t instanceof exports.MappingNode))throw new exports.ApplicationError("while applying node",null,"different YAML structures",this.start_mark);for(l=t.value,p=[],a=0,u=l.length;u>a;a++)i=l[a],e=i[0].value,r=this.value.some(function(t){return t[0].value===e||t[0].value+"?"===e||t[0].value===e+"?"}),p.push(r?function(){var t,r,a,u;for(a=this.value,u=[],t=0,r=a.length;r>t;t++)n=a[t],s=n[0].value,s===e||s+"?"===e||s===e+"?"?("tag:yaml.org,2002:null"===n[1].tag&&"tag:yaml.org,2002:map"===i[1].tag&&(o=new exports.MappingNode("tag:yaml.org,2002:map",[],n[1].start_mark,n[1].end_mark),n[1]=o),n[1].combine(i[1]),u.push("?"!==n[0].value.slice(-1)||"?"!==i[0].value.slice(-1)?"?"===n[0].value.slice(-1)?n[0].value=n[0].value.slice(0,-1):void 0:void 0)):u.push(void 0);return u}.call(this):this.value.push([i[0].clone(),i[1].clone()]));return p},e.prototype.remove_question_mark_properties=function(){var t,e,r,o,n;for(this.value=this.value.filter(function(t){return"?"!==t[0].value.slice(-1)}),o=this.value,n=[],e=0,r=o.length;r>e;e++)t=o[e],n.push(t[1].remove_question_mark_properties());return n},e}(this.CollectionNode)}).call(this);
},{"./errors":123}],128:[function(_dereq_,module,exports){
(function(){var e,t,n,s,r={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var s in t)r.call(t,s)&&(e[s]=t[s]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a=[].slice;t=_dereq_("./events"),e=_dereq_("./errors").MarkedYAMLError,n=_dereq_("./tokens"),this.ParserError=function(e){function t(){return s=t.__super__.constructor.apply(this,arguments)}return o(t,e),t}(e),this.Parser=function(){function e(){this.current_event=null,this.yaml_version=null,this.tag_handles={},this.states=[],this.marks=[],this.state="parse_stream_start"}var s;return s={"!":"!","!!":"tag:yaml.org,2002:"},e.prototype.dispose=function(){return this.states=[],this.state=null},e.prototype.check_event=function(){var e,t,n,s;if(t=1<=arguments.length?a.call(arguments,0):[],null===this.current_event&&null!=this.state&&(this.current_event=this[this.state]()),null!==this.current_event){if(0===t.length)return!0;for(n=0,s=t.length;s>n;n++)if(e=t[n],this.current_event instanceof e)return!0}return!1},e.prototype.peek_event=function(){return null===this.current_event&&null!=this.state&&(this.current_event=this[this.state]()),this.current_event},e.prototype.get_event=function(){var e;return null===this.current_event&&null!=this.state&&(this.current_event=this[this.state]()),e=this.current_event,this.current_event=null,e},e.prototype.parse_stream_start=function(){var e,n;return n=this.get_token(),e=new t.StreamStartEvent(n.start_mark,n.end_mark),this.state="parse_implicit_document_start",e},e.prototype.parse_implicit_document_start=function(){var e,r,o,a;return this.check_token(n.DirectiveToken,n.DocumentStartToken,n.StreamEndToken)?this.parse_document_start():(this.tag_handles=s,a=this.peek_token(),o=e=a.start_mark,r=new t.DocumentStartEvent(o,e,!1),this.states.push("parse_document_end"),this.state="parse_block_node",r)},e.prototype.parse_document_start=function(){for(var e,s,r,o,a,_,i;this.check_token(n.DocumentEndToken);)this.get_token();if(this.check_token(n.StreamEndToken)){if(a=this.get_token(),s=new t.StreamEndEvent(a.start_mark,a.end_mark),0!==this.states.length)throw new Error("assertion error, states should be empty");if(0!==this.marks.length)throw new Error("assertion error, marks should be empty");this.state=null}else{if(r=this.peek_token().start_mark,i=this.process_directives(),_=i[0],o=i[1],!this.check_token(n.DocumentStartToken))throw new exports.ParserError("expected '<document start>', but found "+this.peek_token().id,this.peek_token().start_mark);a=this.get_token(),e=a.end_mark,s=new t.DocumentStartEvent(r,e,!0,_,o),this.states.push("parse_document_end"),this.state="parse_document_content"}return s},e.prototype.parse_document_end=function(){var e,s,r,o,a;return a=this.peek_token(),o=e=a.start_mark,r=!1,this.check_token(n.DocumentEndToken)&&(a=this.get_token(),e=a.end_mark,r=!0),s=new t.DocumentEndEvent(o,e,r),this.state="parse_document_start",s},e.prototype.parse_document_content=function(){var e;return this.check_token(n.DirectiveToken,n.DocumentStartToken,n.DocumentEndToken,n.StreamEndToken)?(e=this.process_empty_scalar(this.peek_token().start_mark),this.state=this.states.pop(),e):this.parse_block_node()},e.prototype.process_directives=function(){var e,t,o,a,_,i,p,k,h,c;for(this.yaml_version=null,this.tag_handles={};this.check_token(n.DirectiveToken);)if(i=this.get_token(),"YAML"===i.name){if(null!==this.yaml_version)throw new exports.ParserError(null,null,"found duplicate YAML directive",i.start_mark);if(k=i.value,t=k[0],o=k[1],1!==t||2!==o)throw new exports.ParserError(null,null,"found incompatible YAML document (version 1.2 is required)",i.start_mark);this.yaml_version=i.value}else if("TAG"===i.name){if(h=i.value,e=h[0],a=h[1],e in this.tag_handles)throw new exports.ParserError(null,null,"duplicate tag handle "+e,i.start_mark);this.tag_handles[e]=a}_=null,c=this.tag_handles;for(e in c)r.call(c,e)&&(a=c[e],null==_&&(_={}),_[e]=a);p=[this.yaml_version,_];for(e in s)r.call(s,e)&&(a=s[e],a in this.tag_handles||(this.tag_handles[e]=a));return p},e.prototype.parse_block_node=function(){return this.parse_node(!0)},e.prototype.parse_flow_node=function(){return this.parse_node()},e.prototype.parse_block_node_or_indentless_sequence=function(){return this.parse_node(!0,!0)},e.prototype.parse_node=function(e,s){var r,o,a,_,i,p,k,h,c,l,u;if(null==e&&(e=!1),null==s&&(s=!1),this.check_token(n.AliasToken))u=this.get_token(),a=new t.AliasEvent(u.value,u.start_mark,u.end_mark),this.state=this.states.pop();else{if(r=null,c=null,k=o=l=null,this.check_token(n.AnchorToken)?(u=this.get_token(),k=u.start_mark,o=u.end_mark,r=u.value,this.check_token(n.TagToken)&&(u=this.get_token(),l=u.start_mark,o=u.end_mark,c=u.value)):this.check_token(n.TagToken)&&(u=this.get_token(),k=l=u.start_mark,o=u.end_mark,c=u.value,this.check_token(n.AnchorToken)&&(u=this.get_token(),o=u.end_mark,r=u.value)),null!==c)if(_=c[0],h=c[1],null!==_){if(!(_ in this.tag_handles))throw new exports.ParserError("while parsing a node",k,"found undefined tag handle "+_,l);c=this.tag_handles[_]+h}else c=h;if(null===k&&(k=o=this.peek_token().start_mark),a=null,i=null===c||"!"===c,s&&this.check_token(n.BlockEntryToken))o=this.peek_token().end_mark,a=new t.SequenceStartEvent(r,c,i,k,o),this.state="parse_indentless_sequence_entry";else if(this.check_token(n.ScalarToken))u=this.get_token(),o=u.end_mark,i=u.plain&&null===c||"!"===c?[!0,!1]:null===c?[!1,!0]:[!1,!1],a=new t.ScalarEvent(r,c,i,u.value,k,o,u.style),this.state=this.states.pop();else if(this.check_token(n.FlowSequenceStartToken))o=this.peek_token().end_mark,a=new t.SequenceStartEvent(r,c,i,k,o,!0),this.state="parse_flow_sequence_first_entry";else if(this.check_token(n.FlowMappingStartToken))o=this.peek_token().end_mark,a=new t.MappingStartEvent(r,c,i,k,o,!0),this.state="parse_flow_mapping_first_key";else if(e&&this.check_token(n.BlockSequenceStartToken))o=this.peek_token().end_mark,a=new t.SequenceStartEvent(r,c,i,k,o,!1),this.state="parse_block_sequence_first_entry";else if(e&&this.check_token(n.BlockMappingStartToken))o=this.peek_token().end_mark,a=new t.MappingStartEvent(r,c,i,k,o,!1),this.state="parse_block_mapping_first_key";else{if(null===r&&null===c)throw p=e?"block":"flow",u=this.peek_token(),new exports.ParserError("while parsing a "+p+" node",k,"expected the node content, but found "+u.id,u.start_mark);a=new t.ScalarEvent(r,c,[i,!1],"",k,o),this.state=this.states.pop()}}return a},e.prototype.parse_block_sequence_first_entry=function(){var e;return e=this.get_token(),this.marks.push(e.start_mark),this.parse_block_sequence_entry()},e.prototype.parse_block_sequence_entry=function(){var e,s;if(this.check_token(n.BlockEntryToken))return s=this.get_token(),this.check_token(n.BlockEntryToken,n.BlockEndToken)?(this.state="parse_block_sequence_entry",this.process_empty_scalar(s.end_mark)):(this.states.push("parse_block_sequence_entry"),this.parse_block_node());if(!this.check_token(n.BlockEndToken))throw s=this.peek_token(),new exports.ParserError("while parsing a block collection",this.marks.slice(-1)[0],"expected <block end>, but found "+s.id,s.start_mark);return s=this.get_token(),e=new t.SequenceEndEvent(s.start_mark,s.end_mark),this.state=this.states.pop(),this.marks.pop(),e},e.prototype.parse_indentless_sequence_entry=function(){var e,s;return this.check_token(n.BlockEntryToken)?(s=this.get_token(),this.check_token(n.BlockEntryToken,n.KeyToken,n.ValueToken,n.BlockEndToken)?(this.state="parse_indentless_sequence_entry",this.process_empty_scalar(s.end_mark)):(this.states.push("parse_indentless_sequence_entry"),this.parse_block_node())):(s=this.peek_token(),e=new t.SequenceEndEvent(s.start_mark,s.start_mark),this.state=this.states.pop(),e)},e.prototype.parse_block_mapping_first_key=function(){var e;return e=this.get_token(),this.marks.push(e.start_mark),this.parse_block_mapping_key()},e.prototype.parse_block_mapping_key=function(){var e,s;if(this.check_token(n.KeyToken))return s=this.get_token(),this.check_token(n.KeyToken,n.ValueToken,n.BlockEndToken)?(this.state="parse_block_mapping_value",this.process_empty_scalar(s.end_mark)):(this.states.push("parse_block_mapping_value"),this.parse_block_node_or_indentless_sequence());if(!this.check_token(n.BlockEndToken))throw s=this.peek_token(),new exports.ParserError("while parsing a block mapping",this.marks.slice(-1)[0],"expected <block end>, but found "+s.id,s.start_mark);return s=this.get_token(),e=new t.MappingEndEvent(s.start_mark,s.end_mark),this.state=this.states.pop(),this.marks.pop(),e},e.prototype.parse_block_mapping_value=function(){var e;return this.check_token(n.ValueToken)?(e=this.get_token(),this.check_token(n.KeyToken,n.ValueToken,n.BlockEndToken)?(this.state="parse_block_mapping_key",this.process_empty_scalar(e.end_mark)):(this.states.push("parse_block_mapping_key"),this.parse_block_node_or_indentless_sequence())):(this.state="parse_block_mapping_key",e=this.peek_token(),this.process_empty_scalar(e.start_mark))},e.prototype.parse_flow_sequence_first_entry=function(){var e;return e=this.get_token(),this.marks.push(e.start_mark),this.parse_flow_sequence_entry(!0)},e.prototype.parse_flow_sequence_entry=function(e){var s,r;if(null==e&&(e=!1),!this.check_token(n.FlowSequenceEndToken)){if(!e){if(!this.check_token(n.FlowEntryToken))throw r=this.peek_token(),new exports.ParserError("while parsing a flow sequence",this.marks.slice(-1)[0],"expected ',' or ']', but got "+r.id,r.start_mark);this.get_token()}if(this.check_token(n.KeyToken))return r=this.peek_token(),s=new t.MappingStartEvent(null,null,!0,r.start_mark,r.end_mark,!0),this.state="parse_flow_sequence_entry_mapping_key",s;if(!this.check_token(n.FlowSequenceEndToken))return this.states.push("parse_flow_sequence_entry"),this.parse_flow_node()}return r=this.get_token(),s=new t.SequenceEndEvent(r.start_mark,r.end_mark),this.state=this.states.pop(),this.marks.pop(),s},e.prototype.parse_flow_sequence_entry_mapping_key=function(){var e;return e=this.get_token(),this.check_token(n.ValueToken,n.FlowEntryToken,n.FlowSequenceEndToken)?(this.state="parse_flow_sequence_entry_mapping_value",this.process_empty_scalar(e.end_mark)):(this.states.push("parse_flow_sequence_entry_mapping_value"),this.parse_flow_node())},e.prototype.parse_flow_sequence_entry_mapping_value=function(){var e;return this.check_token(n.ValueToken)?(e=this.get_token(),this.check_token(n.FlowEntryToken,n.FlowSequenceEndToken)?(this.state="parse_flow_sequence_entry_mapping_end",this.process_empty_scalar(e.end_mark)):(this.states.push("parse_flow_sequence_entry_mapping_end"),this.parse_flow_node())):(this.state="parse_flow_sequence_entry_mapping_end",e=this.peek_token(),this.process_empty_scalar(e.start_mark))},e.prototype.parse_flow_sequence_entry_mapping_end=function(){var e;return this.state="parse_flow_sequence_entry",e=this.peek_token(),new t.MappingEndEvent(e.start_mark,e.start_mark)},e.prototype.parse_flow_mapping_first_key=function(){var e;return e=this.get_token(),this.marks.push(e.start_mark),this.parse_flow_mapping_key(!0)},e.prototype.parse_flow_mapping_key=function(e){var s,r;if(null==e&&(e=!1),!this.check_token(n.FlowMappingEndToken)){if(!e){if(!this.check_token(n.FlowEntryToken))throw r=this.peek_token(),new exports.ParserError("while parsing a flow mapping",this.marks.slice(-1)[0],"expected ',' or '}', but got "+r.id,r.start_mark);this.get_token()}if(this.check_token(n.KeyToken))return r=this.get_token(),this.check_token(n.ValueToken,n.FlowEntryToken,n.FlowMappingEndToken)?(this.state="parse_flow_mapping_value",this.process_empty_scalar(r.end_mark)):(this.states.push("parse_flow_mapping_value"),this.parse_flow_node());if(!this.check_token(n.FlowMappingEndToken))return this.states.push("parse_flow_mapping_empty_value"),this.parse_flow_node()}return r=this.get_token(),s=new t.MappingEndEvent(r.start_mark,r.end_mark),this.state=this.states.pop(),this.marks.pop(),s},e.prototype.parse_flow_mapping_value=function(){var e;return this.check_token(n.ValueToken)?(e=this.get_token(),this.check_token(n.FlowEntryToken,n.FlowMappingEndToken)?(this.state="parse_flow_mapping_key",this.process_empty_scalar(e.end_mark)):(this.states.push("parse_flow_mapping_key"),this.parse_flow_node())):(this.state="parse_flow_mapping_key",e=this.peek_token(),this.process_empty_scalar(e.start_mark))},e.prototype.parse_flow_mapping_empty_value=function(){return this.state="parse_flow_mapping_key",this.process_empty_scalar(this.peek_token().start_mark)},e.prototype.process_empty_scalar=function(e){return new t.ScalarEvent(null,null,[!0,!1],"",e,e)},e}()}).call(this);
},{"./errors":123,"./events":124,"./tokens":137}],129:[function(_dereq_,module,exports){
(function(){var o,r,t,e,p=function(o,r){return function(){return o.apply(r,arguments)}};t=_dereq_("url"),o=_dereq_("./errors").MarkedYAMLError,r=_dereq_("./nodes"),e=_dereq_("./util"),this.Protocols=function(){function o(){this.apply_protocols=p(this.apply_protocols,this)}return o.prototype.apply_protocols=function(o){var r;return(r=this.apply_protocols_to_root(o))?this.apply_protocols_to_resources(o,r):void 0},o.prototype.apply_protocols_to_root=function(o){var e,p,s,a;if(this.has_property(o,"protocols"))return this.get_property(o,"protocols");if(e=this.property_value(o,"baseUri"))return p=t.parse(e),s=(p.protocol||"http:").slice(0,-1).toUpperCase(),a=[new r.ScalarNode("tag:yaml.org,2002:str","protocols",o.start_mark,o.end_mark),new r.SequenceNode("tag:yaml.org,2002:seq",[new r.ScalarNode("tag:yaml.org,2002:str",s,o.start_mark,o.end_mark)],o.start_mark,o.end_mark)],o.value.push(a),a[1]},o.prototype.apply_protocols_to_resources=function(o,r){var t,e,p,s,a;for(s=this.child_resources(o),a=[],e=0,p=s.length;p>e;e++)t=s[e],this.apply_protocols_to_resources(t,r),a.push(this.apply_protocols_to_methods(t,r));return a},o.prototype.apply_protocols_to_methods=function(o,t){var p,s,a,l,n;for(l=this.child_methods(o[1]),n=[],s=0,a=l.length;a>s;s++)p=l[s],this.has_property(p[1],"protocols")?n.push(void 0):(e.isMapping(p[1])||(p[1]=new r.MappingNode("tag:yaml.org,2002:map",[],p[1].start_mark,p[1].end_mark)),n.push(p[1].value.push([new r.ScalarNode("tag:yaml.org,2002:str","protocols",p[0].start_mark,p[0].end_mark),t.clone()])));return n},o}()}).call(this);
},{"./errors":123,"./nodes":127,"./util":140,"url":69}],130:[function(_dereq_,module,exports){
(function(){var e,t,r,n={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};this.errors=_dereq_("./errors"),this.loader=_dereq_("./loader"),t=_dereq_("./util"),this.FileError=function(e){function t(){return r=t.__super__.constructor.apply(this,arguments)}return o(t,e),t}(this.errors.MarkedYAMLError),this.FileReader=function(){function e(e){this.q=_dereq_("q"),this.url=_dereq_("url"),e&&(this.readFileAsyncOverride=e)}return e.prototype.readFileAsync=function(e){var t;if(this.readFileAsyncOverride)return this.readFileAsyncOverride(e);if(t=this.url.parse(e),null!=t.protocol){if(t.protocol.match(/^https?/i))return this.fetchFileAsync(e);throw new exports.FileError("while reading "+e,null,"unknown protocol "+t.protocol,this.start_mark)}return"undefined"!=typeof window&&null!==window?this.fetchFileAsync(e):this.fetchLocalFileAsync(e)},e.prototype.fetchLocalFileAsync=function(e){var t,r=this;return t=this.q.defer(),_dereq_("fs").readFile(e,function(n,o){return n?t.reject(new exports.FileError("while reading "+e,null,"cannot read "+e+" ("+n+")",r.start_mark)):t.resolve(o.toString())}),t.promise},e.prototype.fetchFileAsync=function(e){var t,r,n,o=this;t=this.q.defer(),n="undefined"!=typeof window&&null!==window?new XMLHttpRequest:new(_dereq_("xmlhttprequest").XMLHttpRequest);try{return n.open("GET",e,!1),n.setRequestHeader("Accept","application/raml+yaml, */*"),n.onreadystatechange=function(){return 4===n.readyState?"number"==typeof n.status&&200===n.status||"string"==typeof n.status&&n.status.match(/^200/i)?t.resolve(n.responseText):t.reject(new exports.FileError("while fetching "+e,null,"cannot fetch "+e+" ("+n.statusText+")",o.start_mark)):void 0},n.send(null),t.promise}catch(i){throw r=i,new exports.FileError("while fetching "+e,null,"cannot fetch "+e+" ("+r+"), check that the server is up and that CORS is enabled",this.start_mark)}},e}(),this.RamlParser=function(){function r(t){this.settings=null!=t?t:e,this.q=_dereq_("q"),this.url=_dereq_("url"),this.nodes=_dereq_("./nodes"),this.loadDefaultSettings(t)}return r.prototype.loadDefaultSettings=function(t){return Object.keys(e).forEach(function(r){return r in t?void 0:t[r]=e[r]})},r.prototype.loadFile=function(e,t){var r,n=this;null==t&&(t=this.settings);try{return t.reader.readFileAsync(e).then(function(r){return n.load(r,e,t)})}catch(o){return r=o,this.q.fcall(function(){throw new exports.FileError("while fetching "+e,null,"cannot fetch "+e+" ("+r+")",null)})}},r.prototype.composeFile=function(e,t,r){var n,o=this;null==t&&(t=this.settings);try{return t.reader.readFileAsync(e).then(function(n){return o.compose(n,e,t,r)})}catch(i){return n=i,this.q.fcall(function(){throw new exports.FileError("while fetching "+e,null,"cannot fetch "+e+" ("+n+")",null)})}},r.prototype.compose=function(e,t,r,n){return null==r&&(r=this.settings),null==n&&(n={src:t}),r.compose=!1,this.parseStream(e,t,r,n)},r.prototype.load=function(e,t,r){return null==r&&(r=this.settings),r.compose=!0,this.parseStream(e,t,r,{src:t})},r.prototype.parseStream=function(e,t,r,n){var o,i=this;return null==r&&(r=this.settings),o=new exports.loader.Loader(e,t,r,n),this.q.fcall(function(){return o.getYamlRoot()}).then(function(e){var t;return t=o.getPendingFilesList(),i.getPendingFiles(o,e,t)}).then(function(e){return o.composeRamlTree(e,r),r.compose?null!=e?o.construct_document(e):null:e})},r.prototype.getPendingFiles=function(e,t,r){var n,o,i,s,l;for(i=[],o=void 0,s=0,l=r.length;l>s;s++)n=r[s],i.push(this.getPendingFile(e,n).then(function(e){return e&&!o?o=e:void 0}));return this.q.all(i).then(function(){return o?o:t})},r.prototype.getPendingFile=function(e,t){var r,n,o,i,s,l=this;if(s=t.parentNode,n=t.event,i=t.parentKey,o=t.targetFileUri,t.includingContext&&(o=this.url.resolve(t.includingContext,t.targetFileUri)),e.parent&&this.isInIncludeTagsStack(o,e))throw new exports.FileError("while composing scalar out of !include",null,"detected circular !include of "+n.value,n.start_mark);try{return"fragment"===t.type?this.settings.reader.readFileAsync(o).then(function(t){return l.compose(t,o,{validate:!1,transform:!1,compose:!0},e)}).then(function(e){return l.appendNewNodeToParent(s,i,e)})["catch"](function(e){return l.addContextToError(e,n)}):this.settings.reader.readFileAsync(o).then(function(e){var t;return t=new l.nodes.ScalarNode("tag:yaml.org,2002:str",e,n.start_mark,n.end_mark,n.style),l.appendNewNodeToParent(s,i,t)})["catch"](function(e){return l.addContextToError(e,n)})}catch(u){return r=u,this.addContextToError(r,n)}},r.prototype.addContextToError=function(e,t){throw"FileError"===e.constructor.name?(e.problem_mark||(e.problem_mark=t.start_mark),e):new exports.FileError("while reading file",null,"error: "+e,t.start_mark)},r.prototype.isInIncludeTagsStack=function(e,t){for(;t=t.parent;)if(t.src===e)return!0;return!1},r.prototype.appendNewNodeToParent=function(e,r,n){return e?(t.isSequence(e)?e.value[r]=n:e.value.push([r,n]),null):n},r}(),e={validate:!0,transform:!0,compose:!0,reader:new exports.FileReader(null)},this.loadFile=function(t,r){var n;return null==r&&(r=e),n=new exports.RamlParser(r),n.loadFile(t,r)},this.composeFile=function(t,r,n){var o;return null==r&&(r=e),null==n&&(n=t),o=new exports.RamlParser(r),o.composeFile(t,r,n)},this.compose=function(t,r,n,o){var i;return null==n&&(n=e),null==o&&(o=r),i=new exports.RamlParser(n),i.compose(t,r,n,o)},this.load=function(t,r,n){var o;return null==n&&(n=e),o=new exports.RamlParser(n),o.load(t,r,n,null)}}).call(this);
},{"./errors":123,"./loader":126,"./nodes":127,"./util":140,"fs":42,"q":144,"url":69,"xmlhttprequest":146}],131:[function(_dereq_,module,exports){
(function(){var t,r,n,i,e={}.hasOwnProperty,o=function(t,r){function n(){this.constructor=t}for(var i in r)e.call(r,i)&&(t[i]=r[i]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},s=[].indexOf||function(t){for(var r=0,n=this.length;n>r;r++)if(r in this&&this[r]===t)return r;return-1};n=_dereq_("./errors"),t=n.Mark,r=n.MarkedYAMLError,this.ReaderError=function(t){function r(){return i=r.__super__.constructor.apply(this,arguments)}return o(r,t),r}(r),this.Reader=function(){function r(t,r){this.string=t,this.src=r,this.line=0,this.column=0,this.index=0,this.string+="\x00"}var n;return n=/[^\x09\x0A\x0D\x20-\x7E\x85\xA0-\uD7FF\uE000-\uFFFD]/,r.prototype.peek=function(t){return null==t&&(t=0),this.string[this.index+t]},r.prototype.prefix=function(t){return null==t&&(t=1),this.string.slice(this.index,this.index+t)},r.prototype.forward=function(t){var r,n;for(null==t&&(t=1),n=[];t;)r=this.string[this.index],this.index++,s.call("\n₂\u2029",r)>=0||"\r"===r&&"\n"!==this.string[this.index]?(this.line++,this.column=0):(this.check_printable(r),this.column++),n.push(t--);return n},r.prototype.create_mark=function(r,n){return null==r&&(r=this.line),null==n&&(n=this.column),new t(this.src,r,n,this.string,this.index)},r.prototype.get_mark=function(){return this.create_mark()},r.prototype.check_printable=function(t){if(n.exec(t))throw new exports.ReaderError("while reading file",null,"non printable characters are not allowed column: "+this.get_mark().column,this.get_mark())},r}()}).call(this);
},{"./errors":123}],132:[function(_dereq_,module,exports){
(function(){var e,r,t,l,s,i={}.hasOwnProperty,o=function(e,r){function t(){this.constructor=e}for(var l in r)i.call(r,l)&&(e[l]=r[l]);return t.prototype=r.prototype,e.prototype=new t,e.__super__=r.prototype,e},a=[].indexOf||function(e){for(var r=0,t=this.length;t>r;r++)if(r in this&&this[r]===e)return r;return-1};r=_dereq_("./nodes"),t=_dereq_("./util"),e=_dereq_("./errors").YAMLError,this.ResolverError=function(e){function r(){return l=r.__super__.constructor.apply(this,arguments)}return o(r,e),r}(e),this.BaseResolver=function(){function e(){this.resolver_exact_paths=[],this.resolver_prefix_paths=[]}var l,s,i;return s="tag:yaml.org,2002:str",i="tag:yaml.org,2002:seq",l="tag:yaml.org,2002:map",e.prototype.yaml_implicit_resolvers={},e.prototype.yaml_path_resolvers={},e.add_implicit_resolver=function(e,r,l){var s,i,o,a,n;for(null==l&&(l=[null]),this.prototype.hasOwnProperty("yaml_implicit_resolvers")||(this.prototype.yaml_implicit_resolvers=t.extend({},this.prototype.yaml_implicit_resolvers)),n=[],o=0,a=l.length;a>o;o++)s=l[o],n.push((null!=(i=this.prototype.yaml_implicit_resolvers)[s]?(i=this.prototype.yaml_implicit_resolvers)[s]:i[s]=[]).push([e,r]));return n},e.prototype.descend_resolver=function(e,r){var l,s,i,o,a,n,p,_,h,u,c,v,f;if(!t.is_empty(this.yaml_path_resolvers)){if(s={},a=[],e)for(l=this.resolver_prefix_paths.length,u=this.resolver_prefix_paths.slice(-1)[0],n=0,_=u.length;_>n;n++)c=u[n],o=c[0],i=c[1],this.check_resolver_prefix(l,o,i,e,r)&&(o.length>l?a.push([o,i]):s[i]=this.yaml_path_resolvers[o][i]);else for(v=this.yaml_path_resolvers,p=0,h=v.length;h>p;p++)f=v[p],o=f[0],i=f[1],o?a.push([o,i]):s[i]=this.yaml_path_resolvers[o][i];return this.resolver_exact_paths.push(s),this.resolver_prefix_paths.push(a)}},e.prototype.ascend_resolver=function(){return t.is_empty(this.yaml_path_resolvers)?void 0:(this.resolver_exact_paths.pop(),this.resolver_prefix_paths.pop())},e.prototype.check_resolver_prefix=function(e,t,l,s,i){var o,a,n;if(n=t[e-1],a=n[0],o=n[1],"string"==typeof a){if(s.tag!==a)return}else if(null!==a&&!(s instanceof a))return;if((o!==!0||null===i)&&(o!==!1&&null!==o||null!==i)){if("string"==typeof o){if(!(i instanceof r.ScalarNode)&&o===i.value)return}else if("number"==typeof o&&o!==i)return;return!0}},e.prototype.resolve=function(e,t,o){var n,p,_,h,u,c,v,f,m,y,g,d;if(e===r.ScalarNode&&o[0]){for(u=""===t?null!=(m=this.yaml_implicit_resolvers[""])?m:[]:null!=(y=this.yaml_implicit_resolvers[t[0]])?y:[],u=u.concat(null!=(g=this.yaml_implicit_resolvers[null])?g:[]),v=0,f=u.length;f>v;v++)if(d=u[v],c=d[0],h=d[1],t.match(h))return c;o=o[1]}n=!0;for(_ in this.yaml_path_resolvers)null=={}[_]&&(n=!1);if(!n){if(p=this.resolver_exact_paths.slice(-1)[0],a.call(p,e)>=0)return p[e];if(a.call(p,null)>=0)return p[null]}return e===r.ScalarNode?s:e===r.SequenceNode?i:e===r.MappingNode?l:void 0},e}(),this.Resolver=function(e){function r(){return s=r.__super__.constructor.apply(this,arguments)}return o(r,e),r}(this.BaseResolver),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:bool",/^(?:true|True|TRUE|false|False|FALSE)$/,"tTfF"),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:float",/^(?:[-+]?(?:[0-9][0-9_]*)\.[0-9_]*(?:[eE][-+][0-9]+)?|\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*|[-+]?\.(?:inf|Inf|INF)|\.(?:nan|NaN|NAN))$/,"-+0123456789."),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:int",/^(?:[-+]?0b[01_]+|[-+]?0[0-7_]+|[-+]?(?:0|[1-9][0-9_]*)|[-+]?0x[0-9a-fA-F_]+|[-+]?0o[0-7_]+|[-+]?[1-9][0-9_]*(?::[0-5]?[0-9])+)$/,"-+0123456789"),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:merge",/^(?:<<)$/,"<"),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:null",/^(?:~|null|Null|NULL|)$/,["~","n","N",""]),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:timestamp",/^(?:[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]|[0-9][0-9][0-9][0-9]-[0-9][0-9]?-[0-9][0-9]?(?:[Tt]|[\x20\t]+)[0-9][0-9]?:[0-9][0-9]:[0-9][0-9](?:\.[0-9]*)?(?:[\x20\t]*(?:Z|[-+][0-9][0-9]?(?::[0-9][0-9])?))?)$/,"0123456789"),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:value",/^(?:=)$/,"="),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:yaml",/^(?:!|&|\*)$/,"!&*")}).call(this);
},{"./errors":123,"./nodes":127,"./util":140}],133:[function(_dereq_,module,exports){
(function(){var e,t,r,p,o={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var p in t)o.call(t,p)&&(e[p]=t[p]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a=function(e,t){return function(){return e.apply(t,arguments)}};e=_dereq_("./errors").MarkedYAMLError,t=_dereq_("./nodes"),r=_dereq_("./util"),this.ResourceTypeError=function(e){function t(){return p=t.__super__.constructor.apply(this,arguments)}return s(t,e),t}(e),this.ResourceTypes=function(){function e(){this.apply_parameters_to_type=a(this.apply_parameters_to_type,this),this.apply_type=a(this.apply_type,this),this.apply_types=a(this.apply_types,this),this.get_type=a(this.get_type,this),this.has_types=a(this.has_types,this),this.load_types=a(this.load_types,this),this.declaredTypes={}}return e.prototype.load_types=function(e){var t,r=this;return this.load_default_media_type(e),this.has_property(e,"resourceTypes")&&(t=this.property_value(e,"resourceTypes"),t&&"object"==typeof t)?t.forEach(function(e){return e&&"object"==typeof e&&"object"==typeof e.value?e.value.forEach(function(e){return r.declaredTypes[e[0].value]=e}):void 0}):void 0},e.prototype.has_types=function(e){return 0===Object.keys(this.declaredTypes).length&&this.has_property(e,"resourceTypes")&&this.load_types(e),Object.keys(this.declaredTypes).length>0},e.prototype.get_type=function(e){return this.declaredTypes[e]},e.prototype.apply_types=function(e,t){var p,o=this;return null==t&&(t=""),r.isMapping(e)?this.has_types(e)?(p=this.child_resources(e),p.forEach(function(e){var r;return o.apply_default_media_type_to_resource(e[1]),o.has_property(e[1],"type")&&(r=o.get_property(e[1],"type"),o.apply_type(t+e[0].value,e,r)),o.apply_types(e[1],t+e[0].value)})):(p=this.child_resources(e),p.forEach(function(e){return o.apply_default_media_type_to_resource(e[1])})):void 0},e.prototype.apply_type=function(e,t,r){var p;return p=this.resolve_inheritance_chain(e,r),p.combine(t[1]),t[1]=p,t[1].remove_question_mark_properties()},e.prototype.resolve_inheritance_chain=function(e,t){var r,p,o,s,a,i,n,y,_,u,h,l;for(o=this.key_or_value(t),p=this.apply_parameters_to_type(e,o,t),l=[o],a={},a[o]=p,this.apply_default_media_type_to_resource(p),this.apply_traits_to_resource(e,p,!1);this.has_property(p,"type");){if(t=this.get_property(p,"type"),y=this.key_or_value(t),y in a)throw _=l.concat(y).join(" -> "),s=this.get_type(o)[0],new exports.ResourceTypeError("while applying resourceTypes",null,'circular reference of "'+y+'" has been detected: '+_,s.start_mark);n=this.apply_parameters_to_type(e,y,t),this.apply_default_media_type_to_resource(n),this.apply_traits_to_resource(e,n,!1),o=y,p=n,a[o]=p,l.push(o)}for(h=l.pop(),r=a[h].cloneForResourceType(),u=r;i=l.pop();)r=a[i].cloneForResourceType(),u.combine(r);return u},e.prototype.apply_parameters_to_type=function(e,t,r){var p,o;if(!(null!=t?t.trim():void 0))throw new exports.ResourceTypeError("while applying resource type",null,"resource type name must be provided",r.start_mark);if(!(o=this.get_type(t)))throw new exports.ResourceTypeError("while applying resource type",null,"there is no resource type named "+t,r.start_mark);return o=o[1].clone(),p=this._get_parameters_from_type_key(e,r),this.apply_parameters(o,p,r),o},e.prototype._get_parameters_from_type_key=function(e,t){var p,o,s,a,i,n,y;if(a={},s={resourcePath:e.replace(/\/\/*/g,"/"),resourcePathName:this.extractResourcePathName(e)},r.isMapping(t)&&(o=this.value_or_undefined(t),r.isMapping(o[0][1])))for(y=o[0][1].value,i=0,n=y.length;n>i;i++){if(p=y[i],p[0].value in s)throw new exports.ResourceTypeError("while applying parameters",null,"invalid parameter name: "+p[0].value+" is reserved",p[0].start_mark);a[p[0].value]=p[1].value}return r.extend(a,s)},e}()}).call(this);
},{"./errors":123,"./nodes":127,"./util":140}],134:[function(_dereq_,module,exports){
(function(){var e,t,i,r,s,n={}.hasOwnProperty,o=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},a=[].slice,h=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};e=_dereq_("./errors").MarkedYAMLError,i=_dereq_("./tokens"),r=_dereq_("./util"),this.ScannerError=function(e){function t(){return s=t.__super__.constructor.apply(this,arguments)}return o(t,e),t}(e),t=function(){function e(e,t,i,r,s,n){this.token_number=e,this.required=t,this.index=i,this.line=r,this.column=s,this.mark=n}return e}(),this.Scanner=function(){function e(e){this.settings=e,this.done=!1,this.ramlHeaderFound=!this.settings.validate,this.flow_level=0,this.tokens=[],this.fetch_stream_start(),this.tokens_taken=0,this.indent=-1,this.indents=[],this.allow_simple_key=!0,this.possible_simple_keys={}}var s,o,l,c,_,p,f;return s="\r\n\u2028\u2029",l="	 ",o="0123456789",_={0:"\x00",a:"",b:"\b",t:"	","	":"	",n:"\n",v:"",f:"\f",r:"\r",e:""," ":" ",'"':'"',"\\":"\\",N:"",_:" ",L:"\u2028",P:"\u2029"},c={x:2,u:4,U:8},p="#%RAML 0.8",f=/^#%RAML .+$/,e.prototype.check_token=function(){var e,t,i,r;for(t=1<=arguments.length?a.call(arguments,0):[];this.need_more_tokens();)this.fetch_more_tokens();if(0!==this.tokens.length){if(0===t.length)return!0;for(i=0,r=t.length;r>i;i++)if(e=t[i],this.tokens[0]instanceof e)return!0}return!1},e.prototype.peek_token=function(){for(;this.need_more_tokens();)this.fetch_more_tokens();return 0!==this.tokens.length?this.tokens[0]:void 0},e.prototype.get_token=function(){for(;this.need_more_tokens();)this.fetch_more_tokens();return 0!==this.tokens.length?(this.tokens_taken++,this.tokens.shift()):void 0},e.prototype.need_more_tokens=function(){return this.done?!1:0===this.tokens.length?!0:(this.stale_possible_simple_keys(),this.next_possible_simple_key()===this.tokens_taken?!0:!1)},e.prototype.fetch_more_tokens=function(){var e;if(this.scan_to_next_token(),this.stale_possible_simple_keys(),this.unwind_indent(this.column),e=this.peek(),"\x00"===e)return this.fetch_stream_end();if("%"===e&&this.check_directive())return this.fetch_directive();if("-"===e&&this.check_document_start())return this.fetch_document_start();if("."===e&&this.check_document_end())return this.fetch_document_end();if("["===e)return this.fetch_flow_sequence_start();if("{"===e)return this.fetch_flow_mapping_start();if("]"===e)return this.fetch_flow_sequence_end();if("}"===e)return this.fetch_flow_mapping_end();if(","===e)return this.fetch_flow_entry();if("-"===e&&this.check_block_entry())return this.fetch_block_entry();if("?"===e&&this.check_key())return this.fetch_key();if(":"===e&&this.check_value())return this.fetch_value();if("*"===e)return this.fetch_alias();if("&"===e)return this.fetch_anchor();if("!"===e)return this.fetch_tag();if("|"===e&&0===this.flow_level)return this.fetch_literal();if(">"===e&&0===this.flow_level)return this.fetch_folded();if("'"===e)return this.fetch_single();if('"'===e)return this.fetch_double();if(this.check_plain())return this.fetch_plain();throw new exports.ScannerError("while scanning for the next token",null,"found character "+e+" that cannot start any token",this.get_mark())},e.prototype.next_possible_simple_key=function(){var e,t,i,r;i=null,r=this.possible_simple_keys;for(t in r)n.call(r,t)&&(e=r[t],(null===i||e.token_number<i)&&(i=e.token_number));return i},e.prototype.stale_possible_simple_keys=function(){var e,t,i,r;i=this.possible_simple_keys,r=[];for(t in i)if(n.call(i,t)&&(e=i[t],!(e.line===this.line&&this.index-e.index<=1024))){if(e.required)throw new exports.ScannerError("while scanning a simple key",e.mark,"could not find expected ':'",this.get_mark());r.push(delete this.possible_simple_keys[t])}return r},e.prototype.save_possible_simple_key=function(){var e,i;if(e=0===this.flow_level&&this.indent===this.column,e&&!this.allow_simple_key)throw new Error("logic failure");return this.allow_simple_key?(this.remove_possible_simple_key(),i=this.tokens_taken+this.tokens.length,this.possible_simple_keys[this.flow_level]=new t(i,e,this.index,this.line,this.column,this.get_mark())):void 0},e.prototype.remove_possible_simple_key=function(){var e;if(e=this.possible_simple_keys[this.flow_level]){if(e.required)throw new exports.ScannerError("while scanning a simple key",e.mark,"could not find expected ':'",this.get_mark());return delete this.possible_simple_keys[this.flow_level]}},e.prototype.unwind_indent=function(e){var t,r;if(0===this.flow_level){for(r=[];this.indent>e;)t=this.get_mark(),this.indent=this.indents.pop(),r.push(this.tokens.push(new i.BlockEndToken(t,t)));return r}},e.prototype.add_indent=function(e){return e>this.indent?(this.indents.push(this.indent),this.indent=e,!0):!1},e.prototype.fetch_stream_start=function(){var e;return e=this.get_mark(),this.tokens.push(new i.StreamStartToken(e,e,this.encoding))},e.prototype.fetch_stream_end=function(){var e;return this.unwind_indent(-1),this.remove_possible_simple_key(),this.allow_possible_simple_key=!1,this.possible_simple_keys={},e=this.get_mark(),this.tokens.push(new i.StreamEndToken(e,e)),this.done=!0},e.prototype.fetch_directive=function(){return this.unwind_indent(-1),this.remove_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_directive())},e.prototype.fetch_document_start=function(){return this.fetch_document_indicator(i.DocumentStartToken)},e.prototype.fetch_document_end=function(){return this.fetch_document_indicator(i.DocumentEndToken)},e.prototype.fetch_document_indicator=function(e){var t;return this.unwind_indent(-1),this.remove_possible_simple_key(),this.allow_simple_key=!1,t=this.get_mark(),this.forward(3),this.tokens.push(new e(t,this.get_mark()))},e.prototype.fetch_flow_sequence_start=function(){return this.fetch_flow_collection_start(i.FlowSequenceStartToken)},e.prototype.fetch_flow_mapping_start=function(){return this.fetch_flow_collection_start(i.FlowMappingStartToken)},e.prototype.fetch_flow_collection_start=function(e){var t;return this.save_possible_simple_key(),this.flow_level++,this.allow_simple_key=!0,t=this.get_mark(),this.forward(),this.tokens.push(new e(t,this.get_mark()))},e.prototype.fetch_flow_sequence_end=function(){return this.fetch_flow_collection_end(i.FlowSequenceEndToken)},e.prototype.fetch_flow_mapping_end=function(){return this.fetch_flow_collection_end(i.FlowMappingEndToken)},e.prototype.fetch_flow_collection_end=function(e){var t;return this.remove_possible_simple_key(),this.flow_level--,this.allow_simple_key=!1,t=this.get_mark(),this.forward(),this.tokens.push(new e(t,this.get_mark()))},e.prototype.fetch_flow_entry=function(){var e;return this.allow_simple_key=!0,this.remove_possible_simple_key(),e=this.get_mark(),this.forward(),this.tokens.push(new i.FlowEntryToken(e,this.get_mark()))},e.prototype.fetch_block_entry=function(){var e,t;if(0===this.flow_level){if(!this.allow_simple_key)throw new exports.ScannerError(null,null,"sequence entries are not allowed here",this.get_mark());this.add_indent(this.column)&&(e=this.get_mark(),this.tokens.push(new i.BlockSequenceStartToken(e,e)))}return this.allow_simple_key=!0,this.remove_possible_simple_key(),t=this.get_mark(),this.forward(),this.tokens.push(new i.BlockEntryToken(t,this.get_mark()))},e.prototype.fetch_key=function(){var e,t;if(0===this.flow_level){if(!this.allow_simple_key)throw new exports.ScannerError(null,null,"mapping keys are not allowed here",this.get_mark());this.add_indent(this.column)&&(e=this.get_mark(),this.tokens.push(new i.BlockMappingStartToken(e,e)))}return this.allow_simple_key=!this.flow_level,this.remove_possible_simple_key(),t=this.get_mark(),this.forward(),this.tokens.push(new i.KeyToken(t,this.get_mark()))},e.prototype.fetch_value=function(){var e,t,r;if(e=this.possible_simple_keys[this.flow_level])delete this.possible_simple_keys[this.flow_level],this.tokens.splice(e.token_number-this.tokens_taken,0,new i.KeyToken(e.mark,e.mark)),0===this.flow_level&&this.add_indent(e.column)&&this.tokens.splice(e.token_number-this.tokens_taken,0,new i.BlockMappingStartToken(e.mark,e.mark)),this.allow_simple_key=!1;else{if(0===this.flow_level){if(!this.allow_simple_key)throw new exports.ScannerError(null,null,"mapping values are not allowed here",this.get_mark());this.add_indent(this.column)&&(t=this.get_mark(),this.tokens.push(new i.BlockMappingStartToken(t,t)))}this.allow_simple_key=!this.flow_level,this.remove_possible_simple_key()}return r=this.get_mark(),this.forward(),this.tokens.push(new i.ValueToken(r,this.get_mark()))},e.prototype.fetch_alias=function(){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_anchor(i.AliasToken))},e.prototype.fetch_anchor=function(){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_anchor(i.AnchorToken))},e.prototype.fetch_tag=function(){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_tag())},e.prototype.fetch_literal=function(){return this.fetch_block_scalar("|")},e.prototype.fetch_folded=function(){return this.fetch_block_scalar(">")},e.prototype.fetch_block_scalar=function(e){return this.allow_simple_key=!0,this.remove_possible_simple_key(),this.tokens.push(this.scan_block_scalar(e))},e.prototype.fetch_single=function(){return this.fetch_flow_scalar("'")},e.prototype.fetch_double=function(){return this.fetch_flow_scalar('"')},e.prototype.fetch_flow_scalar=function(e){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_flow_scalar(e))},e.prototype.fetch_plain=function(){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_plain())},e.prototype.check_directive=function(){return 0===this.column?!0:!1},e.prototype.check_document_start=function(){var e;return 0===this.column&&"---"===this.prefix(3)&&(e=this.peek(3),h.call(s+l+"\x00",e)>=0)?!0:!1},e.prototype.check_document_end=function(){var e;return 0===this.column&&"..."===this.prefix(3)&&(e=this.peek(3),h.call(s+l+"\x00",e)>=0)?!0:!1},e.prototype.check_block_entry=function(){var e;return e=this.peek(1),h.call(s+l+"\x00",e)>=0},e.prototype.check_key=function(){var e;return 0!==this.flow_level?!0:(e=this.peek(1),h.call(s+l+"\x00",e)>=0)},e.prototype.check_value=function(){var e;return 0!==this.flow_level?!0:(e=this.peek(1),h.call(s+l+"\x00",e)>=0)},e.prototype.check_plain=function(){var e,t;return e=this.peek(),h.call(s+l+"\x00-?:,[]{}#&*!|>'\"%@`",e)<0||(t=this.peek(1),h.call(s+l+"\x00",t)<0&&("-"===e||0===this.flow_level&&h.call("?:",e)>=0))},e.prototype.scan_to_next_token=function(){var e,t,i,r,n;for(0===this.index&&"﻿"===this.peek()&&this.forward(),t=!1,n=[];!t;){for(;" "===this.peek();)this.forward();if(e="","#"===this.peek())for(;r=this.peek(),h.call(s+"\x00",r)<0;)this.ramlHeaderFound||(e+=this.peek()),this.forward();if(!this.ramlHeaderFound){if(i=e.trim(),!i||!f.test(i))throw new exports.ScannerError("version validation",null,"The first line must be: '"+p+"'",this.create_mark(0,0));if(i!==p)throw new exports.ScannerError("version validation",null,"Unsupported RAML version: '"+e+"'",this.create_mark(0,0));this.ramlHeaderFound=!0}n.push(this.scan_line_break()?0===this.flow_level?this.allow_simple_key=!0:void 0:t=!0)}return n},e.prototype.scan_directive=function(){var e,t,r,n,o;if(r=this.get_mark(),this.forward(),t=this.scan_directive_name(r),n=null,"YAML"===t)n=this.scan_yaml_directive_value(r),e=this.get_mark();else if("TAG"===t)n=this.scan_tag_directive_value(r),e=this.get_mark();else for(e=this.get_mark();o=this.peek(),h.call(s+"\x00",o)<0;)this.forward();return this.scan_directive_ignored_line(r),new i.DirectiveToken(t,n,r,e)},e.prototype.scan_directive_name=function(e){var t,i,r;for(i=0,t=this.peek(i);t>="0"&&"9">=t||t>="A"&&"Z">=t||t>="a"&&"z">=t||h.call("-_",t)>=0;)i++,t=this.peek(i);if(0===i)throw new exports.ScannerError("while scanning a directive",e,"expected alphanumeric or numeric character but found "+t,this.get_mark());if(r=this.prefix(i),this.forward(i),t=this.peek(),h.call(s+"\x00 ",t)<0)throw new exports.ScannerError("while scanning a directive",e,"expected alphanumeric or numeric character but found "+t,this.get_mark());return r},e.prototype.scan_yaml_directive_value=function(e){for(var t,i,r;" "===this.peek();)this.forward();if(t=this.scan_yaml_directive_number(e),"."!==this.peek())throw new exports.ScannerError("while scanning a directive",e,"expected a digit or '.' but found "+this.peek(),this.get_mark());if(this.forward(),i=this.scan_yaml_directive_number(e),r=this.peek(),h.call(s+"\x00 ",r)<0)throw new exports.ScannerError("while scanning a directive",e,"expected a digit or ' ' but found "+this.peek(),this.get_mark());return[t,i]},e.prototype.scan_yaml_directive_number=function(e){var t,i,r,s;if(t=this.peek(),!(t>="0"&&"9">=t))throw new exports.ScannerError("while scanning a directive",e,"expected a digit but found "+t,this.get_mark());for(i=0;"0"<=(s=this.peek(i))&&"9">=s;)i++;return r=parseInt(this.prefix(i)),this.forward(i),r},e.prototype.scan_tag_directive_value=function(e){for(var t,i;" "===this.peek();)this.forward();for(t=this.scan_tag_directive_handle(e);" "===this.peek();)this.forward();return i=this.scan_tag_directive_prefix(e),[t,i]},e.prototype.scan_tag_directive_handle=function(e){var t,i;if(i=this.scan_tag_handle("directive",e),t=this.peek()," "!==t)throw new exports.ScannerError("while scanning a directive",e,"expected ' ' but found "+t,this.get_mark());return i},e.prototype.scan_tag_directive_prefix=function(e){var t,i;if(i=this.scan_tag_uri("directive",e),t=this.peek(),h.call(s+"\x00 ",t)<0)throw new exports.ScannerError("while scanning a directive",e,"expected ' ' but found "+t,this.get_mark());return i},e.prototype.scan_directive_ignored_line=function(e){for(var t,i;" "===this.peek();)this.forward();if("#"===this.peek())for(;i=this.peek(),h.call(s+"\x00",i)<0;)this.forward();if(t=this.peek(),h.call(s+"\x00",t)<0)throw new exports.ScannerError("while scanning a directive",e,"expected a comment or a line break but found "+t,this.get_mark());return this.scan_line_break()},e.prototype.scan_anchor=function(e){var t,i,r,n,o,a;for(o=this.get_mark(),i=this.peek(),n="*"===i?"alias":"anchor",this.forward(),r=0,t=this.peek(r);t>="0"&&"9">=t||t>="A"&&"Z">=t||t>="a"&&"z">=t||h.call("-_",t)>=0;)r++,t=this.peek(r);if(0===r)throw new exports.ScannerError("while scanning an "+n,o,"expected alphabetic or numeric character but found '"+t+"'",this.get_mark());if(a=this.prefix(r),this.forward(r),t=this.peek(),h.call(s+l+"\x00?:,]}%@`",t)<0)throw new exports.ScannerError("while scanning an "+n,o,"expected alphabetic or numeric character but found '"+t+"'",this.get_mark());return new e(a,o,this.get_mark())},e.prototype.scan_tag=function(){var e,t,r,n,o,a;if(n=this.get_mark(),e=this.peek(1),"<"===e){if(t=null,this.forward(2),o=this.scan_tag_uri("tag",n),">"!==this.peek())throw new exports.ScannerError("while parsing a tag",n,"expected '>' but found "+this.peek(),this.get_mark());this.forward()}else if(h.call(s+l+"\x00",e)>=0)t=null,o="!",this.forward();else{for(r=1,a=!1;h.call(s+"\x00 ",e)<0;){if("!"===e){a=!0;break}r++,e=this.peek(r)}a?t=this.scan_tag_handle("tag",n):(t="!",this.forward()),o=this.scan_tag_uri("tag",n)}if(e=this.peek(),h.call(s+"\x00 ",e)<0)throw new exports.ScannerError("while scanning a tag",n,"expected ' ' but found "+e,this.get_mark());return new i.TagToken([t,o],n,this.get_mark())},e.prototype.scan_block_scalar=function(e){var t,n,o,a,l,c,_,p,f,u,k,d,w,m,g,y,v,x,b,S;for(l=">"===e,o=[],w=this.get_mark(),this.forward(),m=this.scan_block_scalar_indicators(w),n=m[0],c=m[1],this.scan_block_scalar_ignored_line(w),d=this.indent+1,1>d&&(d=1),null==c?(g=this.scan_block_scalar_indentation(),t=g[0],k=g[1],a=g[2],_=Math.max(d,k)):(_=d+c-1,y=this.scan_block_scalar_breaks(_),t=y[0],a=y[1]),u="";this.column===_&&"\x00"!==this.peek();){for(o=o.concat(t),v=this.peek(),p=h.call(" 	",v)<0,f=0;x=this.peek(f),h.call(s+"\x00",x)<0;)f++;if(o.push(this.prefix(f)),this.forward(f),u=this.scan_line_break(),b=this.scan_block_scalar_breaks(_),t=b[0],a=b[1],this.column!==_||"\x00"===this.peek())break;l&&"\n"===u&&p&&(S=this.peek(),h.call(" 	",S)<0)?r.is_empty(t)&&o.push(" "):o.push(u)}return n!==!1&&o.push(u),n===!0&&(o=o.concat(t)),new i.ScalarToken(o.join(""),!1,w,a,e)},e.prototype.scan_block_scalar_indicators=function(e){var t,i,r;if(i=null,r=null,t=this.peek(),h.call("+-",t)>=0){if(i="+"===t,this.forward(),t=this.peek(),h.call(o,t)>=0){if(r=parseInt(t),0===r)throw new exports.ScannerError("while scanning a block scalar",e,"expected indentation indicator in the range 1-9 but found 0",this.get_mark());this.forward()}}else if(h.call(o,t)>=0){if(r=parseInt(t),0===r)throw new exports.ScannerError("while scanning a block scalar",e,"expected indentation indicator in the range 1-9 but found 0",this.get_mark());this.forward(),t=this.peek(),h.call("+-",t)>=0&&(i="+"===t,this.forward())}if(t=this.peek(),h.call(s+"\x00 ",t)<0)throw new exports.ScannerError("while scanning a block scalar",e,"expected chomping or indentation indicators, but found "+t,this.get_mark());return[i,r]},e.prototype.scan_block_scalar_ignored_line=function(e){for(var t,i;" "===this.peek();)this.forward();if("#"===this.peek())for(;i=this.peek(),h.call(s+"\x00",i)<0;)this.forward();if(t=this.peek(),h.call(s+"\x00",t)<0)throw new exports.ScannerError("while scanning a block scalar",e,"expected a comment or a line break but found "+t,this.get_mark());return this.scan_line_break()},e.prototype.scan_block_scalar_indentation=function(){var e,t,i,r;for(e=[],i=0,t=this.get_mark();r=this.peek(),h.call(s+" ",r)>=0;)" "!==this.peek()?(e.push(this.scan_line_break()),t=this.get_mark()):(this.forward(),this.column>i&&(i=this.column));return[e,i,t]},e.prototype.scan_block_scalar_breaks=function(e){var t,i,r;for(t=[],i=this.get_mark();this.column<e&&" "===this.peek();)this.forward();for(;r=this.peek(),h.call(s,r)>=0;)for(t.push(this.scan_line_break()),i=this.get_mark();this.column<e&&" "===this.peek();)this.forward();return[t,i]},e.prototype.scan_flow_scalar=function(e){var t,r,s,n;for(r='"'===e,t=[],n=this.get_mark(),s=this.peek(),this.forward(),t=t.concat(this.scan_flow_scalar_non_spaces(r,n));this.peek()!==s;)t=t.concat(this.scan_flow_scalar_spaces(r,n)),t=t.concat(this.scan_flow_scalar_non_spaces(r,n));return this.forward(),new i.ScalarToken(t.join(""),!1,n,this.get_mark(),e)},e.prototype.scan_flow_scalar_non_spaces=function(e,t){var i,r,n,a,p,f,u,k;for(r=[];;){for(p=0;u=this.peek(p),h.call(s+l+"'\"\\\x00",u)<0;)p++;if(0!==p&&(r.push(this.prefix(p)),this.forward(p)),i=this.peek(),e||"'"!==i||"'"!==this.peek(1))if(e&&"'"===i||!e&&h.call('"\\',i)>=0)r.push(i),this.forward();else{if(!e||"\\"!==i)return r;if(this.forward(),i=this.peek(),i in _)r.push(_[i]),this.forward();else if(i in c){for(p=c[i],this.forward(),a=f=0;p>=0?p>f:f>p;a=p>=0?++f:--f)if(k=this.peek(a),h.call(o+"ABCDEFabcdef",k)<0)throw new exports.ScannerError("while scanning a double-quoted scalar",t,"expected escape sequence of "+p+" hexadecimal numbers, but found "+this.peek(a),this.get_mark());n=parseInt(this.prefix(p),16),r.push(String.fromCharCode(n)),this.forward(p)}else{if(!(h.call(s,i)>=0))throw new exports.ScannerError("while scanning a double-quoted scalar",t,"found unknown escape character "+i,this.get_mark());this.scan_line_break(),r=r.concat(this.scan_flow_scalar_breaks(e,t))}}else r.push("'"),this.forward(2)}},e.prototype.scan_flow_scalar_spaces=function(e,t){var i,r,n,o,a,c,_;for(n=[],o=0;_=this.peek(o),h.call(l,_)>=0;)o++;if(c=this.prefix(o),this.forward(o),r=this.peek(),"\x00"===r)throw new exports.ScannerError("while scanning a quoted scalar",t,"found unexpected end of stream",this.get_mark());return h.call(s,r)>=0?(a=this.scan_line_break(),i=this.scan_flow_scalar_breaks(e,t),"\n"!==a?n.push(a):i||n.push(" "),n=n.concat(i)):n.push(c),n},e.prototype.scan_flow_scalar_breaks=function(e,t){var i,r,n,o,a;for(i=[];;){if(r=this.prefix(3),"---"===r||"..."===r&&(n=this.peek(3),h.call(s+l+"\x00",n)>=0))throw new exports.ScannerError("while scanning a quoted scalar",t,"found unexpected document separator",this.get_mark());for(;o=this.peek(),h.call(l,o)>=0;)this.forward();if(a=this.peek(),!(h.call(s,a)>=0))return i;i.push(this.scan_line_break())}},e.prototype.scan_plain=function(){var e,t,r,n,o,a,c,_,p;for(t=[],c=r=this.get_mark(),n=this.indent+1,a=[];;){if(o=0,"#"===this.peek())break;for(;;){if(e=this.peek(o),h.call(s+l+"\x00",e)>=0||0===this.flow_level&&":"===e&&(_=this.peek(o+1),h.call(s+l+"\x00",_)>=0)||0!==this.flow_level&&h.call(",:?[]{}",e)>=0)break;o++}if(0!==this.flow_level&&":"===e&&(p=this.peek(o+1),h.call(s+l+"\x00,[]{}",p)<0))throw this.forward(o),new exports.ScannerError("while scanning a plain scalar",c,"found unexpected ':'",this.get_mark(),"Please check http://pyyaml.org/wiki/YAMLColonInFlowContext");if(0===o)break;if(this.allow_simple_key=!1,t=t.concat(a),t.push(this.prefix(o)),this.forward(o),r=this.get_mark(),a=this.scan_plain_spaces(n,c),null==a||0===a.length||"#"===this.peek()||0===this.flow_level&&this.column<n)break}return new i.ScalarToken(t.join(""),!0,c,r)},e.prototype.scan_plain_spaces=function(){var e,t,i,r,n,o,a,c,_;for(i=[],r=0;c=this.peek(r),h.call(" ",c)>=0;)r++;if(a=this.prefix(r),this.forward(r),t=this.peek(),h.call(s,t)>=0){if(n=this.scan_line_break(),this.allow_simple_key=!0,o=this.prefix(3),"---"===o||"..."===o&&this.peek(h.call(s+l+"\x00",3)>=0))return;for(e=[];_=this.peek(),h.call(s+" ",_)>=0;)if(" "===this.peek())this.forward();else if(e.push(this.scan_line_break()),o=this.prefix(3),"---"===o||"..."===o&&this.peek(h.call(s+l+"\x00",3)>=0))return;"\n"!==n?i.push(n):0===e.length&&i.push(" "),i=i.concat(e)}else a&&i.push(a);return i},e.prototype.scan_tag_handle=function(e,t){var i,r,s;if(i=this.peek(),"!"!==i)throw new exports.ScannerError("while scanning a "+e,t,"expected '!' but found "+i,this.get_mark());if(r=1,i=this.peek(r)," "!==i){for(;i>="0"&&"9">=i||i>="A"&&"Z">=i||i>="a"&&"z">=i||h.call("-_",i)>=0;)r++,i=this.peek(r);if("!"!==i)throw this.forward(r),new exports.ScannerError("while scanning a "+e,t,"expected '!' but found "+i,this.get_mark());r++}return s=this.prefix(r),this.forward(r),s},e.prototype.scan_tag_uri=function(e,t){var i,r,s;for(r=[],s=0,i=this.peek(s);i>="0"&&"9">=i||i>="A"&&"Z">=i||i>="a"&&"z">=i||h.call("-;/?:@&=+$,_.!~*'()[]%",i)>=0;)"%"===i?(r.push(this.prefix(s)),this.forward(s),s=0,r.push(this.scan_uri_escapes(e,t))):s++,i=this.peek(s);if(0!==s&&(r.push(this.prefix(s)),this.forward(s),s=0),0===r.length)throw new exports.ScannerError("while parsing a "+e,t,"expected URI but found "+i,this.get_mark());return r.join("")},e.prototype.scan_uri_escapes=function(e,t){var i,r,s,n;for(i=[],s=this.get_mark();"%"===this.peek();){for(this.forward(),r=n=0;2>=n;r=++n)throw new exports.ScannerError("while scanning a "+e,t,"expected URI escape sequence of 2 hexadecimal numbers but found          "+this.peek(r),this.get_mark());i.push(String.fromCharCode(parseInt(this.prefix(2),16))),this.forward(2)}return i.join("")},e.prototype.scan_line_break=function(){var e;return e=this.peek(),h.call("\r\n",e)>=0?("\r\n"===this.prefix(2)?this.forward(2):this.forward(),"\n"):h.call("\u2028\u2029",e)>=0?(this.forward(),e):""},e}()}).call(this);
},{"./errors":123,"./tokens":137,"./util":140}],135:[function(_dereq_,module,exports){
(function(){var e,t,s,r={}.hasOwnProperty,a=function(e,t){function s(){this.constructor=e}for(var a in t)r.call(t,a)&&(e[a]=t[a]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e},h=function(e,t){return function(){return e.apply(t,arguments)}};e=_dereq_("./errors").MarkedYAMLError,t=_dereq_("./nodes"),this.SchemaError=function(e){function t(){return s=t.__super__.constructor.apply(this,arguments)}return a(t,e),t}(e),this.Schemas=function(){function e(){this.get_schemas_used=h(this.get_schemas_used,this),this.apply_schemas=h(this.apply_schemas,this),this.get_all_schemas=h(this.get_all_schemas,this),this.has_schemas=h(this.has_schemas,this),this.load_schemas=h(this.load_schemas,this),this.declaredSchemas={}}return e.prototype.load_schemas=function(e){var t,s=this;return this.has_property(e,"schemas")&&(t=this.property_value(e,"schemas"),t&&"object"==typeof t)?t.forEach(function(e){return e&&"object"==typeof e&&"object"==typeof e.value?e.value.forEach(function(e){return s.declaredSchemas[e[0].value]=e}):void 0}):void 0},e.prototype.has_schemas=function(e){return 0===this.declaredSchemas.length&&this.has_property(e,"schemas")&&this.load_schemas(e),Object.keys(this.declaredSchemas).length>0},e.prototype.get_all_schemas=function(){return this.declaredSchemas},e.prototype.apply_schemas=function(e){var t,s,r=this;return t=this.child_resources(e),s=this.get_schemas_used(t),s.forEach(function(e){return e[1].value in r.declaredSchemas?e[1].value=r.declaredSchemas[e[1].value][1].value:void 0})},e.prototype.get_schemas_used=function(e){var t,s=this;return t=[],e.forEach(function(e){var r;return r=s.get_properties(e[1],"schema"),t=t.concat(r)}),t},e}()}).call(this);
},{"./errors":123,"./nodes":127}],136:[function(_dereq_,module,exports){
(function(){var e,t,r,s={}.hasOwnProperty,c=function(e,t){function r(){this.constructor=e}for(var c in t)s.call(t,c)&&(e[c]=t[c]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o=function(e,t){return function(){return e.apply(t,arguments)}};e=_dereq_("./errors").MarkedYAMLError,t=_dereq_("./nodes"),this.SecuritySchemeError=function(e){function t(){return r=t.__super__.constructor.apply(this,arguments)}return c(t,e),t}(e),this.SecuritySchemes=function(){function e(){this.get_security_scheme=o(this.get_security_scheme,this),this.get_all_schemes=o(this.get_all_schemes,this),this.load_security_schemes=o(this.load_security_schemes,this),this.declaredSchemes={}}return e.prototype.load_security_schemes=function(e){var t,r=this;return this.has_property(e,"securitySchemes")&&(t=this.property_value(e,"securitySchemes"),t&&"object"==typeof t)?t.forEach(function(e){return"tag:yaml.org,2002:map"===e.tag?e.value.forEach(function(e){return r.declaredSchemes[e[0].value]=e[1].value}):void 0}):void 0},e.prototype.get_all_schemes=function(){return this.declaredSchemes},e.prototype.get_security_scheme=function(e){return this.declaredSchemes[e]},e}()}).call(this);
},{"./errors":123,"./nodes":127}],137:[function(_dereq_,module,exports){
(function(){var t,n,r,o,e,i,s,u,p,c,a,h,_,k,f={}.hasOwnProperty,y=function(t,n){function r(){this.constructor=t}for(var o in n)f.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};this.Token=function(){function t(t,n){this.start_mark=t,this.end_mark=n}return t}(),this.DirectiveToken=function(t){function n(t,n,r,o){this.name=t,this.value=n,this.start_mark=r,this.end_mark=o}return y(n,t),n.prototype.id="<directive>",n}(this.Token),this.DocumentStartToken=function(n){function r(){return t=r.__super__.constructor.apply(this,arguments)}return y(r,n),r.prototype.id="<document start>",r}(this.Token),this.DocumentEndToken=function(t){function r(){return n=r.__super__.constructor.apply(this,arguments)}return y(r,t),r.prototype.id="<document end>",r}(this.Token),this.StreamStartToken=function(t){function n(t,n,r){this.start_mark=t,this.end_mark=n,this.encoding=r}return y(n,t),n.prototype.id="<stream start>",n}(this.Token),this.StreamEndToken=function(t){function n(){return s=n.__super__.constructor.apply(this,arguments)}return y(n,t),n.prototype.id="<stream end>",n}(this.Token),this.BlockSequenceStartToken=function(t){function n(){return u=n.__super__.constructor.apply(this,arguments)}return y(n,t),n.prototype.id="<block sequence start>",n}(this.Token),this.BlockMappingStartToken=function(t){function n(){return p=n.__super__.constructor.apply(this,arguments)}return y(n,t),n.prototype.id="<block mapping end>",n}(this.Token),this.BlockEndToken=function(t){function n(){return c=n.__super__.constructor.apply(this,arguments)}return y(n,t),n.prototype.id="<block end>",n}(this.Token),this.FlowSequenceStartToken=function(t){function n(){return a=n.__super__.constructor.apply(this,arguments)}return y(n,t),n.prototype.id="[",n}(this.Token),this.FlowMappingStartToken=function(t){function n(){return h=n.__super__.constructor.apply(this,arguments)}return y(n,t),n.prototype.id="{",n}(this.Token),this.FlowSequenceEndToken=function(t){function n(){return _=n.__super__.constructor.apply(this,arguments)}return y(n,t),n.prototype.id="]",n}(this.Token),this.FlowMappingEndToken=function(t){function n(){return k=n.__super__.constructor.apply(this,arguments)}return y(n,t),n.prototype.id="}",n}(this.Token),this.KeyToken=function(t){function n(){return r=n.__super__.constructor.apply(this,arguments)}return y(n,t),n.prototype.id="?",n}(this.Token),this.ValueToken=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return y(n,t),n.prototype.id=":",n}(this.Token),this.BlockEntryToken=function(t){function n(){return e=n.__super__.constructor.apply(this,arguments)}return y(n,t),n.prototype.id="-",n}(this.Token),this.FlowEntryToken=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return y(n,t),n.prototype.id=",",n}(this.Token),this.AliasToken=function(t){function n(t,n,r){this.value=t,this.start_mark=n,this.end_mark=r}return y(n,t),n.prototype.id="<alias>",n}(this.Token),this.AnchorToken=function(t){function n(t,n,r){this.value=t,this.start_mark=n,this.end_mark=r}return y(n,t),n.prototype.id="<anchor>",n}(this.Token),this.TagToken=function(t){function n(t,n,r){this.value=t,this.start_mark=n,this.end_mark=r}return y(n,t),n.prototype.id="<tag>",n}(this.Token),this.ScalarToken=function(t){function n(t,n,r,o,e){this.value=t,this.plain=n,this.start_mark=r,this.end_mark=o,this.style=e}return y(n,t),n.prototype.id="<scalar>",n}(this.Token)}).call(this);
},{}],138:[function(_dereq_,module,exports){
(function(){var r,t,e,a,i,o,n={}.hasOwnProperty,p=function(r,t){function e(){this.constructor=r}for(var a in t)n.call(t,a)&&(r[a]=t[a]);return e.prototype=t.prototype,r.prototype=new e,r.__super__=t.prototype,r};r=_dereq_("./errors").MarkedYAMLError,e=_dereq_("./nodes"),t=_dereq_("inflection"),a=_dereq_("./util"),this.TraitError=function(r){function t(){return i=t.__super__.constructor.apply(this,arguments)}return p(t,r),t}(r),this.ParameterError=function(r){function t(){return o=t.__super__.constructor.apply(this,arguments)}return p(t,r),t}(r),this.Traits=function(){function r(){this.declaredTraits={}}return r.prototype.load_traits=function(r){var t,e=this;return this.has_property(r,"traits")&&(t=this.property_value(r,"traits"),t&&"object"==typeof t)?t.forEach(function(r){return r&&"object"==typeof r&&"object"==typeof r.value?r.value.forEach(function(r){return e.declaredTraits[r[0].value]=r}):void 0}):void 0},r.prototype.has_traits=function(r){return 0===this.declaredTraits.length&&this.has_property(r,"traits")&&this.load_traits(r),Object.keys(this.declaredTraits).length>0},r.prototype.get_trait=function(r){return r in this.declaredTraits?this.declaredTraits[r][1]:null},r.prototype.apply_traits=function(r,t,e){var i,o=this;return null==t&&(t=""),null==e&&(e=!0),a.isMapping(r)&&this.has_traits(r)?(i=this.child_resources(r),i.forEach(function(r){return o.apply_traits_to_resource(t+r[0].value,r[1],e)})):void 0},r.prototype.apply_traits_to_resource=function(r,t,e){var i,o,n=this;if(a.isMapping(t))return i=this.child_methods(t),this.has_property(t,"is")&&(o=this.property_value(t,"is"),o.forEach(function(t){return i.forEach(function(e){return n.apply_trait(r,e,t)})})),i.forEach(function(t){return n.has_property(t[1],"is")?(o=n.property_value(t[1],"is"),o.forEach(function(e){return n.apply_trait(r,t,e)})):void 0}),e&&t.remove_question_mark_properties(),this.apply_traits(t,r,e)},r.prototype.apply_trait=function(r,t,e){var a,i,o,n;if(n=this.key_or_value(e),!(null!=n?n.trim():void 0))throw new exports.TraitError("while applying trait",null,"trait name must be provided",e.start_mark);if(!(o=this.get_trait(n)))throw new exports.TraitError("while applying trait",null,"there is no trait named "+n,e.start_mark);return a=this.get_parameters_from_is_key(r,t[0].value,e),i=o.cloneForTrait(),this.apply_parameters(i,a,e),this.apply_default_media_type_to_method(i),i.combine(t[1]),t[1]=i},r.prototype.apply_parameters=function(r,t,e){var a,i,o;this._apply_parameters(r,t,e,i={resourcePath:!0,resourcePathName:!0,methodName:!0}),o=[];for(a in t){if(!i[a])throw new exports.ParameterError("while applying parameters",null,"unused parameter: "+a,e.start_mark);o.push(void 0)}return o},r.prototype._apply_parameters=function(r,e,i,o){var n,p=this;if(r)return a.isString(r)?void((n=r.value.match(/<<\s*([^\|\s>]+)\s*(\|.*)?\s*>>/g))&&n.forEach(function(a){var n,p,s,u,l;if(p=null!=a&&null!=(u=a.trim())?u.replace(/[<>]+/g,"").trim():void 0,l=p.split(/\s*\|\s*/),p=l[0],n=l[1],!(p in e))throw new exports.ParameterError("while applying parameters",null,"value was not provided for parameter: "+p,i.start_mark);if(s=e[p],o[p]=!0,n)if(n.match(/!\s*singularize/))s=t.singularize(s);else{if(!n.match(/!\s*pluralize/))throw new exports.ParameterError("while validating parameter",null,"unknown function applied to parameter",r.start_mark);s=t.pluralize(s)}return r.value=r.value.replace(a,s)})):a.isSequence(r)?void r.value.forEach(function(r){return p._apply_parameters(r,e,i,o)}):void(a.isMapping(r)&&r.value.forEach(function(r){return p._apply_parameters(r[0],e,i,o),p._apply_parameters(r[1],e,i,o)}))},r.prototype.get_parameters_from_is_key=function(r,t,e){var i,o,n,p,s,u,l;if(p={},n={methodName:t,resourcePath:r.replace(/\/\/*/g,"/"),resourcePathName:this.extractResourcePathName(r)},a.isMapping(e)&&(o=this.value_or_undefined(e),a.isMapping(o[0][1])))for(l=o[0][1].value,s=0,u=l.length;u>s;s++){if(i=l[s],i[0].value in n)throw new exports.TraitError("while applying parameters",null,"invalid parameter name: "+i[0].value+" is reserved",i[0].start_mark);p[i[0].value]=i[1].value}return a.extend(p,n)},r.prototype.extractResourcePathName=function(r){var t,e;for(t=r.split(/\//);e=t.pop();)if(!("undefined"!=typeof e&&null!==e?e.match(/[{}]/):void 0))return e;return""},r}()}).call(this);
},{"./errors":123,"./nodes":127,"./util":140,"inflection":142}],139:[function(_dereq_,module,exports){
(function(){var e,r,t,a=function(e,r){return function(){return e.apply(r,arguments)}};r=_dereq_("uritemplate"),e=_dereq_("./nodes"),t=_dereq_("./util"),this.Transformations=function(){function n(e){this.settings=e,this.isContentTypeString=a(this.isContentTypeString,this),this.add_key_value_to_node=a(this.add_key_value_to_node,this),this.apply_default_media_type_to_resource=a(this.apply_default_media_type_to_resource,this),this.get_media_type=a(this.get_media_type,this),this.load_default_media_type=a(this.load_default_media_type,this),this.applyAstTransformations=a(this.applyAstTransformations,this),this.applyTransformations=a(this.applyTransformations,this),this.declaredSchemas={}}return n.prototype.applyTransformations=function(e){var r;return this.settings.transform?(this.applyTransformationsToRoot(e),r=e.resources,this.applyTransformationsToResources(e,r)):void 0},n.prototype.applyAstTransformations=function(e){return this.settings.transform?this.transform_document(e):void 0},n.prototype.load_default_media_type=function(e){return t.isMapping(e||(null!=e?e.value:void 0))?this.mediaType=this.property_value(e,"mediaType"):void 0},n.prototype.get_media_type=function(){return this.mediaType},n.prototype.applyTransformationsToRoot=function(e){var t,a;return e.baseUri?(a=r.parse(e.baseUri),t=a.expressions.filter(function(e){return"templateText"in e}).map(function(e){return e.templateText}),t.length&&(e.baseUriParameters||(e.baseUriParameters={})),t.forEach(function(r){return r in e.baseUriParameters||(e.baseUriParameters[r]={type:"string",required:!0,displayName:r},"version"!==r)?void 0:e.baseUriParameters[r]["enum"]=[e.version]})):void 0},n.prototype.applyTransformationsToResources=function(e,t){var a,n,o,s,i,u,p,m,c,l,f,d,_,y,h,v;if(null!=t?t.length:void 0){for(v=[],m=0,f=t.length;f>m;m++){if(u=t[m],n=u.securedBy?u.securedBy:null!=e?e.securedBy:void 0,null!=(y=u.methods)?y.length:void 0)for(h=u.methods,c=0,d=h.length;d>c;c++)o=h[c],"securedBy"in o||n&&(o.securedBy=n);for(i=u.relativeUri.split("/");!i[0]&&i.length;)i.shift();u.relativeUriPathSegments=i,p=r.parse(u.relativeUri),a=p.expressions.filter(function(e){return"templateText"in e}).map(function(e){return e.templateText}),a.length&&(u.uriParameters||(u.uriParameters={}));for(l=0,_=a.length;_>l;l++)s=a[l],s in u.uriParameters||(u.uriParameters[s]={type:"string",required:!0,displayName:s});v.push(this.applyTransformationsToResources(e,u.resources))}return v}},n.prototype.apply_default_media_type_to_resource=function(e){var r,a,n,o,s,i,u,p,m;if(this.mediaType&&t.isMapping(e)){for(u=this.child_resources(e),n=0,s=u.length;s>n;n++)r=u[n],this.apply_default_media_type_to_resource(r[1]);for(p=this.child_methods(e),m=[],o=0,i=p.length;i>o;o++)a=p[o],m.push(this.apply_default_media_type_to_method(a[1]));return m}},n.prototype.apply_default_media_type_to_method=function(e){var r,a=this;if(this.mediaType&&t.isMapping(e)&&(this.has_property(e,"body")&&this.apply_default_media_type_to_body(this.get_property(e,"body")),this.has_property(e,"responses"))){if(r=this.get_property(e,"responses"),!r||!r.value)return;return r.value.forEach(function(e){return a.has_property(e[1],"body")?a.apply_default_media_type_to_body(a.get_property(e[1],"body")):void 0})}},n.prototype.apply_default_media_type_to_body=function(r){var a,n,o,s,i,u;if(t.isMapping(r))return(null!=r&&null!=(s=r.value)&&null!=(i=s[0])&&null!=(u=i[0])?u.value:void 0)&&(a=r.value[0][0].value,!a.match(/\//))?(n=new e.MappingNode("tag:yaml.org,2002:map",[],r.start_mark,r.end_mark),o=new e.ScalarNode("tag:yaml.org,2002:str",this.mediaType,r.start_mark,r.end_mark),n.value.push([o,r.clone()]),r.value=n.value):void 0},n.prototype.noop=function(){},n.prototype.transform_types=function(e){var r,t=this;return r=e.value,r.forEach(function(e){return e.value.forEach(function(e){return t.transform_resource(e,!0)})})},n.prototype.transform_traits=function(e){var r,t=this;return r=e.value,r.forEach(function(e){return e.value.forEach(function(e){return t.transform_method(e[1],!0)})})},n.prototype.transform_named_params=function(r,a,n){var o=this;return null==n&&(n=!0),t.isNull(r[1])?void 0:r[1].value.forEach(function(r){return t.isNull(r[1])&&(r[1]=new e.MappingNode("tag:yaml.org,2002:map",[],r[1].start_mark,r[1].end_mark)),o.transform_common_parameter_properties(r[0].value,r[1],a,n)})},n.prototype.transform_common_parameter_properties=function(e,r,a,n){var o=this;return t.isSequence(r)?r.value.forEach(function(r){return o.transform_named_parameter(e,r,a,n)}):this.transform_named_parameter(e,r,a,n)},n.prototype.transform_named_parameter=function(e,r,t,a){var n,o,s,i=this;return n=!1,o=!1,s=!1,r.value.forEach(function(e){var r;if(!t||!i.isParameterKey(e))switch(r=i.canonicalizePropertyName(e[0].value,t)){case"pattern":return i.noop();case"default":return i.noop();case"enum":return i.noop();case"description":return i.noop();case"example":return i.noop();case"minLength":return i.noop();case"maxLength":return i.noop();case"minimum":return i.noop();case"maximum":return i.noop();case"repeat":return i.noop();case"displayName":return n=!0;case"type":return s=!0;case"required":return o=!0;default:return i.noop()}}),n||this.add_key_value_to_node(r,"displayName","tag:yaml.org,2002:str",this.canonicalizePropertyName(e,t)),o||a&&this.add_key_value_to_node(r,"required","tag:yaml.org,2002:bool","true"),s?void 0:this.add_key_value_to_node(r,"type","tag:yaml.org,2002:str","string")},n.prototype.add_key_value_to_node=function(r,t,a,n){var o,s;return o=new e.ScalarNode("tag:yaml.org,2002:str",t,r.start_mark,r.end_mark),s=new e.ScalarNode(a,n,r.start_mark,r.end_mark),r.value.push([o,s])},n.prototype.transform_document=function(e){var r=this;return(null!=e?e.value:void 0)?e.value.forEach(function(e){var t;switch(e[0].value){case"title":return r.noop();case"securitySchemes":return r.noop();case"schemas":return r.noop();case"version":return r.noop();case"documentation":return r.noop();case"mediaType":return r.noop();case"securedBy":return r.noop();case"baseUri":return r.noop();case"traits":return r.transform_traits(e[1]);case"baseUriParameters":return r.transform_named_params(e,!1);case"resourceTypes":return r.transform_types(e[1]);case"resources":return null!=(t=e[1])?t.value.forEach(function(e){return r.transform_resource(e)}):void 0;default:return r.noop()}}):void 0},n.prototype.transform_resource=function(e,r){var t=this;return null==r&&(r=!1),e.value?e.value.forEach(function(e){var a,n,o,s;if(n=t.transform_common_properties(e,r),!n){if(t.isHttpMethod(e[0].value,r))return t.transform_method(e[1],r);switch(a=t.canonicalizePropertyName(e[0].value,r)){case"type":return t.noop();case"usage":return t.noop();case"securedBy":return t.noop();case"uriParameters":return t.transform_named_params(e,r);case"baseUriParameters":return t.transform_named_params(e,r);case"resources":return null!=(o=e[1])?o.value.forEach(function(e){return t.transform_resource(e)}):void 0;case"methods":return null!=(s=e[1])?s.value.forEach(function(e){return t.transform_method(e,r)}):void 0;default:return t.noop()}}}):void 0},n.prototype.transform_method=function(e,r){var a=this;if(!t.isNull(e))return e.value.forEach(function(e){var t;if(!a.transform_common_properties(e,r))switch(t=a.canonicalizePropertyName(e[0].value,r)){case"securedBy":return a.noop();case"usage":return a.noop();case"headers":return a.transform_named_params(e,r,!1);case"queryParameters":return a.transform_named_params(e,r,!1);case"baseUriParameters":return a.transform_named_params(e,r);case"body":return a.transform_body(e,r);case"responses":return a.transform_responses(e,r);default:return a.noop()}})},n.prototype.transform_responses=function(e,r){var a=this;if(!t.isNull(e[1]))return e[1].value.forEach(function(e){return a.transform_response(e,r)})},n.prototype.transform_response=function(e,r){var a=this;return t.isMapping(e[1])?e[1].value.forEach(function(e){var t;switch(t=a.canonicalizePropertyName(e[0].value,r)){case"description":return a.noop();case"body":return a.transform_body(e,r);case"headers":return a.transform_named_params(e,r,!1);default:return a.noop()}}):void 0},n.prototype.isContentTypeString=function(e){return null!=e?e.match(/^[^\/]+\/[^\/]+$/):void 0},n.prototype.transform_body=function(e,r){var a,n=this;if(!t.isNull(e[1]))return null!=(a=e[1].value)?a.forEach(function(e){var t;if(n.isParameterKey(e))return n.noop();if(n.isContentTypeString(e[0].value))return n.transform_body(e,r);switch(t=n.canonicalizePropertyName(e[0].value,r)){case"example":return n.noop();case"schema":return n.noop();case"formParameters":return n.transform_named_params(e,r,!1);default:return n.noop()}}):void 0},n.prototype.transform_common_properties=function(e,r){var t;if(this.isParameterKey(e))return!0;switch(t=this.canonicalizePropertyName(e[0].value,r)){case"displayName":return!0;case"description":return!0;case"is":return!0;default:this.noop()}return!1},n}()}).call(this);
},{"./nodes":127,"./util":140,"uritemplate":145}],140:[function(_dereq_,module,exports){
(function(){var t=[].slice,i={}.hasOwnProperty;this.extend=function(){var i,l,n,a,r,g,o;for(i=arguments[0],a=2<=arguments.length?t.call(arguments,1):[],g=0,o=a.length;o>g;g++){n=a[g];for(l in n)r=n[l],i[l]=r}return i},this.is_empty=function(t){var l;if(Array.isArray(t)||"string"==typeof t)return 0===t.length;for(l in t)if(i.call(t,l))return!1;return!0},this.isNoop=function(t){return t},this.isMapping=function(t){return"tag:yaml.org,2002:map"===(null!=t?t.tag:void 0)},this.isNull=function(t){return"tag:yaml.org,2002:null"===(null!=t?t.tag:void 0)},this.isSequence=function(t){return"tag:yaml.org,2002:seq"===(null!=t?t.tag:void 0)},this.isString=function(t){return"tag:yaml.org,2002:str"===(null!=t?t.tag:void 0)},this.isInteger=function(t){return"tag:yaml.org,2002:int"===(null!=t?t.tag:void 0)},this.isNullableMapping=function(t){return this.isMapping(t)||this.isNull(t)},this.isNullableString=function(t){return this.isString(t)||this.isNull(t)},this.isNullableSequence=function(t){return this.isSequence(t)||this.isNull(t)},this.isNumber=function(t){return"tag:yaml.org,2002:int"===(null!=t?t.tag:void 0)||"tag:yaml.org,2002:float"===(null!=t?t.tag:void 0)},this.isScalar=function(t){return"tag:yaml.org,2002:null"===(null!=t?t.tag:void 0)||"tag:yaml.org,2002:bool"===(null!=t?t.tag:void 0)||"tag:yaml.org,2002:int"===(null!=t?t.tag:void 0)||"tag:yaml.org,2002:float"===(null!=t?t.tag:void 0)||"tag:yaml.org,2002:binary"===(null!=t?t.tag:void 0)||"tag:yaml.org,2002:timestamp"===(null!=t?t.tag:void 0)||"tag:yaml.org,2002:str"===(null!=t?t.tag:void 0)},this.isCollection=function(t){return"tag:yaml.org,2002:omap"===(null!=t?t.tag:void 0)||"tag:yaml.org,2002:pairs"===(null!=t?t.tag:void 0)||"tag:yaml.org,2002:set"===(null!=t?t.tag:void 0)||"tag:yaml.org,2002:seq"===(null!=t?t.tag:void 0)||"tag:yaml.org,2002:map"===(null!=t?t.tag:void 0)}}).call(this);
},{}],141:[function(_dereq_,module,exports){
(function(){var e,r,t,a,i,s,o,l,n={}.hasOwnProperty,u=function(e,r){function t(){this.constructor=e}for(var a in r)n.call(r,a)&&(e[a]=r[a]);return t.prototype=r.prototype,e.prototype=new t,e.__super__=r.prototype,e},p=function(e,r){return function(){return e.apply(r,arguments)}},h=[].indexOf||function(e){for(var r=0,t=this.length;t>r;r++)if(r in this&&this[r]===e)return r;return-1};s=_dereq_("url"),i=_dereq_("uritemplate"),e=_dereq_("./errors").MarkedYAMLError,t=_dereq_("./nodes"),a=_dereq_("./traits"),o=_dereq_("./util"),r=_dereq_("json-lint"),this.ValidationError=function(e){function r(){return l=r.__super__.constructor.apply(this,arguments)}return u(r,e),r}(e),this.ValidationErrors=function(e){function r(e){this.validation_errors=e}return u(r,e),r.prototype.get_validation_errors=function(){return this.validation_errors},r}(e),this.Validator=function(){function e(){this.get_properties=p(this.get_properties,this),this.get_list_values=p(this.get_list_values,this),this.validations=[this.validate_root,this.validate_root_properties,this.validate_base_uri_parameters,this.valid_absolute_uris]}return e.prototype.validate_document=function(e){var r,t,a,i;for(i=this.validations,t=0,a=i.length;a>t;t++)r=i[t],r.call(this,e);return!0},e.prototype.validate_security_schemes=function(e){var r,t,a,i,s,l;if(!o.isSequence(e))throw new exports.ValidationError("while validating securitySchemes",null,"invalid security schemes property, it must be an array",e.start_mark);for(s=e.value,l=[],a=0,i=s.length;i>a;a++){if(t=s[a],!o.isMapping(t))throw new exports.ValidationError("while validating securitySchemes",null,"invalid security scheme property, it must be a map",t.start_mark);l.push(function(){var e,a,i,s;for(i=t.value,s=[],e=0,a=i.length;a>e;e++){if(r=i[e],!o.isMapping(r[1]))throw new exports.ValidationError("while validating securitySchemes",null,"invalid security scheme property, it must be a map",r[0].start_mark);s.push(this.validate_security_scheme(r[1]))}return s}.call(this))}return l},e.prototype.trackRepeatedProperties=function(e,r,t,a,i){if(null==a&&(a="RAML"),null==i&&(i="a property with the same name already exists"),r in e)throw new exports.ValidationError("while validating "+a,null,""+i+": '"+r+"'",t.start_mark);return e[r]=t},e.prototype.validate_security_scheme=function(e){var r,t,a,i,s,l,n;for(i=null,a=null,t={},n=e.value,s=0,l=n.length;l>s;s++)switch(r=n[s],this.trackRepeatedProperties(t,r[0].value,r[0],"while validating security scheme","property already used in security scheme"),r[0].value){case"description":if(!o.isScalar(r[1]))throw new exports.ValidationError("while validating security scheme",null,"schemes description must be a string",r[1].start_mark);break;case"type":if(i=r[1].value,!o.isString(r[1])||!i.match(/^(OAuth 1.0|OAuth 2.0|Basic Authentication|Digest Authentication|x-.+)$/))throw new exports.ValidationError("while validating security scheme",null,'schemes type must be any of: "OAuth 1.0", "OAuth 2.0", "Basic Authentication", "Digest Authentication", "x-{.+}"',r[1].start_mark);break;case"describedBy":this.validate_method(r,!0,"security scheme");break;case"settings":if(a=r,!o.isNullableMapping(r[1]))throw new exports.ValidationError("while validating security scheme",null,"schemes settings must be a map",r[1].start_mark);break;default:throw new exports.ValidationError("while validating security scheme",null,"property: '"+r[0].value+"' is invalid in a security scheme",r[0].start_mark)}if(!i)throw new exports.ValidationError("while validating security scheme",null,'schemes type must be any of: "OAuth 1.0", "OAuth 2.0", "Basic Authentication", "Digest Authentication", "x-{.+}"',e.start_mark);if("OAuth 2.0"===i){if(!a)throw new exports.ValidationError("while validating security scheme",null,"for OAuth 2.0 settings must be a map",e.start_mark);return this.validate_oauth2_settings(a)}if("OAuth 1.0"===i){if(!a)throw new exports.ValidationError("while validating security scheme",null,"for OAuth 1.0 settings must be a map",e.start_mark);return this.validate_oauth1_settings(a)}},e.prototype.validate_oauth2_settings=function(e){var r,t,a,i,s,l,n,u,p,h;for(a={},u=e[1].value,i=0,l=u.length;l>i;i++)switch(r=u[i],this.trackRepeatedProperties(a,r[0].value,r[0],"while validating security scheme","setting with the same name already exists"),r[0].value){case"authorizationUri":if(!o.isString(r[1]))throw new exports.ValidationError("while validating security scheme",null,"authorizationUri must be a URL",r[0].start_mark);break;case"accessTokenUri":if(!o.isString(r[1]))throw new exports.ValidationError("while validating security scheme",null,"accessTokenUri must be a URL",r[0].start_mark)}for(p=["accessTokenUri","authorizationUri"],h=[],s=0,n=p.length;n>s;s++){if(t=p[s],!(t in a))throw new exports.ValidationError("while validating security scheme",null,"OAuth 2.0 settings must have "+t+" property",e[0].start_mark);h.push(void 0)}return h},e.prototype.validate_oauth1_settings=function(e){var r,t,a,i,s,l,n,u,p,h;for(a={},u=e[1].value,i=0,l=u.length;l>i;i++)switch(r=u[i],this.trackRepeatedProperties(a,r[0].value,r[0],"while validating security scheme","setting with the same name already exists"),r[0].value){case"requestTokenUri":if(!o.isString(r[1]))throw new exports.ValidationError("while validating security scheme",null,"requestTokenUri must be a URL",r[0].start_mark);break;case"authorizationUri":if(!o.isString(r[1]))throw new exports.ValidationError("while validating security scheme",null,"authorizationUri must be a URL",r[0].start_mark);break;case"tokenCredentialsUri":if(!o.isString(r[1]))throw new exports.ValidationError("while validating security scheme",null,"tokenCredentialsUri must be a URL",r[0].start_mark)}for(p=["requestTokenUri","authorizationUri","tokenCredentialsUri"],h=[],s=0,n=p.length;n>s;s++){if(t=p[s],!(t in a))throw new exports.ValidationError("while validating security scheme",null,"OAuth 1.0 settings must have "+t+" property",e[0].start_mark);h.push(void 0)}return h},e.prototype.validate_root_schemas=function(e){var r,t,a,i;if(!o.isSequence(e))throw new exports.ValidationError("while validating schemas",null,"schemas property must be an array",e.start_mark);t=this.get_all_schemas(),i=[];for(a in t){if(r=t[a],!r[1].tag||!o.isString(r[1]))throw new exports.ValidationError("while validating schemas",null,"schema "+a+" must be a string",r[0].start_mark);i.push(this.validateSchema(r[1]))}return i},e.prototype.validate_root=function(e){if(!e&&!o.isNull(e))throw new exports.ValidationError("while validating root",null,"empty document",null!=e?e.start_mark:void 0);if(!o.isMapping(e))throw new exports.ValidationError("while validating root",null,"document must be a map",e.start_mark)},e.prototype.validate_base_uri_parameters=function(){if(this.baseUriParameters){if(!this.baseUri)throw new exports.ValidationError("while validating uri parameters",null,"uri parameters defined when there is no baseUri",this.baseUriParameters.start_mark);if(!o.isNullableMapping(this.baseUriParameters))throw new exports.ValidationError("while validating uri parameters",null,"base uri parameters must be a map",this.baseUriParameters.start_mark);return this.validate_uri_parameters(this.baseUri,this.baseUriParameters,!1,!1,["version"])}},e.prototype.validate_uri_parameters=function(e,r,t,a,s){var l,n,u,p,d,m,c,v,w,f,g;null==s&&(s=[]);try{p=i.parse(e)}catch(y){throw l=y,new exports.ValidationError("while validating uri parameters",null,null!=l&&null!=(w=l.options)?w.message:void 0,r.start_mark)}if(n=p.expressions.filter(function(e){return"templateText"in e}).map(function(e){return e.templateText}),m={},"object"==typeof r.value){for(f=r.value,g=[],c=0,v=f.length;v>c;c++){if(d=f[c],u=this.canonicalizePropertyName(d[0].value,t),this.trackRepeatedProperties(m,u,r,"while validating URI parameters","URI parameter with the same name already exists"),h.call(s,u)>=0)throw new exports.ValidationError("while validating baseUri",null,d[0].value+" parameter not allowed here",d[0].start_mark);if(!o.isNullableMapping(d[1],t)&&!o.isNullableSequence(d[1],t))throw new exports.ValidationError("while validating baseUri",null,"URI parameter must be a map",d[0].start_mark);if(o.isNull(d[1])||this.valid_common_parameter_properties(d[1],t),!(a||this.isParameterKey(d)||h.call(n,u)>=0))throw new exports.ValidationError("while validating baseUri",null,d[0].value+" uri parameter unused",d[0].start_mark);g.push(void 0)}return g}},e.prototype.validate_types=function(e){var r,t,a,i,s,l;if(a=e.value,!o.isSequence(e))throw new exports.ValidationError("while validating resource types",null,"invalid resourceTypes definition, it must be an array",e.start_mark);for(l=[],i=0,s=a.length;s>i;i++){if(t=a[i],!o.isMapping(t))throw new exports.ValidationError("while validating resource types",null,"invalid resourceType definition, it must be a map",t.start_mark);l.push(function(){var e,a,i,s;for(i=t.value,s=[],e=0,a=i.length;a>e;e++){if(r=i[e],this.isParameterKey(r))throw new exports.ValidationError("while validating resource types",null,"parameter key cannot be used as a resource type name",r[0].start_mark);if(!o.isMapping(r[1]))throw new exports.ValidationError("while validating resource types",null,"invalid resourceType definition, it must be a map",r[1].start_mark);s.push(this.validate_resource(r,!0,"resource type"))}return s}.call(this))}return l},e.prototype.validate_traits=function(e){var r,t,i,s,l;if(a=e.value,!Array.isArray(a))throw new exports.ValidationError("while validating traits",null,"invalid traits definition, it must be an array",e.start_mark);for(l=[],i=0,s=a.length;s>i;i++){if(t=a[i],!Array.isArray(t.value))throw new exports.ValidationError("while validating traits",null,"invalid traits definition, it must be an array",e.start_mark);l.push(function(){var e,a,i,s;for(i=t.value,s=[],e=0,a=i.length;a>e;e++){if(r=i[e],this.isParameterKey(r))throw new exports.ValidationError("while validating traits",null,"parameter key cannot be used as a trait name",r[0].start_mark);if(!o.isMapping(r[1]))throw new exports.ValidationError("while validating traits",null,"invalid trait definition, it must be a map",r[1].start_mark);s.push(this.valid_traits_properties(r))}return s}.call(this))}return l},e.prototype.valid_traits_properties=function(e){var r;if(e[1].value&&o.isMapping(e[1])){if(r=e[1].value.filter(function(e){return"is"===e[0].value||"type"===e[0].value}),r.length>0)throw new exports.ValidationError("while validating trait properties",null,"property: '"+r[0][0].value+"' is invalid in a trait",r[0][0].start_mark);return this.validate_method(e,!0,"trait")}},e.prototype.canonicalizePropertyName=function(e,r){return r&&"?"===e.slice(-1)?e.slice(0,-1):e},e.prototype.valid_common_parameter_properties=function(e,r){var t,a,i,s,l;if(e.value){if(o.isSequence(e)){if(0===e.value.length)throw new exports.ValidationError("while validating parameter properties",null,"named parameter needs at least one type",e.start_mark);if(!(e.value.length>1))throw new exports.ValidationError("while validating parameter properties",null,"single type for variably typed parameter",e.start_mark);for(s=e.value,l=[],a=0,i=s.length;i>a;a++)t=s[a],l.push(this.validate_named_parameter(t,r));return l}return this.validate_named_parameter(e,r)}},e.prototype.validate_named_parameter=function(e,r){var t,a,i,s,l,n,u,p,d,m,c,v,w,f,g,y,_,b,k,x,V;for(l={},n="string",b=e.value,v=0,g=b.length;g>v;v++)if(i=b[v],u=i[0].value,p=i[1].value,this.trackRepeatedProperties(l,this.canonicalizePropertyName(i[0].value,!0),i[0],"while validating parameter properties","parameter property already used"),t=["true","false"],!r||!this.isParameterKey(i)&&!this.isParameterValue(i)){switch(a=this.canonicalizePropertyName(u,r),m=!0,u){case"displayName":if(!o.isScalar(i[1]))throw new exports.ValidationError("while validating parameter properties",null,"the value of displayName must be a scalar",i[1].start_mark);break;case"pattern":if(!o.isScalar(i[1]))throw new exports.ValidationError("while validating parameter properties",null,"the value of pattern must be a scalar",i[1].start_mark);break;case"default":if(!o.isScalar(i[1]))throw new exports.ValidationError("while validating parameter properties",null,"the value of default must be a scalar",i[1].start_mark);break;case"description":if(!o.isScalar(i[1]))throw new exports.ValidationError("while validating parameter properties",null,"the value of description must be a scalar",i[1].start_mark);break;case"example":if(!o.isScalar(i[1]))throw new exports.ValidationError("while validating parameter properties",null,"the value of example must be a scalar",i[1].start_mark);break;case"minLength":if(isNaN(p))throw new exports.ValidationError("while validating parameter properties",null,"the value of minLength must be a number",i[1].start_mark);break;case"maxLength":if(isNaN(p))throw new exports.ValidationError("while validating parameter properties",null,"the value of maxLength must be a number",i[1].start_mark);break;case"minimum":if(isNaN(p))throw new exports.ValidationError("while validating parameter properties",null,"the value of minimum must be a number",i[1].start_mark);break;case"maximum":if(isNaN(p))throw new exports.ValidationError("while validating parameter properties",null,"the value of maximum must be a number",i[1].start_mark);break;case"type":if(n=p,c=["string","number","integer","date","boolean","file"],h.call(c,p)<0)throw new exports.ValidationError("while validating parameter properties",null,"type can be either of: string, number, integer, file, date or boolean ",i[1].start_mark);break;case"required":if(h.call(t,p)<0)throw new exports.ValidationError("while validating parameter properties",null,"required can be any either true or false",i[1].start_mark);break;case"repeat":if(h.call(t,p)<0)throw new exports.ValidationError("while validating parameter properties",null,"repeat can be any either true or false",i[1].start_mark);break;default:m=!1}switch(a){case"enum":if(!o.isNullableSequence(i[1]))throw new exports.ValidationError("while validating parameter properties",null,"the value of enum must be an array",i[1].start_mark);if(!i[1].value.length)throw new exports.ValidationError("while validating parameter properties",null,"enum is empty",i[1].start_mark);if(s=this.get_list_values(i[1].value),this.hasDuplicates(s))throw new exports.ValidationError("while validating parameter properties",null,"enum contains duplicated values",i[1].start_mark);break;default:if(!m)throw new exports.ValidationError("while validating parameter properties",null,"unknown property "+u,i[0].start_mark)}}if("string"!==n)for(k=["enum","pattern","minLength","maxLength"],w=0,y=k.length;y>w;w++)if(d=k[w],d in l)throw new exports.ValidationError("while validating parameter properties",null,"property "+d+" can only be used if type is 'string'",l[d].start_mark);if("number"!==n&&"integer"!==n){for(x=["minimum","maximum"],V=[],f=0,_=x.length;_>f;f++){if(d=x[f],d in l)throw new exports.ValidationError("while validating parameter properties",null,"property "+d+" can only be used if type is 'number' or 'integer'",l[d].start_mark);V.push(void 0)}return V}},e.prototype.get_list_values=function(e){return e.map(function(e){return e.value})},e.prototype.validate_root_properties=function(e){var r,t,a,i,s,l;if(r=!1,a={},null!=e?e.value:void 0)for(l=e.value,i=0,s=l.length;s>i;i++)switch(t=l[i],t[0].value.match(/^\//)?this.trackRepeatedProperties(a,this.canonicalizePropertyName(t[0].value,!0),t[0],"while validating root properties","resource already declared"):this.trackRepeatedProperties(a,t[0].value,t[0],"while validating root properties","root property already used"),t[0].value){case"title":if(!o.isScalar(t[1]))throw new exports.ValidationError("while validating root properties",null,"title must be a string",t[0].start_mark);break;case"baseUri":if(!o.isScalar(t[1]))throw new exports.ValidationError("while validating root properties",null,"baseUri must be a string",t[0].start_mark);this.baseUri=t[1].value,r=this.validate_base_uri(t[1]);break;case"securitySchemes":this.validate_security_schemes(t[1]);break;case"schemas":this.validate_root_schemas(t[1]);break;case"version":if(!o.isScalar(t[1]))throw new exports.ValidationError("while validating root properties",null,"version must be a string",t[0].start_mark);o.isNull(t[1])||(t[1].tag="tag:yaml.org,2002:str");break;case"traits":this.validate_traits(t[1]);break;case"documentation":if(!o.isSequence(t[1]))throw new exports.ValidationError("while validating root properties",null,"documentation must be an array",t[0].start_mark);this.validate_documentation(t[1]);break;case"mediaType":if(!o.isString(t[1]))throw new exports.ValidationError("while validating root properties",null,"mediaType must be a scalar",t[0].start_mark);break;case"baseUriParameters":this.baseUriParameters=t[1],o.isNoop(t[1]);break;case"resourceTypes":this.validate_types(t[1]);break;case"securedBy":this.validate_secured_by(t);break;case"protocols":this.validate_protocols_property(t);break;default:if(!t[0].value.match(/^\//))throw new exports.ValidationError("while validating root properties",null,"unknown property "+t[0].value,t[0].start_mark);this.validate_resource(t)}if(!("title"in a))throw new exports.ValidationError("while validating root properties",null,"missing title",e.start_mark);if(r&&!("version"in a))throw new exports.ValidationError("while validating version",null,"missing version",e.start_mark)},e.prototype.validate_documentation=function(e){var r,t,a,i,s;if(!e.value.length)throw new exports.ValidationError("while validating documentation section",null,"there must be at least one document in the documentation section",e.start_mark);for(i=e.value,s=[],t=0,a=i.length;a>t;t++)r=i[t],s.push(this.validate_doc_section(r));return s},e.prototype.validate_doc_section=function(e){var r,t,a,i,s;if(!o.isMapping(e))throw new exports.ValidationError("while validating documentation section",null,"each documentation section must be a map",e.start_mark);for(r={},s=e.value,a=0,i=s.length;i>a;a++)switch(t=s[a],this.trackRepeatedProperties(r,t[0].value,t[0],"while validating documentation section","property already used"),t[0].value){case"title":if(!o.isScalar(t[1])||o.isNull(t[1]))throw new exports.ValidationError("while validating documentation section",null,"title must be a string",t[0].start_mark);break;case"content":if(!o.isScalar(t[1])||o.isNull(t[1]))throw new exports.ValidationError("while validating documentation section",null,"content must be a string",t[0].start_mark);break;default:throw new exports.ValidationError("while validating root properties",null,"unknown property "+t[0].value,t[0].start_mark)}if(!("content"in r))throw new exports.ValidationError("while validating documentation section",null,"a documentation entry must have content property",e.start_mark);if(!("title"in r))throw new exports.ValidationError("while validating documentation section",null,"a documentation entry must have title property",e.start_mark)},e.prototype.child_resources=function(e){return e&&o.isMapping(e)?e.value.filter(function(e){return e[0].value.match(/^\//)}):[]},e.prototype.validate_resource=function(e,r,t){var a,s,l,n,u,p,h,d,m,c,v,w;if(null==r&&(r=!1),null==t&&(t="resource"),!e[1]||!o.isNullableMapping(e[1]))throw new exports.ValidationError("while validating resources",null,"resource is not a map",e[1].start_mark);if(e[0].value)try{p=i.parse(e[0].value)}catch(f){throw s=f,new exports.ValidationError("while validating resource",null,"Resource name is invalid: "+(null!=s&&null!=(c=s.options)?c.message:void 0),e[0].start_mark)}if(!o.isNull(e[1])&&e[1].value){for(u={},v=e[1].value,w=[],d=0,m=v.length;m>d;d++)if(n=v[d],n[0].value.match(/^\//)?this.trackRepeatedProperties(u,this.canonicalizePropertyName(n[0].value,!0),n[0],"while validating resource","resource already declared"):this.isHttpMethod(n[0].value,r)?this.trackRepeatedProperties(u,this.canonicalizePropertyName(n[0].value,!0),n[0],"while validating resource","method already declared"):this.trackRepeatedProperties(u,this.canonicalizePropertyName(n[0].value,!0),n[0],"while validating resource","property already used"),this.validate_common_properties(n,r))w.push(void 0);else if(n[0].value.match(/^\//)){if(r)throw new exports.ValidationError("while validating trait properties",null,"resource type cannot define child resources",n[0].start_mark);w.push(this.validate_resource(n,r))}else if(this.isHttpMethod(n[0].value,r))w.push(this.validate_method(n,r,"method"));else{switch(l=n[0].value,a=this.canonicalizePropertyName(l,r),h=!0,a){case"uriParameters":if(!o.isNullableMapping(n[1]))throw new exports.ValidationError("while validating uri parameters",null,"uri parameters must be a map",n[0].start_mark);this.validate_uri_parameters(e[0].value,n[1],r,r);break;case"baseUriParameters":if(!this.baseUri)throw new exports.ValidationError("while validating uri parameters",null,"base uri parameters defined when there is no baseUri",n[0].start_mark);if(!o.isNullableMapping(n[1]))throw new exports.ValidationError("while validating uri parameters",null,"base uri parameters must be a map",n[0].start_mark);this.validate_uri_parameters(this.baseUri,n[1],r);break;default:h=!1}switch(l){case"type":w.push(this.validate_type_property(n,r));break;case"usage":if(!r)throw new exports.ValidationError("while validating resources",null,"property: '"+n[0].value+"' is invalid in a resource",n[0].start_mark);w.push(void 0);break;case"securedBy":w.push(this.validate_secured_by(n));break;default:if(!h)throw new exports.ValidationError("while validating resources",null,"property: '"+n[0].value+("' is invalid in a "+t),n[0].start_mark);w.push(void 0)}}return w}},e.prototype.validate_secured_by=function(e){var r,t,a,i,s,l,n;if(!o.isSequence(e[1]))throw new exports.ValidationError("while validating securityScheme",null,"property 'securedBy' must be an array",e[0].start_mark);if(t=this.get_list_values(e[1].value),this.hasDuplicates(t))throw new exports.ValidationError("while validating securityScheme consumption",null,"securitySchemes can only be referenced once in a securedBy property",e[0].start_mark);for(l=e[1].value,n=[],i=0,s=l.length;s>i;i++){if(r=l[i],o.isSequence(r))throw new exports.ValidationError("while validating securityScheme consumption",null,"securityScheme reference cannot be an array",r.start_mark);if(o.isNull(r))n.push(void 0);else{if(a=this.key_or_value(r),!this.get_security_scheme(a))throw new exports.ValidationError("while validating securityScheme consumption",null,"there is no securityScheme named "+a,r.start_mark);n.push(void 0)}}return n},e.prototype.validate_protocols_property=function(e){var r,t,a,i,s,l;if(!o.isSequence(e[1]))throw new exports.ValidationError("while validating protocols",null,"property must be an array",e[0].start_mark);for(i=e[1].value,l=[],t=0,a=i.length;a>t;t++){if(r=i[t],!o.isString(r))throw new exports.ValidationError("while validating protocols",null,"value must be a string",r.start_mark);if("HTTP"!==(s=r.value)&&"HTTPS"!==s)throw new exports.ValidationError("while validating protocols",null,"only HTTP and HTTPS values are allowed",r.start_mark);l.push(void 0)}return l},e.prototype.validate_type_property=function(e){var r,t,a,i,s,l;if(!o.isMapping(e[1])&&!o.isString(e[1]))throw new exports.ValidationError("while validating resource types",null,"property 'type' must be a string or a map",e[0].start_mark);if(o.isMapping(e[1])&&e[1].value.length>1)throw new exports.ValidationError("while validating resource types",null,"a resource or resourceType can inherit from a single resourceType",e[0].start_mark);if(t=this.key_or_value(e[1]),!(null!=t?t.trim():void 0))throw new exports.ValidationError("while validating resource type consumption",null,"resource type name must be provided",e[1].start_mark);if(!this.isParameterKeyValue(t)&&!this.get_type(t))throw new exports.ValidationError("while validating resource type consumption",null,"there is no resource type named "+t,e[1].start_mark);if(o.isMapping(e[1])){for(s=e[1].value,l=[],a=0,i=s.length;i>a;a++){if(r=s[a],!o.isNull(r[1])&&!o.isMapping(r[1]))throw new exports.ValidationError("while validating resource consumption",null,"resource type parameters must be in a map",r[1].start_mark);l.push(void 0)}return l}},e.prototype.validate_method=function(e,r,t){var a,i,s,l,n,u,p,h,d;if(null==t&&(t="method"),!o.isNull(e[1])){if(!o.isMapping(e[1]))throw new exports.ValidationError("while validating methods",null,"method must be a map",e[0].start_mark);for(s={},h=e[1].value,d=[],u=0,p=h.length;p>u;u++)if(l=h[u],this.trackRepeatedProperties(s,this.canonicalizePropertyName(l[0].value,!0),l[0],"while validating method","property already used"),!this.validate_common_properties(l,r,t)){switch(i=l[0].value,a=this.canonicalizePropertyName(i,r),n=!0,a){case"headers":this.validate_headers(l,r);break;case"queryParameters":this.validate_query_params(l,r);break;case"body":this.validate_body(l,r,null,!1);break;case"responses":this.validate_responses(l,r);break;case"baseUriParameters":if(!this.baseUri)throw new exports.ValidationError("while validating uri parameters",null,"base uri parameters defined when there is no baseUri",l[0].start_mark);if(!o.isNullableMapping(l[1]))throw new exports.ValidationError("while validating uri parameters",null,"base uri parameters must be a map",l[0].start_mark);this.validate_uri_parameters(this.baseUri,l[1],r);break;case"protocols":this.validate_protocols_property(l);break;default:n=!1}switch(i){case"securedBy":d.push(this.validate_secured_by(l));break;case"usage":if(!r||"trait"!==t)throw new exports.ValidationError("while validating resources",null,"property: 'usage' is invalid in a "+t,l[0].start_mark);d.push(void 0);break;default:if(!n)throw new exports.ValidationError("while validating resources",null,"property: '"+l[0].value+"' is invalid in a "+t,l[0].start_mark);d.push(void 0)}}return d}},e.prototype.validate_responses=function(e,r){var t,a,i,s,l,n;if(!o.isNull(e[1])){if(!o.isMapping(e[1]))throw new exports.ValidationError("while validating responses",null,"property: 'responses' must be a map",e[0].start_mark);for(a={},l=e[1].value,n=[],i=0,s=l.length;s>i;i++){if(t=l[i],!o.isNullableMapping(t[1]))throw new exports.ValidationError("while validating responses",null,"each response must be a map",t[1].start_mark);this.trackRepeatedProperties(a,this.canonicalizePropertyName(t[0].value,!0),t[0],"while validating responses","response code already used"),n.push(this.validate_response(t,r))}return n}},e.prototype.validate_query_params=function(e,r){var t,a,i,s,l,n;if(!o.isNull(e[1])){if(!o.isMapping(e[1]))throw new exports.ValidationError("while validating query parameters",null,"property: 'queryParameters' must be a map",e[0].start_mark);for(a={},l=e[1].value,n=[],i=0,s=l.length;s>i;i++){if(t=l[i],!o.isNullableMapping(t[1])&&!o.isNullableSequence(t[1]))throw new exports.ValidationError("while validating query parameters",null,"each query parameter must be a map",t[1].start_mark);this.trackRepeatedProperties(a,this.canonicalizePropertyName(t[0].value,!0),t[0],"while validating query parameter","parameter name already used"),n.push(this.valid_common_parameter_properties(t[1],r))}return n}},e.prototype.validate_form_params=function(e,r){var t,a,i,s,l,n;if(!o.isNull(e[1])){if(!o.isMapping(e[1]))throw new exports.ValidationError("while validating query parameters",null,"property: 'formParameters' must be a map",e[0].start_mark);for(t={},l=e[1].value,n=[],i=0,s=l.length;s>i;i++){if(a=l[i],!o.isNullableMapping(a[1])&&!o.isNullableSequence(a[1]))throw new exports.ValidationError("while validating query parameters",null,"each form parameter must be a map",a[1].start_mark);this.trackRepeatedProperties(t,this.canonicalizePropertyName(a[0].value,!0),a[0],"while validating form parameter","parameter name already used"),n.push(this.valid_common_parameter_properties(a[1],r))}return n}},e.prototype.validate_headers=function(e,r){var t,a,i,s,l,n;if(!o.isNull(e[1])){if(!o.isMapping(e[1]))throw new exports.ValidationError("while validating headers",null,"property: 'headers' must be a map",e[0].start_mark);for(t={},l=e[1].value,n=[],i=0,s=l.length;s>i;i++){if(a=l[i],!o.isNullableMapping(a[1])&&!o.isNullableSequence(a[1]))throw new exports.ValidationError("while validating query parameters",null,"each header must be a map",a[1].start_mark);this.trackRepeatedProperties(t,this.canonicalizePropertyName(a[0].value,!0),a[0],"while validating headers","header name already used"),n.push(this.valid_common_parameter_properties(a[1],r))}return n}},e.prototype.validate_response=function(e,r){var t,a,i,s,l,n,u,p,h,d,m,c;if(o.isSequence(e[0])){if(!e[0].value.length)throw new exports.ValidationError("while validating responses",null,"there must be at least one response code",e[0].start_mark);for(d=e[0].value,n=0,p=d.length;p>n;n++)if(i=d[n],!this.isParameterKey(i)&&!o.isInteger(i)&&isNaN(this.canonicalizePropertyName(i,r)))throw new exports.ValidationError("while validating responses",null,"each response key must be an integer",i.start_mark)}else if(!this.isParameterKey(e)&&!o.isInteger(e[0])&&isNaN(this.canonicalizePropertyName(e[0].value,r)))throw new exports.ValidationError("while validating responses",null,"each response key must be an integer",e[0].start_mark);if(!o.isNullableMapping(e[1]))throw new exports.ValidationError("while validating responses",null,"each response property must be a map",e[0].start_mark);if(o.isMapping(e[1])){for(s={},m=e[1].value,c=[],u=0,h=m.length;h>u;u++)if(a=m[u],t=this.canonicalizePropertyName(a[0].value,r),this.trackRepeatedProperties(s,t,a[0],"while validating responses","property already used"),l=!0,this.isParameterKey(a))c.push(void 0);else{switch(a[0].value){case"description":if(!o.isScalar(a[1]))throw new exports.ValidationError("while validating responses",null,"property description must be a string",e[0].start_mark);break;default:l=!1}switch(t){case"body":c.push(this.validate_body(a,r,null,!0));break;case"headers":if(!o.isNullableMapping(a[1]))throw new exports.ValidationError("while validating resources",null,"property 'headers' must be a map",a[0].start_mark);c.push(this.validate_headers(a));break;default:if(!l)throw new exports.ValidationError("while validating response",null,"property: '"+a[0].value+"' is invalid in a response",a[0].start_mark);c.push(void 0)}}return c}},e.prototype.isHttpMethod=function(e,r){var t;return null==r&&(r=!1),e?(e=this.canonicalizePropertyName(e,r),"options"===(t=e.toLowerCase())||"get"===t||"head"===t||"post"===t||"put"===t||"delete"===t||"trace"===t||"connect"===t||"patch"===t):!1},e.prototype.isParameterValue=function(e){return this.isParameterKey(e,!1)},e.prototype.isParameterKey=function(e,r){var t;if(null==r&&(r=!0),t=r?0:1,!r&&!o.isScalar(e[1]))return!1;if(this.isParameterKeyValue(e[t].value))return!0;if(e[t].value.match(/<<\s*([^\|\s>]+)\s*\|.*\s*>>/g))throw new exports.ValidationError("while validating parameter",null,"unknown function applied to property name",e[0].start_mark);return!1},e.prototype.isParameterKeyValue=function(e){return e.match(/<<\s*([^\|\s>]+)\s*>>/g)||e.match(/<<\s*([^\|\s>]+)\s*(\|\s*\!\s*(singularize|pluralize))?\s*>>/g)?!0:!1},e.prototype.validate_body=function(e,r,t,a){var i,s,l,n,u,p,d,m,c,v;if(null==t&&(t=null),!o.isNull(e[1])){if(!o.isMapping(e[1]))throw new exports.ValidationError("while validating body",null,"property: body specification must be a map",e[0].start_mark);for(n=["implicit","forcedImplicit"],i={},v=e[1].value,m=0,c=v.length;c>m;m++)if(s=v[m],this.trackRepeatedProperties(i,this.canonicalizePropertyName(s[0].value,!0),s[0],"while validating body","property already used"),this.isParameterKey(s)){if(!r)throw new exports.ValidationError("while validating body",null,"property '"+s[0].value+"' is invalid in a resource",s[0].start_mark)}else if(s[0].value.match(/^[^\/]+\/[^\/]+$/)){if(t&&"explicit"!==t)throw new exports.ValidationError("while validating body",null,"not compatible with implicit default Media Type",s[0].start_mark);
t="explicit",this.validate_body(s,r,"forcedImplicit",a)}else{switch(u=s[0].value,l=this.canonicalizePropertyName(u,r),d=!0,l){case"formParameters":if(t&&h.call(n,t)<0)throw new exports.ValidationError("while validating body",null,"not compatible with explicit Media Type",s[0].start_mark);null==t&&(t="implicit"),this.validate_form_params(s,r);break;default:d=!1}switch(u){case"example":if(t&&h.call(n,t)<0)throw new exports.ValidationError("while validating body",null,"not compatible with explicit Media Type",s[0].start_mark);if(null==t&&(t="implicit"),!o.isScalar(s[1]))throw new exports.ValidationError("while validating body",null,"example must be a string",s[0].start_mark);break;case"schema":if(t&&h.call(n,t)<0)throw new exports.ValidationError("while validating body",null,"not compatible with explicit Media Type",s[0].start_mark);if(null==t&&(t="implicit"),!o.isScalar(s[1]))throw new exports.ValidationError("while validating body",null,"schema must be a string",s[0].start_mark);this.validateSchema(s[1]);break;default:if(!d)throw new exports.ValidationError("while validating body",null,"property: '"+s[0].value+"' is invalid in a body",s[0].start_mark)}}if("formParameters"in i){if(p=i.formParameters.start_mark,a)throw new exports.ValidationError("while validating body",null,"formParameters cannot be used to describe response bodies",p);if("schema"in i||"example"in i)throw new exports.ValidationError("while validating body",null,"formParameters cannot be used together with the example or schema properties",p)}if("implicit"===t&&!this.get_media_type())throw new exports.ValidationError("while validating body",null,"body tries to use default Media Type, but mediaType is null",e[0].start_mark)}},e.prototype.validateSchema=function(e){var t,a,i,s;if(this.isXmlSchema(e.value))return void 0;if(this.isJsonSchema(e.value)){if(a=r(e.value),a.error)throw i=this.create_mark(e.start_mark.line+a.line,0),e.end_mark.line===i.line&&0===e.end_mark.column&&i.line--,new exports.ValidationError("while validating body",null,"schema is not valid JSON error: '"+a.error+"'",i);try{return s=JSON.parse(e.value)}catch(o){throw t=o,new exports.ValidationError("while validating body",null,"schema is not valid JSON error: '"+t+"'",e.start_mark)}}},e.prototype.isJsonSchema=function(e){return null!=e?e.match(/^\s*\{/):void 0},e.prototype.isXmlSchema=function(e){return null!=e?e.match(/^\s*(<\?xml[^>]+>)?[\s\n]*<xs:schema/):void 0},e.prototype.validate_common_properties=function(e,r,t){var a,i,s,l;if(this.isParameterKey(e)){if(!r)throw new exports.ValidationError("while validating resources",null,"property '"+e[0].value+"' is invalid in a resource",e[0].start_mark);return!0}switch(e[0].value){case"displayName":if("method"===t)return!1;if(!o.isScalar(e[1]))throw new exports.ValidationError("while validating resources",null,"property 'displayName' must be a string",e[0].start_mark);return!0;case"description":if(!o.isScalar(e[1]))throw new exports.ValidationError("while validating resources",null,"property 'description' must be a string",e[0].start_mark);return!0;case"is":if(!o.isSequence(e[1]))throw new exports.ValidationError("while validating resources",null,"property 'is' must be an array",e[0].start_mark);for(l=e[1].value,i=0,s=l.length;s>i;i++)a=l[i],this.validate_trait_use(a);return!0}return!1},e.prototype.validate_trait_use=function(e){var r,t,a,i,s,l,n;if(!o.isScalar(e)&&!o.isMapping(e))throw new exports.ValidationError("while validating trait consumption",null,"trait must be a string or a map",e.start_mark);if(t=this.key_or_value(e),!(null!=t?t.trim():void 0))throw new exports.ValidationError("while validating trait consumption",null,"trait name must be provided",e.start_mark);if(!this.isParameterKeyValue(t)&&!this.get_trait(t))throw new exports.ValidationError("while validating trait consumption",null,"there is no trait named "+t,e.start_mark);if(!o.isScalar(e)){if(a=e.value[0][1],!o.isNull(a)&&!o.isMapping(a))throw new exports.ValidationError("while validating trait consumption",null,"trait must be a map",a.start_mark);if(!o.isNull(a)){for(l=a.value,n=[],i=0,s=l.length;s>i;i++){if(r=l[i],!o.isScalar(r[1]))throw new exports.ValidationError("while validating trait consumption",null,"parameter value must be a scalar",r[1].start_mark);n.push(void 0)}return n}}},e.prototype.child_methods=function(e){var r=this;return e&&o.isMapping(e)?e.value.filter(function(e){return r.isHttpMethod(e[0].value)}):[]},e.prototype.has_property=function(e,r){return e&&o.isMapping(e)?e.value.some(function(e){return e[0].value&&"object"!=typeof e[0].value&&e[0].value===r}):!1},e.prototype.property_value=function(e,r){var t;return t=e.value.filter(function(e){return"object"!=typeof e[0].value&&e[0].value===r}),t.length?t[0][1].value:void 0},e.prototype.get_property=function(e,r){var t;return e&&o.isMapping(e)&&(t=e.value.filter(function(e){return o.isString(e[0])&&e[0].value===r}),t.length>0&&t[0].length>0)?t[0][1]:[]},e.prototype.get_properties=function(e,r){var t,a,i,s,l;if(a=[],e&&o.isMapping(e))for(l=e.value,i=0,s=l.length;s>i;i++)t=l[i],o.isString(t[0])&&t[0].value===r?a.push(t):a=a.concat(this.get_properties(t[1],r));return a},e.prototype.valid_absolute_uris=function(e){var r,t;if(t=this.get_absolute_uris(e),r=this.hasDuplicatesUris(t))throw new exports.ValidationError("while validating trait consumption",null,"two resources share same URI "+r.uri,r.mark)},e.prototype.get_absolute_uris=function(e,r){var t,a,i,s,l,n;if(i=[],!o.isNullableMapping(e))throw new exports.ValidationError("while validating resources",null,"resource is not a map",e.start_mark);for(a=this.child_resources(e),l=0,n=a.length;n>l;l++)t=a[l],s=null!=r?r+t[0].value:t[0].value,i.push({uri:s,mark:t[0].start_mark}),i=i.concat(this.get_absolute_uris(t[1],s));return i},e.prototype.key_or_value=function(e){var r,a,i,s;return e instanceof t.ScalarNode?e.value:e instanceof t.MappingNode&&(r=null!=e&&null!=(a=e.value)&&null!=(i=a[0])&&null!=(s=i[0])?s.value:void 0)?r:null},e.prototype.value_or_undefined=function(e){return e instanceof t.MappingNode?e.value:void 0},e.prototype.validate_base_uri=function(e){var r,t,a,o,l,n,u;if(r=null!=(n=e.value)?n.trim():void 0,!r)throw new exports.ValidationError("while validating baseUri",null,"baseUri must have a value",e.start_mark);if(o=(s.parse(r).protocol||"http:").slice(0,-1).toUpperCase(),"HTTP"!==o&&"HTTPS"!==o)throw new exports.ValidationError("while validating baseUri",null,"baseUri protocol must be either HTTP or HTTPS",e.start_mark);try{l=i.parse(r)}catch(p){throw t=p,new exports.ValidationError("while validating baseUri",null,null!=t&&null!=(u=t.options)?u.message:void 0,e.start_mark)}return a=l.expressions.filter(function(e){return"templateText"in e}).map(function(e){return e.templateText}),h.call(a,"version")>=0?!0:void 0},e.prototype.get_validation_errors=function(){return this.validation_errors},e.prototype.is_valid=function(){return 0===this.validation_errors.length},e.prototype.hasDuplicatesUris=function(e){var r,t,a,i;for(t={},a=0,i=e.length;i>a;a++){if(r=e[a],r.uri in t)return r;t[r.uri]=r}return!1},e.prototype.hasDuplicates=function(e){var r,t,a,i;for(t={},a=0,i=e.length;i>a;a++){if(r=e[a],r in t)return!0;t[r]=!0}return!1},e}()}).call(this);
},{"./errors":123,"./nodes":127,"./traits":138,"./util":140,"json-lint":143,"uritemplate":145,"url":69}],142:[function(_dereq_,module,exports){
!function(e,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?module.exports=i():e.inflection=i()}(this,function(){var e=["equipment","information","rice","money","species","series","fish","sheep","moose","deer","news"],i=[[new RegExp("(m)en$","gi")],[new RegExp("(pe)ople$","gi")],[new RegExp("(child)ren$","gi")],[new RegExp("([ti])a$","gi")],[new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi")],[new RegExp("(hive)s$","gi")],[new RegExp("(tive)s$","gi")],[new RegExp("(curve)s$","gi")],[new RegExp("([lr])ves$","gi")],[new RegExp("([^fo])ves$","gi")],[new RegExp("([^aeiouy]|qu)ies$","gi")],[new RegExp("(s)eries$","gi")],[new RegExp("(m)ovies$","gi")],[new RegExp("(x|ch|ss|sh)es$","gi")],[new RegExp("([m|l])ice$","gi")],[new RegExp("(bus)es$","gi")],[new RegExp("(o)es$","gi")],[new RegExp("(shoe)s$","gi")],[new RegExp("(cris|ax|test)es$","gi")],[new RegExp("(octop|vir)i$","gi")],[new RegExp("(alias|status)es$","gi")],[new RegExp("^(ox)en","gi")],[new RegExp("(vert|ind)ices$","gi")],[new RegExp("(matr)ices$","gi")],[new RegExp("(quiz)zes$","gi")],[new RegExp("(m)an$","gi"),"$1en"],[new RegExp("(pe)rson$","gi"),"$1ople"],[new RegExp("(child)$","gi"),"$1ren"],[new RegExp("^(ox)$","gi"),"$1en"],[new RegExp("(ax|test)is$","gi"),"$1es"],[new RegExp("(octop|vir)us$","gi"),"$1i"],[new RegExp("(alias|status)$","gi"),"$1es"],[new RegExp("(bu)s$","gi"),"$1ses"],[new RegExp("(buffal|tomat|potat)o$","gi"),"$1oes"],[new RegExp("([ti])um$","gi"),"$1a"],[new RegExp("sis$","gi"),"ses"],[new RegExp("(?:([^f])fe|([lr])f)$","gi"),"$1$2ves"],[new RegExp("(hive)$","gi"),"$1s"],[new RegExp("([^aeiouy]|qu)y$","gi"),"$1ies"],[new RegExp("(x|ch|ss|sh)$","gi"),"$1es"],[new RegExp("(matr|vert|ind)ix|ex$","gi"),"$1ices"],[new RegExp("([m|l])ouse$","gi"),"$1ice"],[new RegExp("(quiz)$","gi"),"$1zes"],[new RegExp("s$","gi"),"s"],[new RegExp("$","gi"),"s"]],n=[[new RegExp("(m)an$","gi")],[new RegExp("(pe)rson$","gi")],[new RegExp("(child)$","gi")],[new RegExp("^(ox)$","gi")],[new RegExp("(ax|test)is$","gi")],[new RegExp("(octop|vir)us$","gi")],[new RegExp("(alias|status)$","gi")],[new RegExp("(bu)s$","gi")],[new RegExp("(buffal|tomat|potat)o$","gi")],[new RegExp("([ti])um$","gi")],[new RegExp("sis$","gi")],[new RegExp("(?:([^f])fe|([lr])f)$","gi")],[new RegExp("(hive)$","gi")],[new RegExp("([^aeiouy]|qu)y$","gi")],[new RegExp("(x|ch|ss|sh)$","gi")],[new RegExp("(matr|vert|ind)ix|ex$","gi")],[new RegExp("([m|l])ouse$","gi")],[new RegExp("(quiz)$","gi")],[new RegExp("(m)en$","gi"),"$1an"],[new RegExp("(pe)ople$","gi"),"$1rson"],[new RegExp("(child)ren$","gi"),"$1"],[new RegExp("([ti])a$","gi"),"$1um"],[new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi"),"$1$2sis"],[new RegExp("(hive)s$","gi"),"$1"],[new RegExp("(tive)s$","gi"),"$1"],[new RegExp("(curve)s$","gi"),"$1"],[new RegExp("([lr])ves$","gi"),"$1f"],[new RegExp("([^fo])ves$","gi"),"$1fe"],[new RegExp("(m)ovies$","gi"),"$1ovie"],[new RegExp("([^aeiouy]|qu)ies$","gi"),"$1y"],[new RegExp("(s)eries$","gi"),"$1eries"],[new RegExp("(x|ch|ss|sh)es$","gi"),"$1"],[new RegExp("([m|l])ice$","gi"),"$1ouse"],[new RegExp("(bus)es$","gi"),"$1"],[new RegExp("(o)es$","gi"),"$1"],[new RegExp("(shoe)s$","gi"),"$1"],[new RegExp("(cris|ax|test)es$","gi"),"$1is"],[new RegExp("(octop|vir)i$","gi"),"$1us"],[new RegExp("(alias|status)es$","gi"),"$1"],[new RegExp("^(ox)en","gi"),"$1"],[new RegExp("(vert|ind)ices$","gi"),"$1ex"],[new RegExp("(matr)ices$","gi"),"$1ix"],[new RegExp("(quiz)zes$","gi"),"$1"],[new RegExp("ss$","gi"),"ss"],[new RegExp("s$","gi"),""]],g=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],s=new RegExp("(_ids|_id)$","g"),p=new RegExp("_","g"),r=new RegExp("[ _]","g"),t=new RegExp("([A-Z])","g"),o=new RegExp("^_"),$={_apply_rules:function(e,i,n,g){if(g)e=g;else{var s=$.indexOf(n,e.toLowerCase())>-1;if(!s)for(var p=0,r=i.length;r>p;p++)if(e.match(i[p][0])){void 0!==i[p][1]&&(e=e.replace(i[p][0],i[p][1]));break}}return e},indexOf:function(e,i,n,g){n||(n=-1);for(var s=-1,p=n,r=e.length;r>p;p++)if(e[p]===i||g&&g(e[p],i)){s=p;break}return s},pluralize:function(n,g){return $._apply_rules(n,i,e,g)},singularize:function(i,g){return $._apply_rules(i,n,e,g)},camelize:function(e,i){for(var n,g,s,p,r=e.split("/"),t=0,o=r.length;o>t;t++){for(n=r[t].split("_"),g=0,s=n.length;s>g;g++)0!==g&&(n[g]=n[g].toLowerCase()),p=n[g].charAt(0),p=i&&0===t&&0===g?p.toLowerCase():p.toUpperCase(),n[g]=p+n[g].substring(1);r[t]=n.join("")}return r.join("::")},underscore:function(e,i){if(i&&e===e.toUpperCase())return e;for(var n=e.split("::"),g=0,s=n.length;s>g;g++)n[g]=n[g].replace(t,"_$1"),n[g]=n[g].replace(o,"");return n.join("/").toLowerCase()},humanize:function(e,i){return e=e.toLowerCase(),e=e.replace(s,""),e=e.replace(p," "),i||(e=$.capitalize(e)),e},capitalize:function(e){return e=e.toLowerCase(),e.substring(0,1).toUpperCase()+e.substring(1)},dasherize:function(e){return e.replace(r,"-")},titleize:function(e){e=e.toLowerCase().replace(p," ");for(var i,n,s,r=e.split(" "),t=0,o=r.length;o>t;t++){for(i=r[t].split("-"),n=0,s=i.length;s>n;n++)$.indexOf(g,i[n].toLowerCase())<0&&(i[n]=$.capitalize(i[n]));r[t]=i.join("-")}return e=r.join(" "),e=e.substring(0,1).toUpperCase()+e.substring(1)},demodulize:function(e){var i=e.split("::");return i[i.length-1]},tableize:function(e){return e=$.underscore(e),e=$.pluralize(e)},classify:function(e){return e=$.camelize(e),e=$.singularize(e)},foreign_key:function(e,i){return e=$.demodulize(e),e=$.underscore(e)+(i?"":"_")+"id"},ordinalize:function(e){for(var i=e.split(" "),n=0,g=i.length;g>n;n++){var s=parseInt(i[n],10);if(!isNaN(s)){var p=i[n].substring(i[n].length-2),r=i[n].substring(i[n].length-1),t="th";"11"!=p&&"12"!=p&&"13"!=p&&("1"===r?t="st":"2"===r?t="nd":"3"===r&&(t="rd")),i[n]+=t}}return i.join(" ")},transform:function(e,i){for(var n=0,g=i.length;g>n;n++){var s=i[n];this.hasOwnProperty(s)&&(e=this[s](e))}return e}};return $.version="1.3.8",$});
},{}],143:[function(_dereq_,module,exports){
!function(e){function n(e,c){var r=this;if(!(r instanceof n))return new n(e,c);r.json=e||"",r.options=c||{},r.lower=r.json.toLowerCase(),r.options.hasOwnProperty("comments")||(r.options.comments=!0),r.c="",r.i=-1,r.length=r.json.length,r.line=1,r.character=0,r._evidence=r.json.split(t),r.endblock="",r.commabreak=!1;try{r.render()}catch(i){if("string"!=typeof i)throw i;r.error=i,r.setEvidence()}}var c=/[0-9]/,r=/(\r\n|\r|\n)/,t=/\r\n|\r|\n/,i=/(\s|\t)/,o=/\\("|\\|\/|b|f|n|r|t|u[0-9]{4})/,a=/^(\-|\+)?[0-9]/;n.contact="Corey Hart (corey@codenothing.com)",n.version="[VERSION]",n.date="[DATE]",n.prototype={render:function(){for(var e=this,n="",c=!1;++e.i<e.length;)if(e.c=e.json[e.i],e.character++,e.options.comments&&"/"==e.c)if(n=e.json[e.i+1],"*"==n)e.multicomment();else{if("/"!=n)throw"Unknown character '/', maybe a comment?";e.comment()}else if(r.exec(e.c))e.line++,e.character=0;else{if(i.exec(e.c))continue;if(c)throw"Unknown character '"+e.c+"', expecting end of file.";if("["==e.c)c=!0,e.array();else{if("{"!=e.c)throw"Unknown character '"+e.c+"', expecting opening block '{' or '[', or maybe a comment";c=!0,e.object()}}if(!c)throw"Invalid JSON, no content."},multicomment:function(){for(var e=this;++e.i<e.length;){if(e.c=e.json[e.i],e.character++,"*"==e.c&&"/"==e.json[e.i+1]){e.i++,e.character++;break}r.exec(e.c)&&(e.line++,e.character=0)}},comment:function(){for(var e=this;++e.i<e.length;)if(e.c=e.json[e.i],e.character++,r.exec(e.c)){e.line++,e.character=0;break}},array:function(){var e=this,n=e.endblock,c=e.commabreak,r=!1;for(e.endblock="]",e.commabreak=!1;(r=e.value())!==!0&&e.i<e.length;);if(!r)throw"EOF Error. Expecting closing ']'";e.endblock=n,e.commabreak=c},object:function(){var e=this,n=e.endblock,c=e.commabreak,t=!1,o="",a=!0;for(e.endblock="}",e.commabreak=!1;++e.i<e.length;)if(e.c=e.json[e.i],e.character++,e.options.comments&&"/"==e.c)if(o=e.json[e.i+1],"*"==o)e.multicomment();else{if("/"!=o)throw"Unknown character '/', maybe a comment?";e.comment()}else if(r.exec(e.c))e.line++,e.character=0;else{if(i.exec(e.c))continue;if('"'!=e.c){if(a&&"}"==e.c){e.endblock=n,e.commabreak=c,t=!0;break}throw"Unknown Character '"+e.c+"', expecting a string for key statement."}if(a=!1,e.key()===!0){e.endblock=n,e.commabreak=c,t=!0;break}}if(!t)throw"EOF Error, expecting closing '}'."},key:function(){var e=this;e.string();for(var n="";++e.i<e.length;)if(e.c=e.json[e.i],e.character++,e.options.comments&&"/"==e.c)if(n=e.json[e.i+1],"*"==n)e.multicomment();else{if("/"!=n)throw"Unknown character '/', maybe a comment?";e.comment()}else{if(!r.exec(e.c)){if(i.exec(e.c))continue;if(":"==e.c)return e.value();throw"Unknown Character '"+e.c+"', expecting a semicolon."}e.line++,e.character=0}},value:function(){for(var e=this,n="";++e.i<e.length;)if(e.c=e.json[e.i],e.character++,e.options.comments&&"/"==e.c)if(n=e.json[e.i+1],"*"==n)e.multicomment();else{if("/"!=n)throw"Unknown character '/', maybe a comment?";e.comment()}else{if(!r.exec(e.c)){if(i.exec(e.c))continue;if("{"==e.c)return e.object(),e.endval();if("["==e.c)return e.array(),e.endval();if('"'==e.c)return e.string(),e.endval();if(e.json.indexOf("true",e.i)===e.i)return e.i+=3,e.character+=3,e.endval();if(e.json.indexOf("false",e.i)===e.i)return e.i+=4,e.character+=4,e.endval();if(e.json.indexOf("null",e.i)===e.i)return e.i+=3,e.character+=3,e.endval();if("-"==e.c||c.exec(e.c))return e.numeric();if("]"==e.c&&"]"==e.endblock){if(e.commabreak)throw"Unexpected End Of Array Error. Expecting a value statement.";return!0}throw"Unknown Character '"+e.c+"', expecting a value."}e.line++,e.character=0}},string:function(){for(var e,n=this,c=!1;++n.i<n.length;)if(n.c=n.json[n.i],n.character++,"\\"==n.c){if(!(e=o.exec(n.json.substr(n.i)))||0!==e.index)throw"Invalid Reverse Solidus '\\' declaration.";n.i+=e[1].length,n.character+=e[1].length}else if(r.exec(n.c))n.line++,n.character=0;else if('"'==n.c){c=!0;break}if(!c)throw"EOF: No close string '\"' found."},numeric:function(){var e=this,n=!0,r=null,t=null;for(e.i--,e.character--;++e.i<e.length;)if(e.c=e.json[e.i],e.character++,n&&(n=!1,"-"==e.c)){if(!c.exec(e.json[e.i+1]))throw"Unknown Character '"+e.c+"' following a negative, expecting a numeric value."}else if(r&&"."==e.c)r=!1,t=!0;else if(t&&"e"==e.c.toLowerCase()){if(t=!1,n=!0,!a.exec(e.json.substr(e.i+1,2)))throw e.character++,"Unknown Character '"+e.json[e.i+1]+"' following e notation, expecting a numeric value.";e.character++,e.i++}else{if(!c.exec(e.c))return e.i--,e.character--,e.endval();null===r&&(r=!0)}},endval:function(){var e=this,n="";for(e.commabreak=!1;++e.i<e.length;)if(e.c=e.json[e.i],e.character++,e.options.comments&&"/"==e.c)if(n=e.json[e.i+1],"*"==n)e.multicomment();else{if("/"!=n)throw"Unknown character '/', maybe a comment?";e.comment()}else{if(!r.exec(e.c)){if(i.exec(e.c))continue;if(","==e.c){e.commabreak=!0;break}if(e.c==e.endblock)return!0;throw"Unknown Character '"+e.c+"', expecting a comma or a closing '"+e.endblock+"'"}e.line++,e.character=0}},setEvidence:function(){var e=this,n=e.line-5,c=n+8,r="";for(0>n&&(n=0,c=8),c>=e._evidence.length&&(c=e._evidence.length);c>n;n++)r+=(n===e.line-1?"-> ":"   ")+(n+1)+"| "+e._evidence[n]+"\n";e.evidence=r}},"object"==typeof exports&&"object"==typeof module?module.exports=n:e.JSONLint=n}(this);
},{}],144:[function(_dereq_,module,exports){
(function(t){!function(t){if("function"==typeof bootstrap)bootstrap("promise",t);else if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=t}else Q=t()}(function(){"use strict";function n(t){return function(){return W.apply(t,arguments)}}function e(t){return t===Object(t)}function r(t){return"[object StopIteration]"===on(t)||t instanceof G}function o(t,n){if(q&&n.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(cn)){for(var e=[],r=n;r;r=r.source)r.stack&&e.unshift(r.stack);e.unshift(t.stack);var o=e.join("\n"+cn+"\n");t.stack=i(o)}}function i(t){for(var n=t.split("\n"),e=[],r=0;r<n.length;++r){var o=n[r];s(o)||u(o)||!o||e.push(o)}return e.join("\n")}function u(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function c(t){var n=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(n)return[n[1],Number(n[2])];var e=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(e)return[e[1],Number(e[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function s(t){var n=c(t);if(!n)return!1;var e=n[0],r=n[1];return e===z&&r>=H&&ln>=r}function f(){if(q)try{throw new Error}catch(t){var n=t.stack.split("\n"),e=n[0].indexOf("@")>0?n[1]:n[2],r=c(e);if(!r)return;return z=r[0],r[1]}}function p(t,n,e){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(n+" is deprecated, use "+e+" instead.",new Error("").stack),t.apply(t,arguments)}}function a(t){return g(t)?t:w(t)?E(t):D(t)}function l(){function t(t){n=t,i.source=t,Y(e,function(n,e){K(function(){t.promiseDispatch.apply(t,e)})},void 0),e=void 0,r=void 0}var n,e=[],r=[],o=nn(l.prototype),i=nn(y.prototype);if(i.promiseDispatch=function(t,o,i){var u=X(arguments);e?(e.push(u),"when"===o&&i[1]&&r.push(i[1])):K(function(){n.promiseDispatch.apply(n,u)})},i.valueOf=p(function(){if(e)return i;var t=m(n);return g(t)&&(n=t),t},"valueOf","inspect"),i.inspect=function(){return n?n.inspect():{state:"pending"}},a.longStackSupport&&q)try{throw new Error}catch(u){i.stack=u.stack.substring(u.stack.indexOf("\n")+1)}return o.promise=i,o.resolve=function(e){n||t(a(e))},o.fulfill=function(e){n||t(D(e))},o.reject=function(e){n||t(S(e))},o.notify=function(t){n||Y(r,function(n,e){K(function(){e(t)})},void 0)},o}function d(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var n=l();try{t(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}return n.promise}function h(t){return d(function(n,e){for(var r=0,o=t.length;o>r;r++)a(t[r]).then(n,e)})}function y(t,n,e){void 0===n&&(n=function(t){return S(new Error("Promise does not support operation: "+t))}),void 0===e&&(e=function(){return{state:"unknown"}});var r=nn(y.prototype);if(r.promiseDispatch=function(e,o,i){var u;try{u=t[o]?t[o].apply(r,i):n.call(r,o,i)}catch(c){u=S(c)}e&&e(u)},r.inspect=e,e){var o=e();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=p(function(){var t=e();return"pending"===t.state||"rejected"===t.state?r:t.value})}return r}function v(t,n,e,r){return a(t).then(n,e,r)}function m(t){if(g(t)){var n=t.inspect();if("fulfilled"===n.state)return n.value}return t}function g(t){return e(t)&&"function"==typeof t.promiseDispatch&&"function"==typeof t.inspect}function w(t){return e(t)&&"function"==typeof t.then}function j(t){return g(t)&&"pending"===t.inspect().state}function k(t){return!g(t)||"fulfilled"===t.inspect().state}function b(t){return g(t)&&"rejected"===t.inspect().state}function x(){pn||"undefined"==typeof window||window.Touch||!window.console||console.warn("[Q] Unhandled rejection reasons (should be empty):",sn),pn=!0}function R(){for(var t=0;t<sn.length;t++){var n=sn[t];console.warn("Unhandled rejection reason:",n)}}function T(){sn.length=0,fn.length=0,pn=!1,an||(an=!0,"undefined"!=typeof t&&t.on&&t.on("exit",R))}function O(t,n){an&&(fn.push(t),sn.push(n&&"undefined"!=typeof n.stack?n.stack:"(no stack) "+n),x())}function N(t){if(an){var n=Z(fn,t);-1!==n&&(fn.splice(n,1),sn.splice(n,1))}}function S(t){var n=y({when:function(n){return n&&N(this),n?n(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return O(n,t),n}function D(t){return y({when:function(){return t},get:function(n){return t[n]},set:function(n,e){t[n]=e},"delete":function(n){delete t[n]},post:function(n,e){return null===n||void 0===n?t.apply(void 0,e):t[n].apply(t,e)},apply:function(n,e){return t.apply(n,e)},keys:function(){return rn(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function E(t){var n=l();return K(function(){try{t.then(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}}),n.promise}function P(t){return y({isDef:function(){}},function(n,e){return M(t,n,e)},function(){return a(t).inspect()})}function A(t,n,e){return a(t).spread(n,e)}function C(t){return function(){function n(t,n){var u;if(un){try{u=e[t](n)}catch(c){return S(c)}return u.done?u.value:v(u.value,o,i)}try{u=e[t](n)}catch(c){return r(c)?c.value:S(c)}return v(u,o,i)}var e=t.apply(this,arguments),o=n.bind(n,"next"),i=n.bind(n,"throw");return o()}}function F(t){a.done(a.async(t)())}function U(t){throw new G(t)}function I(t){return function(){return A([this,Q(arguments)],function(n,e){return t.apply(n,e)})}}function M(t,n,e){return a(t).dispatch(n,e)}function Q(t){return v(t,function(t){var n=0,e=l();return Y(t,function(r,o,i){var u;g(o)&&"fulfilled"===(u=o.inspect()).state?t[i]=u.value:(++n,v(o,function(r){t[i]=r,0===--n&&e.resolve(t)},e.reject,function(t){e.notify({index:i,value:t})}))},void 0),0===n&&e.resolve(t),e.promise})}function $(t){return v(t,function(t){return t=tn(t,a),v(Q(tn(t,function(t){return v(t,J,J)})),function(){return t})})}function _(t){return a(t).allSettled()}function B(t,n){return a(t).then(void 0,void 0,n)}function V(t,n){return a(t).nodeify(n)}var q=!1;try{throw new Error}catch(L){q=!!L.stack}var z,G,H=f(),J=function(){},K=function(){function n(){for(;e.next;){e=e.next;var t=e.task;e.task=void 0;var r=e.domain;r&&(e.domain=void 0,r.enter());try{t()}catch(i){if(u)throw r&&r.exit(),setTimeout(n,0),r&&r.enter(),i;setTimeout(function(){throw i},0)}r&&r.exit()}o=!1}var e={task:void 0,next:null},r=e,o=!1,i=void 0,u=!1;if(K=function(n){r=r.next={task:n,domain:u&&t.domain,next:null},o||(o=!0,i())},"undefined"!=typeof t&&t.nextTick)u=!0,i=function(){t.nextTick(n)};else if("function"==typeof setImmediate)i="undefined"!=typeof window?setImmediate.bind(window,n):function(){setImmediate(n)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=function(){i=s,c.port1.onmessage=n,n()};var s=function(){c.port2.postMessage(0)};i=function(){setTimeout(n,0),s()}}else i=function(){setTimeout(n,0)};return K}(),W=Function.call,X=n(Array.prototype.slice),Y=n(Array.prototype.reduce||function(t,n){var e=0,r=this.length;if(1===arguments.length)for(;;){if(e in this){n=this[e++];break}if(++e>=r)throw new TypeError}for(;r>e;e++)e in this&&(n=t(n,this[e],e));return n}),Z=n(Array.prototype.indexOf||function(t){for(var n=0;n<this.length;n++)if(this[n]===t)return n;return-1}),tn=n(Array.prototype.map||function(t,n){var e=this,r=[];return Y(e,function(o,i,u){r.push(t.call(n,i,u,e))},void 0),r}),nn=Object.create||function(t){function n(){}return n.prototype=t,new n},en=n(Object.prototype.hasOwnProperty),rn=Object.keys||function(t){var n=[];for(var e in t)en(t,e)&&n.push(e);return n},on=n(Object.prototype.toString);G="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var un;try{new Function("(function* (){ yield 1; })"),un=!0}catch(L){un=!1}var cn="From previous event:";a.resolve=a,a.nextTick=K,a.longStackSupport=!1,a.defer=l,l.prototype.makeNodeResolver=function(){var t=this;return function(n,e){n?t.reject(n):t.resolve(arguments.length>2?X(arguments,1):e)}},a.promise=d,a.passByCopy=function(t){return t},y.prototype.passByCopy=function(){return this},a.join=function(t,n){return a(t).join(n)},y.prototype.join=function(t){return a([this,t]).spread(function(t,n){if(t===n)return t;throw new Error("Can't join: not the same: "+t+" "+n)})},a.race=h,y.prototype.race=function(){return this.then(a.race)},a.makePromise=y,y.prototype.toString=function(){return"[object Promise]"},y.prototype.then=function(t,n,e){function r(n){try{return"function"==typeof t?t(n):n}catch(e){return S(e)}}function i(t){if("function"==typeof n){o(t,c);try{return n(t)}catch(e){return S(e)}}return S(t)}function u(t){return"function"==typeof e?e(t):t}var c=this,s=l(),f=!1;return K(function(){c.promiseDispatch(function(t){f||(f=!0,s.resolve(r(t)))},"when",[function(t){f||(f=!0,s.resolve(i(t)))}])}),c.promiseDispatch(void 0,"when",[void 0,function(t){var n,e=!1;try{n=u(t)}catch(r){if(e=!0,!a.onerror)throw r;a.onerror(r)}e||s.notify(n)}]),s.promise},a.when=v,y.prototype.thenResolve=function(t){return this.then(function(){return t})},a.thenResolve=function(t,n){return a(t).thenResolve(n)},y.prototype.thenReject=function(t){return this.then(function(){throw t})},a.thenReject=function(t,n){return a(t).thenReject(n)},a.nearer=m,a.isPromise=g,a.isPromiseAlike=w,a.isPending=j,y.prototype.isPending=function(){return"pending"===this.inspect().state},a.isFulfilled=k,y.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},a.isRejected=b,y.prototype.isRejected=function(){return"rejected"===this.inspect().state};var sn=[],fn=[],pn=!1,an=!0;a.resetUnhandledRejections=T,a.getUnhandledReasons=function(){return sn.slice()},a.stopUnhandledRejectionTracking=function(){T(),"undefined"!=typeof t&&t.on&&t.removeListener("exit",R),an=!1},T(),a.reject=S,a.fulfill=D,a.master=P,a.spread=A,y.prototype.spread=function(t,n){return this.all().then(function(n){return t.apply(void 0,n)},n)},a.async=C,a.spawn=F,a["return"]=U,a.promised=I,a.dispatch=M,y.prototype.dispatch=function(t,n){var e=this,r=l();return K(function(){e.promiseDispatch(r.resolve,t,n)}),r.promise},a.get=function(t,n){return a(t).dispatch("get",[n])},y.prototype.get=function(t){return this.dispatch("get",[t])},a.set=function(t,n,e){return a(t).dispatch("set",[n,e])},y.prototype.set=function(t,n){return this.dispatch("set",[t,n])},a.del=a["delete"]=function(t,n){return a(t).dispatch("delete",[n])},y.prototype.del=y.prototype["delete"]=function(t){return this.dispatch("delete",[t])},a.mapply=a.post=function(t,n,e){return a(t).dispatch("post",[n,e])},y.prototype.mapply=y.prototype.post=function(t,n){return this.dispatch("post",[t,n])},a.send=a.mcall=a.invoke=function(t,n){return a(t).dispatch("post",[n,X(arguments,2)])},y.prototype.send=y.prototype.mcall=y.prototype.invoke=function(t){return this.dispatch("post",[t,X(arguments,1)])},a.fapply=function(t,n){return a(t).dispatch("apply",[void 0,n])},y.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},a["try"]=a.fcall=function(t){return a(t).dispatch("apply",[void 0,X(arguments,1)])},y.prototype.fcall=function(){return this.dispatch("apply",[void 0,X(arguments)])},a.fbind=function(t){var n=a(t),e=X(arguments,1);return function(){return n.dispatch("apply",[this,e.concat(X(arguments))])}},y.prototype.fbind=function(){var t=this,n=X(arguments);return function(){return t.dispatch("apply",[this,n.concat(X(arguments))])}},a.keys=function(t){return a(t).dispatch("keys",[])},y.prototype.keys=function(){return this.dispatch("keys",[])},a.all=Q,y.prototype.all=function(){return Q(this)},a.allResolved=p($,"allResolved","allSettled"),y.prototype.allResolved=function(){return $(this)},a.allSettled=_,y.prototype.allSettled=function(){return this.then(function(t){return Q(tn(t,function(t){function n(){return t.inspect()}return t=a(t),t.then(n,n)}))})},a.fail=a["catch"]=function(t,n){return a(t).then(void 0,n)},y.prototype.fail=y.prototype["catch"]=function(t){return this.then(void 0,t)},a.progress=B,y.prototype.progress=function(t){return this.then(void 0,void 0,t)},a.fin=a["finally"]=function(t,n){return a(t)["finally"](n)},y.prototype.fin=y.prototype["finally"]=function(t){return t=a(t),this.then(function(n){return t.fcall().then(function(){return n})},function(n){return t.fcall().then(function(){throw n})})},a.done=function(t,n,e,r){return a(t).done(n,e,r)},y.prototype.done=function(n,e,r){var i=function(t){K(function(){if(o(t,u),!a.onerror)throw t;a.onerror(t)})},u=n||e||r?this.then(n,e,r):this;"object"==typeof t&&t&&t.domain&&(i=t.domain.bind(i)),u.then(void 0,i)},a.timeout=function(t,n,e){return a(t).timeout(n,e)},y.prototype.timeout=function(t,n){var e=l(),r=setTimeout(function(){e.reject(new Error(n||"Timed out after "+t+" ms"))},t);return this.then(function(t){clearTimeout(r),e.resolve(t)},function(t){clearTimeout(r),e.reject(t)},e.notify),e.promise},a.delay=function(t,n){return void 0===n&&(n=t,t=void 0),a(t).delay(n)},y.prototype.delay=function(t){return this.then(function(n){var e=l();return setTimeout(function(){e.resolve(n)},t),e.promise})},a.nfapply=function(t,n){return a(t).nfapply(n)},y.prototype.nfapply=function(t){var n=l(),e=X(t);return e.push(n.makeNodeResolver()),this.fapply(e).fail(n.reject),n.promise},a.nfcall=function(t){var n=X(arguments,1);return a(t).nfapply(n)},y.prototype.nfcall=function(){var t=X(arguments),n=l();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},a.nfbind=a.denodeify=function(t){var n=X(arguments,1);return function(){var e=n.concat(X(arguments)),r=l();return e.push(r.makeNodeResolver()),a(t).fapply(e).fail(r.reject),r.promise}},y.prototype.nfbind=y.prototype.denodeify=function(){var t=X(arguments);return t.unshift(this),a.denodeify.apply(void 0,t)},a.nbind=function(t,n){var e=X(arguments,2);return function(){function r(){return t.apply(n,arguments)}var o=e.concat(X(arguments)),i=l();return o.push(i.makeNodeResolver()),a(r).fapply(o).fail(i.reject),i.promise}},y.prototype.nbind=function(){var t=X(arguments,0);return t.unshift(this),a.nbind.apply(void 0,t)},a.nmapply=a.npost=function(t,n,e){return a(t).npost(n,e)},y.prototype.nmapply=y.prototype.npost=function(t,n){var e=X(n||[]),r=l();return e.push(r.makeNodeResolver()),this.dispatch("post",[t,e]).fail(r.reject),r.promise},a.nsend=a.nmcall=a.ninvoke=function(t,n){var e=X(arguments,2),r=l();return e.push(r.makeNodeResolver()),a(t).dispatch("post",[n,e]).fail(r.reject),r.promise},y.prototype.nsend=y.prototype.nmcall=y.prototype.ninvoke=function(t){var n=X(arguments,1),e=l();return n.push(e.makeNodeResolver()),this.dispatch("post",[t,n]).fail(e.reject),e.promise},a.nodeify=V,y.prototype.nodeify=function(t){return t?void this.then(function(n){K(function(){t(null,n)})},function(n){K(function(){t(n)})}):this};var ln=f();return a})}).call(this,_dereq_("/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"));
},{"/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":56}],145:[function(_dereq_,module,exports){
(function(e){!function(e){"use strict";function t(e){var n;if(null===e||void 0===e)return!1;if(r.isArray(e))return e.length>0;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return!0;for(n in e)if(e.hasOwnProperty(n)&&t(e[n]))return!0;return!1}var n=function(){function e(e){this.options=e}return e.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},e}(),r=function(){function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return"[object String]"===Object.prototype.toString.apply(e)}function n(e){return"[object Number]"===Object.prototype.toString.apply(e)}function r(e){return"[object Boolean]"===Object.prototype.toString.apply(e)}function i(e,t){var n,r="",i=!0;for(n=0;n<e.length;n+=1)i?i=!1:r+=t,r+=e[n];return r}function o(e,t){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}function s(e,t){for(var n=[],r=0;r<e.length;r+=1)t(e[r])&&n.push(e[r]);return n}function a(e){if("object"!=typeof e||null===e)return e;Object.freeze(e);var t,n;for(n in e)e.hasOwnProperty(n)&&(t=e[n],"object"==typeof t&&u(t));return e}function u(e){return"function"==typeof Object.freeze?a(e):e}return{isArray:e,isString:t,isNumber:n,isBoolean:r,join:i,map:o,filter:s,deepFreeze:u}}(),i=function(){function e(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e}function t(e){return e>="0"&&"9">=e}function n(e){return t(e)||e>="a"&&"f">=e||e>="A"&&"F">=e}return{isAlpha:e,isDigit:t,isHexDigit:n}}(),o=function(){function e(e){var t,n,r="",i=s.encode(e);for(n=0;n<i.length;n+=1)t=i.charCodeAt(n),r+="%"+(16>t?"0":"")+t.toString(16).toUpperCase();return r}function t(e,t){return"%"===e.charAt(t)&&i.isHexDigit(e.charAt(t+1))&&i.isHexDigit(e.charAt(t+2))}function n(e,t){return parseInt(e.substr(t,2),16)}function r(e){if(!t(e,0))return!1;var r=n(e,1),i=s.numBytes(r);if(0===i)return!1;for(var o=1;i>o;o+=1)if(!t(e,3*o)||!s.isValidFollowingCharCode(n(e,3*o+1)))return!1;return!0}function o(e,r){var i=e.charAt(r);if(!t(e,r))return i;var o=n(e,r+1),a=s.numBytes(o);if(0===a)return i;for(var u=1;a>u;u+=1)if(!t(e,r+3*u)||!s.isValidFollowingCharCode(n(e,r+3*u+1)))return i;return e.substr(r,3*a)}var s={encode:function(e){return unescape(encodeURIComponent(e))},numBytes:function(e){return 127>=e?1:e>=194&&223>=e?2:e>=224&&239>=e?3:e>=240&&244>=e?4:0},isValidFollowingCharCode:function(e){return e>=128&&191>=e}};return{encodeCharacter:e,isPctEncoded:r,pctCharAt:o}}(),s=function(){function e(e){return i.isAlpha(e)||i.isDigit(e)||"_"===e||o.isPctEncoded(e)}function t(e){return i.isAlpha(e)||i.isDigit(e)||"-"===e||"."===e||"_"===e||"~"===e}function n(e){return":"===e||"/"===e||"?"===e||"#"===e||"["===e||"]"===e||"@"===e||"!"===e||"$"===e||"&"===e||"("===e||")"===e||"*"===e||"+"===e||","===e||";"===e||"="===e||"'"===e}return{isVarchar:e,isUnreserved:t,isReserved:n}}(),a=function(){function e(e,t){var n,r="",i="";for(("number"==typeof e||"boolean"==typeof e)&&(e=e.toString()),n=0;n<e.length;n+=i.length)i=e.charAt(n),r+=s.isUnreserved(i)||t&&s.isReserved(i)?i:o.encodeCharacter(i);return r}function t(t){return e(t,!0)}function n(e,t){var n=o.pctCharAt(e,t);return n.length>1?n:s.isReserved(n)||s.isUnreserved(n)?n:o.encodeCharacter(n)}function r(e){var t,n="",r="";for(t=0;t<e.length;t+=r.length)r=o.pctCharAt(e,t),n+=r.length>1?r:s.isReserved(r)||s.isUnreserved(r)?r:o.encodeCharacter(r);return n}return{encode:e,encodePassReserved:t,encodeLiteral:r,encodeLiteralCharacter:n}}(),u=function(){function e(e){t[e]={symbol:e,separator:"?"===e?"&":""===e||"+"===e||"#"===e?",":e,named:";"===e||"&"===e||"?"===e,ifEmpty:"&"===e||"?"===e?"=":"",first:"+"===e?"":e,encode:"+"===e||"#"===e?a.encodePassReserved:a.encode,toString:function(){return this.symbol}}}var t={};return e(""),e("+"),e("#"),e("."),e("/"),e(";"),e("?"),e("&"),{valueOf:function(e){return t[e]?t[e]:"=,!@|".indexOf(e)>=0?null:t[""]}}}(),f=function(){function e(e){this.literal=a.encodeLiteral(e)}return e.prototype.expand=function(){return this.literal},e.prototype.toString=e.prototype.expand,e}(),p=function(){function e(e){function t(){var t=e.substring(h,f);if(0===t.length)throw new n({expressionText:e,message:"a varname must be specified",position:f});c={varname:t,exploded:!1,maxLength:null},h=null}function r(){if(d===f)throw new n({expressionText:e,message:"after a ':' you have to specify the length",position:f});c.maxLength=parseInt(e.substring(d,f),10),d=null}var a,f,p=[],c=null,h=null,d=null,m="";for(a=function(t){var r=u.valueOf(t);if(null===r)throw new n({expressionText:e,message:"illegal use of reserved operator",position:f,operator:t});return r}(e.charAt(0)),f=a.symbol.length,h=f;f<e.length;f+=m.length){if(m=o.pctCharAt(e,f),null!==h){if("."===m){if(h===f)throw new n({expressionText:e,message:"a varname MUST NOT start with a dot",position:f});continue}if(s.isVarchar(m))continue;t()}if(null!==d){if(f===d&&"0"===m)throw new n({expressionText:e,message:"A :prefix must not start with digit 0",position:f});if(i.isDigit(m)){if(f-d>=4)throw new n({expressionText:e,message:"A :prefix must have max 4 digits",position:f});continue}r()}if(":"!==m)if("*"!==m){if(","!==m)throw new n({expressionText:e,message:"illegal character",character:m,position:f});p.push(c),c=null,h=f+1}else{if(null===c)throw new n({expressionText:e,message:"exploded without varspec",position:f});if(c.exploded)throw new n({expressionText:e,message:"exploded twice",position:f});if(c.maxLength)throw new n({expressionText:e,message:"an explode (*) MUST NOT follow to a prefix",position:f});c.exploded=!0}else{if(null!==c.maxLength)throw new n({expressionText:e,message:"only one :maxLength is allowed per varspec",position:f});if(c.exploded)throw new n({expressionText:e,message:"an exploeded varspec MUST NOT be varspeced",position:f});d=f+1}}return null!==h&&t(),null!==d&&r(),p.push(c),new l(e,a,p)}function t(t){var r,i,o=[],s=null,a=0;for(r=0;r<t.length;r+=1)if(i=t.charAt(r),null===a){if(null===s)throw new Error("reached unreachable code");if("{"===i)throw new n({templateText:t,message:"brace already opened",position:r});if("}"===i){if(s+1===r)throw new n({templateText:t,message:"empty braces",position:s});try{o.push(e(t.substring(s+1,r)))}catch(u){if(u.prototype===n.prototype)throw new n({templateText:t,message:u.options.message,position:s+u.options.position,details:u.options});throw u}s=null,a=r+1}}else{if("}"===i)throw new n({templateText:t,message:"unopened brace closed",position:r});"{"===i&&(r>a&&o.push(new f(t.substring(a,r))),a=null,s=r)}if(null!==s)throw new n({templateText:t,message:"unclosed brace",position:s});return a<t.length&&o.push(new f(t.substr(a))),new c(t,o)}return t}(),l=function(){function e(e){return JSON&&JSON.stringify?JSON.stringify(e):e}function n(e){if(!t(e))return!0;if(r.isString(e))return""===e;if(r.isNumber(e)||r.isBoolean(e))return!1;if(r.isArray(e))return 0===e.length;for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}function i(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push({name:t,value:e[t]});return n}function o(e,t,n){this.templateText=e,this.operator=t,this.varspecs=n}function s(e,t,n){var r="";if(n=n.toString(),t.named){if(r+=a.encodeLiteral(e.varname),""===n)return r+=t.ifEmpty;r+="="}return null!==e.maxLength&&(n=n.substr(0,e.maxLength)),r+=t.encode(n)}function u(e){return t(e.value)}function f(e,o,s){var f=[],p="";if(o.named){if(p+=a.encodeLiteral(e.varname),n(s))return p+=o.ifEmpty;p+="="}return r.isArray(s)?(f=s,f=r.filter(f,t),f=r.map(f,o.encode),p+=r.join(f,",")):(f=i(s),f=r.filter(f,u),f=r.map(f,function(e){return o.encode(e.name)+","+o.encode(e.value)}),p+=r.join(f,",")),p}function p(e,o,s){var f=r.isArray(s),p=[];return f?(p=s,p=r.filter(p,t),p=r.map(p,function(t){var r=a.encodeLiteral(e.varname);return r+=n(t)?o.ifEmpty:"="+o.encode(t)})):(p=i(s),p=r.filter(p,u),p=r.map(p,function(e){var t=a.encodeLiteral(e.name);return t+=n(e.value)?o.ifEmpty:"="+o.encode(e.value)})),r.join(p,o.separator)}function l(e,n){var o=[],s="";return r.isArray(n)?(o=n,o=r.filter(o,t),o=r.map(o,e.encode),s+=r.join(o,e.separator)):(o=i(n),o=r.filter(o,function(e){return t(e.value)}),o=r.map(o,function(t){return e.encode(t.name)+"="+e.encode(t.value)}),s+=r.join(o,e.separator)),s}return o.prototype.toString=function(){return this.templateText},o.prototype.expand=function(i){var o,a,u,c,h=[],d=!1,m=this.operator;for(o=0;o<this.varspecs.length;o+=1)if(a=this.varspecs[o],u=i[a.varname],null!==u&&void 0!==u)if(a.exploded&&(d=!0),c=r.isArray(u),"string"==typeof u||"number"==typeof u||"boolean"==typeof u)h.push(s(a,m,u));else{if(a.maxLength&&t(u))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+e(u));a.exploded?t(u)&&h.push(m.named?p(a,m,u):l(m,u)):(m.named||!n(u))&&h.push(f(a,m,u))}return 0===h.length?"":m.first+r.join(h,m.separator)},o}(),c=function(){function e(e,t){this.templateText=e,this.expressions=t,r.deepFreeze(this)}return e.prototype.toString=function(){return this.templateText},e.prototype.expand=function(e){var t,n="";for(t=0;t<this.expressions.length;t+=1)n+=this.expressions[t].expand(e);return n},e.parse=p,e.UriTemplateError=n,e}();e(c)}(function(t){"use strict";"undefined"!=typeof module?module.exports=t:"function"==typeof define?define([],function(){return t}):"undefined"!=typeof window?window.UriTemplate=t:e.UriTemplate=t})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{}],146:[function(_dereq_,module,exports){
(function(e,t){var s=_dereq_("url"),r=_dereq_("child_process").spawn,n=_dereq_("fs");exports.XMLHttpRequest=function(){var o,a,i=this,h=_dereq_("http"),d=_dereq_("https"),u={},c=!1,E={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},p=E,l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],f=["TRACE","TRACK","CONNECT"],T=!1,S=!1,y={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;var R=function(e){return c||e&&-1===l.indexOf(e.toLowerCase())},N=function(e){return e&&-1===f.indexOf(e)};this.open=function(e,t,s,r,n){if(this.abort(),S=!1,!N(e))throw"SecurityError: Request method not allowed";u={method:e,url:t.toString(),async:"boolean"!=typeof s?!0:s,user:r||null,password:n||null},v(this.OPENED)},this.setDisableHeaderCheck=function(e){c=e},this.setRequestHeader=function(e,t){if(this.readyState!=this.OPENED)throw"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN";if(!R(e))return void console.warn('Refused to set unsafe header "'+e+'"');if(T)throw"INVALID_STATE_ERR: send flag is true";p[e]=t},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&a.headers[e.toLowerCase()]&&!S?a.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||S)return"";var e="";for(var t in a.headers)"set-cookie"!==t&&"set-cookie2"!==t&&(e+=t+": "+a.headers[t]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&p[e]?p[e]:""},this.send=function(c){function E(e){if(a=e,302===a.statusCode||303===a.statusCode||307===a.statusCode){u.url=a.headers.location;var t=s.parse(u.url);f=t.hostname;var r={hostname:t.hostname,port:t.port,path:t.path,method:303===a.statusCode?"GET":u.method,headers:p};return o=m(r,E).on("error",l),void o.end()}a.setEncoding("utf8"),v(i.HEADERS_RECEIVED),i.status=a.statusCode,a.on("data",function(e){e&&(i.responseText+=e),T&&v(i.LOADING)}),a.on("end",function(){T&&(v(i.DONE),T=!1)}),a.on("error",function(e){i.handleError(e)})}function l(e){i.handleError(e)}if(this.readyState!=this.OPENED)throw"INVALID_STATE_ERR: connection must be opened before send() is called";if(T)throw"INVALID_STATE_ERR: send has already been called";var f,y=!1,R=!1,N=s.parse(u.url);switch(N.protocol){case"https:":y=!0;case"http:":f=N.hostname;break;case"file:":R=!0;break;case void 0:case"":f="localhost";break;default:throw"Protocol not supported."}if(R){if("GET"!==u.method)throw"XMLHttpRequest: Only GET method is supported";if(u.async)n.readFile(N.pathname,"utf8",function(e,t){e?i.handleError(e):(i.status=200,i.responseText=t,v(i.DONE))});else try{this.responseText=n.readFileSync(N.pathname,"utf8"),this.status=200,v(i.DONE)}catch(O){this.handleError(O)}}else{var D=N.port||(y?443:80),g=N.pathname+(N.search?N.search:"");if(p.Host=f,y&&443===D||80===D||(p.Host+=":"+N.port),u.user){"undefined"==typeof u.password&&(u.password="");var w=new t(u.user+":"+u.password);p.Authorization="Basic "+w.toString("base64")}"GET"===u.method||"HEAD"===u.method?c=null:c?(p["Content-Length"]=t.isBuffer(c)?c.length:t.byteLength(c),p["Content-Type"]||(p["Content-Type"]="text/plain;charset=UTF-8")):"POST"===u.method&&(p["Content-Length"]=0);var q={host:f,port:D,path:g,method:u.method,headers:p,agent:!1};if(S=!1,u.async){var m=y?d.request:h.request;T=!0,i.dispatchEvent("readystatechange"),o=m(q,E).on("error",l),c&&o.write(c),o.end(),i.dispatchEvent("loadstart")}else{var L=".node-xmlhttprequest-content-"+e.pid,x=".node-xmlhttprequest-sync-"+e.pid;n.writeFileSync(x,"","utf8");for(var A="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(y?"s":"")+".request;var options = "+JSON.stringify(q)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+L+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('"+x+"');});response.on('error', function(error) {fs.writeFileSync('"+L+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+x+"');});}).on('error', function(error) {fs.writeFileSync('"+L+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+x+"');});"+(c?"req.write('"+c.replace(/'/g,"\\'")+"');":"")+"req.end();",H=r(e.argv[0],["-e",A]);n.existsSync(x););if(i.responseText=n.readFileSync(L,"utf8"),H.stdin.end(),n.unlinkSync(L),i.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var C=i.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");i.handleError(C)}else i.status=i.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),i.responseText=i.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),v(i.DONE)}}},this.handleError=function(e){this.status=503,this.statusText=e,this.responseText=e.stack,S=!0,v(this.DONE)},this.abort=function(){o&&(o.abort(),o=null),p=E,this.responseText="",this.responseXML="",S=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!T||this.readyState===this.DONE||(T=!1,v(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(e,t){e in y||(y[e]=[]),y[e].push(t)},this.removeEventListener=function(e,t){e in y&&(y[e]=y[e].filter(function(e){return e!==t}))},this.dispatchEvent=function(e){if("function"==typeof i["on"+e]&&i["on"+e](),e in y)for(var t=0,s=y[e].length;s>t;t++)y[e][t].call(i)};var v=function(e){i.readyState!==e&&(i.readyState=e,(u.async||i.readyState<i.OPENED||i.readyState===i.DONE)&&i.dispatchEvent("readystatechange"),i.readyState!==i.DONE||S||(i.dispatchEvent("load"),i.dispatchEvent("loadend")))}}}).call(this,_dereq_("/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),_dereq_("buffer").Buffer);
},{"/private/var/www/appgyver/steroids/steroids-data/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":56,"buffer":46,"child_process":42,"fs":42,"http":50,"https":54,"url":69}],147:[function(_dereq_,module,exports){
function noop(){}function isHost(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function getXHR(){if(root.XMLHttpRequest&&("file:"!=root.location.protocol||!root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}function isObject(t){return t===Object(t)}function serialize(t){if(!isObject(t))return t;var e=[];for(var r in t)null!=t[r]&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}function parseString(t){for(var e,r,s={},i=t.split("&"),n=0,o=i.length;o>n;++n)r=i[n],e=r.split("="),s[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return s}function parseHeader(t){var e,r,s,i,n=t.split(/\r?\n/),o={};n.pop();for(var u=0,a=n.length;a>u;++u)r=n[u],e=r.indexOf(":"),s=r.slice(0,e).toLowerCase(),i=trim(r.slice(e+1)),o[s]=i;return o}function type(t){return t.split(/ *; */).shift()}function params(t){return reduce(t.split(/ *; */),function(t,e){var r=e.split(/ *= */),s=r.shift(),i=r.shift();return s&&i&&(t[s]=i),t},{})}function Response(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text=this.xhr.responseText,this.setStatusProperties(this.xhr.status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function Request(t,e){var r=this;Emitter.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var e=new Response(r);"HEAD"==t&&(e.text=null),r.callback(null,e)})}function request(t,e){return"function"==typeof e?new Request("GET",t).end(e):1==arguments.length?new Request("GET",t):new Request(t,e)}var Emitter=_dereq_("emitter"),reduce=_dereq_("reduce"),root="undefined"==typeof window?this:window,trim="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},Response.prototype.get=function(t){return this.header[t.toLowerCase()]},Response.prototype.setHeaderProperties=function(){var t=this.header["content-type"]||"";this.type=type(t);var e=params(t);for(var r in e)this[r]=e[r]},Response.prototype.parseBody=function(t){var e=request.parse[this.type];return e?e(t):null},Response.prototype.setStatusProperties=function(t){var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t||1223==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},Response.prototype.toError=function(){var t=this.req,e=t.method,r=t.path,s="cannot "+e+" "+r+" ("+this.status+")",i=new Error(s);return i.status=this.status,i.method=e,i.path=r,i},request.Response=Response,Emitter(Request.prototype),Request.prototype.use=function(t){return t(this),this},Request.prototype.timeout=function(t){return this._timeout=t,this},Request.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},Request.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},Request.prototype.set=function(t,e){if(isObject(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},Request.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},Request.prototype.type=function(t){return this.set("Content-Type",request.types[t]||t),this},Request.prototype.accept=function(t){return this.set("Accept",request.types[t]||t),this},Request.prototype.auth=function(t,e){var r=btoa(t+":"+e);return this.set("Authorization","Basic "+r),this},Request.prototype.query=function(t){return"string"!=typeof t&&(t=serialize(t)),t&&this._query.push(t),this},Request.prototype.send=function(t){var e=isObject(t),r=this.getHeader("Content-Type");if(e&&isObject(this._data))for(var s in t)this._data[s]=t[s];else"string"==typeof t?(r||this.type("form"),r=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return e?(r||this.type("json"),this):this},Request.prototype.callback=function(t,e){var r=this._callback;return 2==r.length?r(t,e):t?this.emit("error",t):void r(e)},Request.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},Request.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},Request.prototype.withCredentials=function(){return this._withCredentials=!0,this},Request.prototype.end=function(t){var e=this,r=this.xhr=getXHR(),s=this._query.join("&"),i=this._timeout,n=this._data;if(this._callback=t||noop,r.onreadystatechange=function(){return 4==r.readyState?0==r.status?e.aborted?e.timeoutError():e.crossDomainError():void e.emit("end"):void 0},r.upload&&(r.upload.onprogress=function(t){t.percent=t.loaded/t.total*100,e.emit("progress",t)}),i&&!this._timer&&(this._timer=setTimeout(function(){e.abort()},i)),s&&(s=request.serializeObject(s),this.url+=~this.url.indexOf("?")?"&"+s:"?"+s),r.open(this.method,this.url,!0),this._withCredentials&&(r.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!isHost(n)){var o=request.serialize[this.getHeader("Content-Type")];o&&(n=o(n))}for(var u in this.header)null!=this.header[u]&&r.setRequestHeader(u,this.header[u]);return this.emit("request",this),r.send(n),this},request.Request=Request,request.get=function(t,e,r){var s=request("GET",t);return"function"==typeof e&&(r=e,e=null),e&&s.query(e),r&&s.end(r),s},request.head=function(t,e,r){var s=request("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.del=function(t,e){var r=request("DELETE",t);return e&&r.end(e),r},request.patch=function(t,e,r){var s=request("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.post=function(t,e,r){var s=request("POST",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.put=function(t,e,r){var s=request("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},module.exports=request;
},{"emitter":148,"reduce":149}],148:[function(_dereq_,module,exports){
function Emitter(t){return t?mixin(t):void 0}function mixin(t){for(var i in Emitter.prototype)t[i]=Emitter.prototype[i];return t}module.exports=Emitter,Emitter.prototype.on=function(t,i){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(i),this},Emitter.prototype.once=function(t,i){function e(){s.off(t,e),i.apply(this,arguments)}var s=this;return this._callbacks=this._callbacks||{},i._off=e,this.on(t,e),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=function(t,i){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks[t];if(!e)return this;if(1==arguments.length)return delete this._callbacks[t],this;var s=e.indexOf(i._off||i);return~s&&e.splice(s,1),this},Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};var i=[].slice.call(arguments,1),e=this._callbacks[t];if(e){e=e.slice(0);for(var s=0,r=e.length;r>s;++s)e[s].apply(this,i)}return this},Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length};
},{}],149:[function(_dereq_,module,exports){
module.exports=function(l,n,e){for(var r=0,t=l.length,u=3==arguments.length?e:l[r++];t>r;)u=n.call(null,u,l[r],++r,l);return u};
},{}],150:[function(_dereq_,module,exports){
module.exports={ajax:_dereq_("./data/ajax"),reactive:_dereq_("./data/reactive"),resource:_dereq_("./data/resource"),resources:{builtio:_dereq_("./data/resources/builtio"),raml:_dereq_("./data/resources/raml"),restful:_dereq_("./data/resources/restful")},schema:{json:_dereq_("./data/schema/json"),raml:_dereq_("./data/schema/raml")},service:_dereq_("./data/service"),storage:_dereq_("./data/storage"),types:_dereq_("./data/types")};
//# sourceMappingURL=out.js.map

},{"./data/ajax":151,"./data/reactive":152,"./data/resource":153,"./data/resources/builtio":154,"./data/resources/raml":155,"./data/resources/restful":156,"./data/schema/json":157,"./data/schema/raml":158,"./data/service":159,"./data/storage":160,"./data/types":161}],151:[function(_dereq_,module,exports){
var Promise,ajax,request,requestBuilderToResponsePromise,requestDataByMethod,responsetoResponseBody,superagent;superagent=_dereq_("superagent"),Promise=_dereq_("bluebird"),requestBuilderToResponsePromise=function(e){return new Promise(function(r,t){return e.end(function(e,u){return e?t(e):r(u)})})},responsetoResponseBody=function(e){if(e.error)throw new Error(e.status);if(e.body)return e.body;if(e.text)return e.text;throw new Error("Empty response")},request=function(e,r,t){return null==t&&(t={}),requestBuilderToResponsePromise(function(){var u,s,n,o;if(null==superagent[e])throw new Error("No such request builder method: "+e);if(s=superagent[e](null!=t.baseUrl?[t.baseUrl,r].join(""):r),t.headers){o=t.headers||{};for(u in o)n=o[u],s.set(u,n)}return t.data&&s.send(t.data),t.query&&s.query(t.query),null!=t.type&&s.type(t.type),null!=t.accept&&s.accept(t.accept),t.buffer&&null!=s.buffer&&s.buffer(),s}())},requestDataByMethod=function(e){return function(r,t){return null==t&&(t={}),request(e,r,t).then(responsetoResponseBody)}},module.exports=ajax={request:request,get:requestDataByMethod("get"),post:requestDataByMethod("post"),del:requestDataByMethod("del"),put:requestDataByMethod("put")};
//# sourceMappingURL=out.js.map

},{"bluebird":7,"superagent":147}],152:[function(_dereq_,module,exports){
var Bacon,visibility,visibilityState,whenVisible;Bacon=_dereq_("baconjs").Bacon,visibility=null!=("undefined"!=typeof window&&null!==window?window.document:void 0)?{changes:Bacon.fromEventTarget(window.document,"visibilitychange"),defaultState:window.document.visibilityState}:{changes:Bacon.once({target:{visibilitystate:"visible"}}),defaultState:"hidden"},visibilityState=visibility.changes.map(function(i){var t;return null!=(t=i.target)?t.visibilityState:void 0}).toProperty(visibility.defaultState).map(function(i){switch(i){case"visible":return!0;case"hidden":return!1;default:return!1}}),whenVisible=visibilityState.filter(function(i){return i}),module.exports={whenVisible:whenVisible};
//# sourceMappingURL=out.js.map

},{"baconjs":4}],153:[function(_dereq_,module,exports){
var ResourceProxy,loadSchema,ramlSchemaFromFile,ramlSchemaToResource,resourceByName,__slice=[].slice;ramlSchemaFromFile=_dereq_("./schema/raml").fromFile,ramlSchemaToResource=_dereq_("./resources/raml"),loadSchema=function(){return ramlSchemaFromFile("//localhost/cloud.raml")},ResourceProxy=function(){function e(e){this.resource=e}var r;return r=function(e){return function(){var r;return r=1<=arguments.length?__slice.call(arguments,0):[],this.resource.then(function(o){return o[e].apply(o,r)})}},e.prototype.findAll=r("collection"),e.prototype.create=r("create"),e.prototype.find=r("find"),e.prototype.update=r("update"),e.prototype.remove=r("destroy"),e}(),module.exports=resourceByName=function(e){return new ResourceProxy(loadSchema().then(ramlSchemaToResource(e)))};
//# sourceMappingURL=out.js.map

},{"./resources/raml":155,"./schema/raml":158}],154:[function(_dereq_,module,exports){
var builtio,builtioResourceBaseUrl,restful,types;restful=_dereq_("./restful"),types=_dereq_("../types"),builtioResourceBaseUrl=function(e){return"https://api.built.io/v1/classes/"+e},module.exports=builtio=function(e){var t,r,s,o;return t=e.applicationApiKey,r=e.applicationUid,s=e.name,o=e.schema,restful({baseUrl:builtioResourceBaseUrl(s),headers:{application_api_key:t,application_uid:r}},function(e){return{findAll:e.get({path:function(){return"/objects.json"},receive:e.response(types.Property("objects",types.List(o)))}),find:e.get({path:function(e){return"/objects/"+e+".json"},receive:e.response(types.Property("object",o))}),create:e.post({send:e.request(types.projections.Property("object")),path:function(){return"/objects"},receive:e.response(types.Property("object",o))}),del:e["delete"]({path:function(e){return"/objects/"+e+".json"}}),update:e.put({send:e.request(types.projections.Property("object")),path:function(e){return"/objects/"+e+".json"},receive:e.response(types.Property("object",o))})}})};
//# sourceMappingURL=out.js.map

},{"../types":161,"./restful":156}],155:[function(_dereq_,module,exports){
var ramlResourceFromSchema,requestValidationForAction,responseValidationsForAction,restful,types,uriToFunction,_,__slice=[].slice;_={template:_dereq_("lodash-node/modern/utilities/template"),zipObject:_dereq_("lodash-node/modern/arrays/zipObject")},restful=_dereq_("./restful"),types=_dereq_("../types"),uriToFunction=function(e){var r;return r=_.template(e,null,{interpolate:/{([\s\S]+?)}/g}),function(e){return r({id:e})}},responseValidationsForAction=function(){var e;return e=function(r){var t,n,o;return r?(o=r.split("."),t=o[0],n=2<=o.length?__slice.call(o,1):[],n.length?types.Property(t,e(n.join("."))):types.Property(t)):types.Any},function(r){var t;return r.responses.length?_.zipObject(function(){var n,o,i,s;for(i=r.responses,s=[],n=0,o=i.length;o>n;n++)t=i[n],s.push([t.code,e(t.metadata.rootKey)]);return s}()):types.Any}}(),requestValidationForAction=function(e){return null!=e.metadata.rootKey?types.projections.Property(e.metadata.rootKey):types.Any},module.exports=ramlResourceFromSchema=function(e){return function(r){return restful({baseUrl:r.baseUri},function(t){var n,o,i,s,a,u;o={},a=r.resource(e).actionsByName();for(i in a)u=a[i],s=u.relativeUri,n=u.action,o[i]=t[n.method]({path:uriToFunction(s),send:t.request(requestValidationForAction(n)),receive:t.response(responseValidationsForAction(n)),options:{headers:n.headerDefaults()}});return o})}};
//# sourceMappingURL=out.js.map

},{"../types":161,"./restful":156,"lodash-node/modern/arrays/zipObject":72,"lodash-node/modern/utilities/template":119}],156:[function(_dereq_,module,exports){
var Promise,ajax,assert,deepDefaults,responseValidator,rest,restMethodBuilder,restful,types,urlify,validationToPromise,validatorToPromised,validatorToResponseValidator,_,__slice=[].slice;_={mapValues:_dereq_("lodash-node/modern/objects/mapValues"),partialRight:_dereq_("lodash-node/modern/functions/partialRight"),merge:_dereq_("lodash-node/modern/objects/merge"),defaults:_dereq_("lodash-node/modern/objects/defaults")},assert=_dereq_("assert-plus"),Promise=_dereq_("bluebird"),ajax=_dereq_("../ajax"),types=_dereq_("../types"),validationToPromise=function(e){return e.fold(function(e){return Promise.reject(new Error(JSON.stringify(e)))},function(e){return Promise.resolve(e)})},validatorToPromised=function(e){return function(){var r;return r=1<=arguments.length?__slice.call(arguments,0):[],validationToPromise(e.apply(null,r))}},deepDefaults=_.partialRight(_.merge,_.defaults),validatorToResponseValidator=function(e){var r,t;return types.OneOf("function"==typeof e?[types.Property("body",e),types.Property("text",e)]:function(){var n;n=[];for(t in e)r=e[t],n.push(validatorToResponseValidator(r));return n}())},responseValidator=function(e){return function(e){return function(r){return r.error?Failure([r.error]):e(r)}}(validatorToResponseValidator(e))},urlify=function(e){var r,t,n,o;if(null==e)return"";switch(Object.prototype.toString.call(e)){case"[object Object]":return _.mapValues(e,urlify);case"[object Array]":for(o=[],t=0,n=e.length;n>t;t++)r=e[t],o.push(urlify(r));return o;default:return encodeURIComponent(e)}},rest={getter:function(e){var r,t,n;return t=e.path,n=e.receive,r=e.options,assert.func(t,"path"),assert.func(n,"receive"),assert.optionalObject(r,"options"),function(){var e,o,a,s,u,i,l,c;return e=1<=arguments.length?__slice.call(arguments,0):[],o=2<=e.length?__slice.call(e,0,l=e.length-1):(l=0,[]),s=e[l++],c="object"==typeof s?[o,s]:[e,{}],i=c[0],a=c[1],u=t.apply(null,urlify(i)),ajax.request("get",u,_.defaults({query:a},r||{})).then(validatorToPromised(n))}},poster:function(e){var r,t,n,o,a;return n=e.path,a=e.send,o=e.receive,t=e.options,assert.func(n,"path"),assert.func(a,"send"),assert.func(o,"receive"),assert.optionalObject(t,"options"),r=function(e){var r;return r=n(urlify(e)),ajax.request("post",r,_.defaults({data:e},t||{}))},function(e){return validationToPromise(a(e)).then(r).then(validatorToPromised(o))}},deleter:function(e){var r,t;return t=e.path,r=e.options,function(){var e,n;return e=1<=arguments.length?__slice.call(arguments,0):[],n=t.apply(null,urlify(e)),ajax.del(n,r||{})}},putter:function(e){var r,t,n,o,a;return n=e.path,a=e.send,o=e.receive,t=e.options,assert.func(n,"path"),assert.func(a,"send"),assert.func(o,"receive"),assert.optionalObject(t,"options"),r=function(e){var r;return r=n.apply(null,urlify(e)),function(e){return ajax.request("put",r,_.defaults({data:e},t||{}))}},function(){var e,t,n;return e=2<=arguments.length?__slice.call(arguments,0,n=arguments.length-1):(n=0,[]),t=arguments[n++],validationToPromise(a(t)).then(r(e)).then(validatorToPromised(o))}}},restMethodBuilder=function(e){var r;return r=function(r){return function(t){return r(deepDefaults(t,{options:e}))}},{get:r(rest.getter),post:r(rest.poster),"delete":r(rest.deleter),put:r(rest.putter),response:responseValidator,request:function(e){return e}}},module.exports=restful=function(e,r){return r(restMethodBuilder(e))};
//# sourceMappingURL=out.js.map

},{"../ajax":151,"../types":161,"assert-plus":3,"bluebird":7,"lodash-node/modern/functions/partialRight":77,"lodash-node/modern/objects/defaults":101,"lodash-node/modern/objects/mapValues":110,"lodash-node/modern/objects/merge":111}],157:[function(_dereq_,module,exports){
var ajax,arrayTypeFromItemSchema,objectTypeFromPropertySchema,typeFromJsonSchema,types,_;_={mapValues:_dereq_("lodash-node/modern/objects/mapValues"),contains:_dereq_("lodash-node/modern/collections/contains")},types=_dereq_("../types"),ajax=_dereq_("../ajax"),arrayTypeFromItemSchema=function(e){return types.List(typeFromJsonSchema(e))},objectTypeFromPropertySchema=function(e,r){return null==e?types.Map(types.Any):types.Object(_.mapValues(e,function(e,t){var o;return o=typeFromJsonSchema(e),(null!=e?e.required:void 0)||_.contains(r,t)?o:types.Optional(o)}))},typeFromJsonSchema=function(e){switch(null==e&&(e={}),null!=e?e.type:void 0){case"string":return types.String;case"number":return types.Number;case"boolean":return types.Boolean;case"object":return objectTypeFromPropertySchema(e.properties||null,e.required||[]);case"array":return arrayTypeFromItemSchema(e.items||{});default:return types.Any}},module.exports={fromFile:function(e){return ajax.get(e)},toType:typeFromJsonSchema};
//# sourceMappingURL=out.js.map

},{"../ajax":151,"../types":161,"lodash-node/modern/collections/contains":73,"lodash-node/modern/objects/mapValues":110}],158:[function(_dereq_,module,exports){
var FileReader,Promise,ServiceSchema,ajax,ramlParser,_,__hasProp={}.hasOwnProperty,__extends=function(e,r){function t(){this.constructor=e}for(var n in r)__hasProp.call(r,n)&&(e[n]=r[n]);return t.prototype=r.prototype,e.prototype=new t,e.__super__=r.prototype,e};_={merge:_dereq_("lodash-node/modern/objects/merge")},Promise=_dereq_("bluebird"),ajax=_dereq_("../ajax"),ramlParser=_dereq_("raml-parser"),FileReader=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return __extends(r,e),r.prototype.fetchFileAsync=function(e){return ajax.request("get",e,{buffer:!0}).then(function(e){if(e.error)throw new Error(e.status);if(e.text)return e.text;throw new Error("Empty response")})},r}(ramlParser.FileReader),ServiceSchema=function(){function e(e){var t,n;this.title=e.title,this.baseUri=e.baseUri,n=e.resources,this.resources=function(){var e,o,i;for(i=[],e=0,o=n.length;o>e;e++)t=n[e],i.push(new r(t));return i}()}var r;return e.prototype.resource=function(e){var r,t,n,o;for(o=this.resources,t=0,n=o.length;n>t;t++)if(r=o[t],r.metadata.name===e)return r;throw new Error("Resource '"+e+"' not found in schema")},r=function(){function e(n){var o,i,a,u,s;this.relativeUri=n.relativeUri,a=n.methods,s=n.resources,o=n.description,this.actions=function(){var e,t,n,o;for(n=a||[],o=[],e=0,t=n.length;t>e;e++)i=n[e],o.push(new r(i));return o}(),this.resources=function(){var r,t,n,o;for(n=s||[],o=[],r=0,t=n.length;t>r;r++)u=n[r],o.push(new e(u));return o}(),this.metadata=new t(JSON.parse(o||"{}"))}var r,t;return e.prototype.actionsByName=function(){var e,r;return e=function(e,r){var t,n,o,i;for(n={},o=0,i=r.length;i>o;o++)t=r[o],n[t.name()]={relativeUri:e,action:t};return n},r=function(t,n){var o,i,a,u,s;for(o={},u=0,s=n.length;s>u;u++)i=n[u],a=[t,i.relativeUri].join(""),_.merge(o,e(a,i.actions),r(a,i.resources));return o},function(){return r("",[this])}}(),t=function(){function e(e){var r;r=e.resourceName,this.name=r}return e}(),r=function(){function e(e){var o,i,a,u,s,c,f;this.method=e.method,this.body=e.body,u=e.headers,f=e.responses,i=e.description,this.responses=function(){var e;e=[];for(o in f)c=f[o],e.push(new n(o,c||{}));return e}(),this.headers=function(){var e;e=[];for(s in u)a=u[s],e.push(new t(s,a||{}));return e}(),this.metadata=new r(JSON.parse(i||"{}"))}var r,t,n;return e.prototype.name=function(){return this.metadata.name||""},e.prototype.headerDefaults=function(){var e,r,t,n,o;for(e={},o=this.headers,t=0,n=o.length;n>t;t++)r=o[t],null!=r["default"]&&(e[r.name]=r["default"]);return e},r=function(){function e(e){var r;r=e.action,this.rootKey=e.rootKey,this.name=r}return e}(),n=function(){function e(e,t){var n;this.code=e,this.body=null!=(n=t.body)?n:{},this.metadata=new r(JSON.parse(t.description||"{}"))}var r;return r=function(){function e(e){this.rootKey=e.rootKey}return e}(),e}(),t=function(){function e(e,r){this.name=e,this["default"]=r["default"]}return e}(),e}(),e}(),e}(),module.exports={fromFile:function(e){return Promise.cast(ramlParser.loadFile(e,{reader:new FileReader})).then(module.exports.fromObject)},fromObject:function(e){return new ServiceSchema(e)},toResource:function(){return{}}};
//# sourceMappingURL=out.js.map

},{"../ajax":151,"bluebird":7,"lodash-node/modern/objects/merge":111,"raml-parser":130}],159:[function(_dereq_,module,exports){
var loadSchema,ramlSchemaFromFile,ramlSchemaToResource,serviceByName,__slice=[].slice;ramlSchemaFromFile=_dereq_("./schema/raml").fromFile,ramlSchemaToResource=_dereq_("./resources/raml"),loadSchema=function(){return ramlSchemaFromFile("//localhost/cloud.raml")},module.exports=serviceByName=function(e){return function(){var r;return r=1<=arguments.length?__slice.call(arguments,0):[],loadSchema().then(ramlSchemaToResource(e)).then(function(e){return e.invoke.apply(e,r)})}};
//# sourceMappingURL=out.js.map

},{"./resources/raml":155,"./schema/raml":158}],160:[function(_dereq_,module,exports){
var Bacon,LocalStorageProperty,PubSubChannel,__bind=function(t,n){return function(){return t.apply(n,arguments)}};Bacon=_dereq_("baconjs").Bacon,PubSubChannel=function(){function t(t){this.name=t,this.subscribe=__bind(this.subscribe,this),this.publish=__bind(this.publish,this),this.outbound=e(this.name),this.inbound=n(this.name)}var n,e;return e=function(t){var n;return n=new Bacon.Bus,n.map(function(n){return{channel:t,message:n}}).onValue(function(t){return window.postMessage(t)}),n},n=function(t){return Bacon.fromEventTarget(window,"message").filter(function(n){return n.data.channel===t}).map(function(t){return t.data.message})},t.prototype.publish=function(t){return this.outbound.push(t)},t.prototype.subscribe=function(t){return this.inbound.onValue(t)},t}(),LocalStorageProperty=function(){function t(t,n){this.name=t,this._defaultValue=null!=n?n:null,this._channel=new PubSubChannel("steroids.data.storage.LocalStorageProperty:"+this.name),this.values=this._channel.outbound.merge(this._channel.inbound).toProperty(this.get()).skipDuplicates()}return t.prototype._channel=null,t.prototype._defaultValue=null,t.prototype.name=null,t.prototype.values=null,t.prototype.set=function(t){return localStorage.setItem(this.name,JSON.stringify(t)),this._channel.publish(t),this},t.prototype.get=function(){var t;return t=localStorage.getItem(this.name),null!=t?JSON.parse(t):this._defaultValue},t.prototype.unset=function(){return localStorage.removeItem(this.name),this._channel.publish(this._defaultValue),this},t}(),module.exports={property:function(t){return new LocalStorageProperty(t)}};
//# sourceMappingURL=out.js.map

},{"baconjs":4}],161:[function(_dereq_,module,exports){
module.exports=_dereq_("ag-types");
//# sourceMappingURL=out.js.map

},{"ag-types":1}]},{},[150])
(150)
});